(function(e){function t(e,t,a){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:a;default:throw new Error("Implement me")}}function a(e,t){function a(){!1===Q.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}var n=!0;return l((function(){return n&&(a(),n=!1),t.apply(this,arguments)}),t)}function n(e,t){return function(a){return u(e.call(this,a),t)}}function i(e,t){return function(a){return this.lang().ordinal(e.call(this,a),t)}}function s(){}function o(e){S(e),l(this,e)}function r(e){var t=f(e),a=t.year||0,n=t.quarter||0,i=t.month||0,s=t.week||0,o=t.day||0,r=t.hour||0,l=t.minute||0,d=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*d+6e4*l+36e5*r,this._days=+o+7*s,this._months=+i+3*n+12*a,this._data={},this._bubble()}function l(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function d(e){return 0>e?Math.ceil(e):Math.floor(e)}function u(e,t,a){for(var n=""+Math.abs(e),i=e>=0;n.length<t;)n="0"+n;return(i?a?"+":"":"-")+n}function c(e,t,a,n){var i=t._milliseconds,s=t._days,o=t._months;n=null==n||n,i&&e._d.setTime(+e._d+i*a),s&&G(e,"Date",z(e,"Date")+s*a),o&&q(e,z(e,"Month")+o*a),n&&Q.updateOffset(e,s||o)}function m(e){return"[object Array]"===Object.prototype.toString.call(e)}function p(e,t,a){var n,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(n=0;i>n;n++)(a&&e[n]!==t[n]||!a&&h(e[n])!==h(t[n]))&&o++;return o+s}function _(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=Fe[e]||je[t]||t}return e}function f(e){var t,a,n={};for(a in e)e.hasOwnProperty(a)&&((t=_(a))&&(n[t]=e[a]));return n}function g(t){var a,n;if(0===t.indexOf("week"))a=7,n="day";else{if(0!==t.indexOf("month"))return;a=12,n="month"}Q[t]=function(i,s){var o,r,l=Q.fn._lang[t],d=[];if("number"==typeof i&&(s=i,i=e),r=function(e){var t=Q().utc().set(n,e);return l.call(Q.fn._lang,t,i||"")},null!=s)return r(s);for(o=0;a>o;o++)d.push(r(o));return d}}function h(e){var t=+e,a=0;return 0!==t&&isFinite(t)&&(a=t>=0?Math.floor(t):Math.ceil(t)),a}function y(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function M(e,t,a){return H(Q([e,11,31+t-a]),t,a).week}function b(e){return v(e)?366:365}function v(e){return e%4==0&&e%100!=0||e%400==0}function S(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[ie]<0||e._a[ie]>11?ie:e._a[se]<1||e._a[se]>y(e._a[ne],e._a[ie])?se:e._a[oe]<0||e._a[oe]>23?oe:e._a[re]<0||e._a[re]>59?re:e._a[le]<0||e._a[le]>59?le:e._a[de]<0||e._a[de]>999?de:-1,e._pf._overflowDayOfYear&&(ne>t||t>se)&&(t=se),e._pf.overflow=t)}function L(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function T(e){return e?e.toLowerCase().replace("_","-"):e}function w(e,t){return t._isUTC?Q(e).zone(t._offset||0):Q(e).local()}function D(e){var t,a,n,i,s=0,o=function(e){if(!ue[e]&&me)try{require("./lang/"+e)}catch(e){}return ue[e]};if(!e)return Q.fn._lang;if(!m(e)){if(a=o(e))return a;e=[e]}for(;s<e.length;){for(t=(i=T(e[s]).split("-")).length,n=(n=T(e[s+1]))?n.split("-"):null;t>0;){if(a=o(i.slice(0,t).join("-")))return a;if(n&&n.length>=t&&p(i,n,!0)>=t-1)break;t--}s++}return Q.fn._lang}function C(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function P(e,t){return e.isValid()?(t=k(t,e.lang()),Ue[t]||(Ue[t]=(function(e){var t,a,n=e.match(ge);for(t=0,a=n.length;a>t;t++)n[t]=qe[n[t]]?qe[n[t]]:C(n[t]);return function(i){var s="";for(t=0;a>t;t++)s+=n[t]instanceof Function?n[t].call(i,e):n[t];return s}})(t)),Ue[t](e)):e.lang().invalidDate()}function k(e,t){function a(e){return t.longDateFormat(e)||e}var n=5;for(he.lastIndex=0;n>=0&&he.test(e);)e=e.replace(he,a),he.lastIndex=0,n-=1;return e}function E(e,t){var a=t._strict;switch(e){case"Q":return Pe;case"DDDD":return Ee;case"YYYY":case"GGGG":case"gggg":return a?Ye:be;case"Y":case"G":case"g":return Ie;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return a?Ne:ve;case"S":if(a)return Pe;case"SS":if(a)return ke;case"SSS":if(a)return Ee;case"DDD":return Me;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Le;case"a":case"A":return D(t._l)._meridiemParse;case"X":return De;case"Z":case"ZZ":return Te;case"T":return we;case"SSSS":return Se;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return a?ke:ye;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return ye;case"Do":return Ce;default:return new RegExp((function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")})((function(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,a,n,i){return t||a||n||i}))})(e.replace("\\",""))))}}function Y(e){var t=(e=e||"").match(Te)||[],a=((t[t.length-1]||[])+"").match(Oe)||["-",0,0],n=60*a[1]+h(a[2]);return"+"===a[0]?-n:n}function N(e,t,a){var n,i=a._a;switch(e){case"Q":null!=t&&(i[ie]=3*(h(t)-1));break;case"M":case"MM":null!=t&&(i[ie]=h(t)-1);break;case"MMM":case"MMMM":null!=(n=D(a._l).monthsParse(t))?i[ie]=n:a._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(i[se]=h(t));break;case"Do":null!=t&&(i[se]=h(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(a._dayOfYear=h(t));break;case"YY":i[ne]=Q.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":i[ne]=h(t);break;case"a":case"A":a._isPm=D(a._l).isPM(t);break;case"H":case"HH":case"h":case"hh":i[oe]=h(t);break;case"m":case"mm":i[re]=h(t);break;case"s":case"ss":i[le]=h(t);break;case"S":case"SS":case"SSS":case"SSSS":i[de]=h(1e3*("0."+t));break;case"X":a._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":a._useUTC=!0,a._tzm=Y(t);break;case"dd":case"ddd":case"dddd":null!=(n=D(a._l).weekdaysParse(t))?(a._w=a._w||{},a._w.d=n):a._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(a._w=a._w||{},a._w[e]=h(t));break;case"gg":case"GG":a._w=a._w||{},a._w[e]=Q.parseTwoDigitYear(t)}}function I(e){var a,n,i,s,o,r,l,d;null!=(a=e._w).GG||null!=a.W||null!=a.E?(o=1,r=4,n=t(a.GG,e._a[ne],H(Q(),1,4).year),i=t(a.W,1),s=t(a.E,1)):(o=(d=D(e._l))._week.dow,r=d._week.doy,n=t(a.gg,e._a[ne],H(Q(),o,r).year),i=t(a.w,1),null!=a.d?o>(s=a.d)&&++i:s=null!=a.e?a.e+o:o),l=(function(e,t,a,n,i){var s,o=j(e,0,1).getUTCDay();return{year:(s=7*(t-1)+((a=null!=a?a:i)-i)+(i-(o=0===o?7:o)+(o>n?7:0)-(i>o?7:0))+1)>0?e:e-1,dayOfYear:s>0?s:b(e-1)+s}})(n,i,s,r,o),e._a[ne]=l.year,e._dayOfYear=l.dayOfYear}function A(e){var a,n,i,s,o=[];if(!e._d){for(i=(function(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]})(e),e._w&&null==e._a[se]&&null==e._a[ie]&&I(e),e._dayOfYear&&(s=t(e._a[ne],i[ne]),e._dayOfYear>b(s)&&(e._pf._overflowDayOfYear=!0),n=j(s,0,e._dayOfYear),e._a[ie]=n.getUTCMonth(),e._a[se]=n.getUTCDate()),a=0;3>a&&null==e._a[a];++a)e._a[a]=o[a]=i[a];for(;7>a;a++)e._a[a]=o[a]=null==e._a[a]?2===a?1:0:e._a[a];e._d=(e._useUTC?j:F).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function x(e){if(e._f!==Q.ISO_8601){e._a=[],e._pf.empty=!0;var t,a,n,i,s,o=D(e._l),r=""+e._i,l=r.length,d=0;for(n=k(e._f,o).match(ge)||[],t=0;t<n.length;t++)i=n[t],(a=(r.match(E(i,e))||[])[0])&&((s=r.substr(0,r.indexOf(a))).length>0&&e._pf.unusedInput.push(s),r=r.slice(r.indexOf(a)+a.length),d+=a.length),qe[i]?(a?e._pf.empty=!1:e._pf.unusedTokens.push(i),N(i,a,e)):e._strict&&!a&&e._pf.unusedTokens.push(i);e._pf.charsLeftOver=l-d,r.length>0&&e._pf.unusedInput.push(r),e._isPm&&e._a[oe]<12&&(e._a[oe]+=12),!1===e._isPm&&12===e._a[oe]&&(e._a[oe]=0),A(e),S(e)}else O(e)}function R(e){var t,a,n,i,s;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)s=0,(t=l({},e))._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},t._f=e._f[i],x(t),L(t)&&(s+=t._pf.charsLeftOver,s+=10*t._pf.unusedTokens.length,t._pf.score=s,(null==n||n>s)&&(n=s,a=t));l(e,a||t)}function O(e){var t,a,n=e._i,i=Ae.exec(n);if(i){for(e._pf.iso=!0,t=0,a=xe.length;a>t;t++)if(xe[t][1].exec(n)){e._f=xe[t][0]+(i[6]||" ");break}for(t=0,a=Re.length;a>t;t++)if(Re[t][1].exec(n)){e._f+=Re[t][0];break}n.match(Te)&&(e._f+="Z"),x(e)}else e._isValid=!1}function B(t){var a=t._i,n=pe.exec(a);a===e?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof a?(function(e){O(e),!1===e._isValid&&(delete e._isValid,Q.createFromInputFallback(e))})(t):m(a)?(t._a=a.slice(0),A(t)):(function(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date})(a)?t._d=new Date(+a):"object"==typeof a?(function(e){var t;e._d||(t=f(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],A(e))})(t):"number"==typeof a?t._d=new Date(a):Q.createFromInputFallback(t)}function F(e,t,a,n,i,s,o){var r=new Date(e,t,a,n,i,s,o);return 1970>e&&r.setFullYear(e),r}function j(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function U(e,t,a,n,i){return i.relativeTime(t||1,!!a,e,n)}function H(e,t,a){var n,i=a-t,s=a-e.day();return s>i&&(s-=7),i-7>s&&(s+=7),n=Q(e).add("d",s),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function V(t){var a=t._i,n=t._f;return null===a||n===e&&""===a?Q.invalid({nullInput:!0}):("string"==typeof a&&(t._i=a=D().preparse(a)),Q.isMoment(a)?(t=(function(e){var t,a={};for(t in e)e.hasOwnProperty(t)&&ce.hasOwnProperty(t)&&(a[t]=e[t]);return a})(a))._d=new Date(+a._d):n?m(n)?R(t):x(t):B(t),new o(t))}function W(e,t){var a,n;if(1===t.length&&m(t[0])&&(t=t[0]),!t.length)return Q();for(a=t[0],n=1;n<t.length;++n)t[n][e](a)&&(a=t[n]);return a}function q(e,t){var a;return"string"==typeof t&&"number"!=typeof(t=e.lang().monthsParse(t))?e:(a=Math.min(e.date(),y(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,a),e)}function z(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function G(e,t,a){return"Month"===t?q(e,a):e._d["set"+(e._isUTC?"UTC":"")+t](a)}function K(e,t){return function(a){return null!=a?(G(this,e,a),Q.updateOffset(this,t),this):z(this,e)}}function J(e){Q.duration.fn[e]=function(){return this._data[e]}}function X(e,t){Q.duration.fn["as"+e]=function(){return+this/t}}function Z(e){"undefined"==typeof ender&&($=te.moment,te.moment=e?a("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",Q):Q)}for(var Q,$,ee,te="undefined"!=typeof global?global:this,ae=Math.round,ne=0,ie=1,se=2,oe=3,re=4,le=5,de=6,ue={},ce={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_tzm:null,_isUTC:null,_offset:null,_pf:null,_lang:null},me="undefined"!=typeof module&&module.exports,pe=/^\/?Date\((\-?\d+)/i,_e=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,fe=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ge=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,he=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,ye=/\d\d?/,Me=/\d{1,3}/,be=/\d{1,4}/,ve=/[+\-]?\d{1,6}/,Se=/\d+/,Le=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Te=/Z|[\+\-]\d\d:?\d\d/gi,we=/T/i,De=/[\+\-]?\d+(\.\d{1,3})?/,Ce=/\d{1,2}/,Pe=/\d/,ke=/\d\d/,Ee=/\d{3}/,Ye=/\d{4}/,Ne=/[+-]?\d{6}/,Ie=/[+-]?\d+/,Ae=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Re=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Oe=/([\+\-]|\d\d)/gi,Be=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Fe={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},je={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Ue={},He={s:45,m:45,h:22,dd:25,dm:45,dy:345},Ve="DDD w W M D d".split(" "),We="M D H h m s w W".split(" "),qe={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},YYYYYY:function(){var e=this.year();return(e>=0?"+":"-")+u(Math.abs(e),6)},gg:function(){return u(this.weekYear()%100,2)},gggg:function(){return u(this.weekYear(),4)},ggggg:function(){return u(this.weekYear(),5)},GG:function(){return u(this.isoWeekYear()%100,2)},GGGG:function(){return u(this.isoWeekYear(),4)},GGGGG:function(){return u(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return h(this.milliseconds()/100)},SS:function(){return u(h(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},SSSS:function(){return u(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(h(e/60),2)+":"+u(h(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+u(h(e/60),2)+u(h(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ze=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Ve.length;)ee=Ve.pop(),qe[ee+"o"]=i(qe[ee],ee);for(;We.length;)ee=We.pop(),qe[ee+ee]=n(qe[ee],2);for(qe.DDDD=n(qe.DDD,3),l(s.prototype,{set:function(e){var t,a;for(a in e)"function"==typeof(t=e[a])?this[a]=t:this["_"+a]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,a,n;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(a=Q.utc([2e3,t]),n="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[t]=new RegExp(n.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,a,n;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(a=Q([2e3,1]).day(t),n="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[t]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,a){return e>11?a?"pm":"PM":a?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var a=this._calendar[e];return"function"==typeof a?a.apply(t):a},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,a,n){var i=this._relativeTime[a];return"function"==typeof i?i(e,t,a,n):i.replace(/%d/i,e)},pastFuture:function(e,t){var a=this._relativeTime[e>0?"future":"past"];return"function"==typeof a?a(t):a.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return H(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(Q=function(t,a,n,i){var s;return"boolean"==typeof n&&(i=n,n=e),(s={})._isAMomentObject=!0,s._i=t,s._f=a,s._l=n,s._strict=i,s._isUTC=!1,s._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},V(s)}).suppressDeprecationWarnings=!1,Q.createFromInputFallback=a("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",(function(e){e._d=new Date(e._i)})),Q.min=function(){var e=[].slice.call(arguments,0);return W("isBefore",e)},Q.max=function(){var e=[].slice.call(arguments,0);return W("isAfter",e)},Q.utc=function(t,a,n,i){var s;return"boolean"==typeof n&&(i=n,n=e),(s={})._isAMomentObject=!0,s._useUTC=!0,s._isUTC=!0,s._l=n,s._i=t,s._f=a,s._strict=i,s._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},V(s).utc()},Q.unix=function(e){return Q(1e3*e)},Q.duration=function(e,t){var a,n,i,s=e,o=null;return Q.isDuration(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(o=_e.exec(e))?(a="-"===o[1]?-1:1,s={y:0,d:h(o[se])*a,h:h(o[oe])*a,m:h(o[re])*a,s:h(o[le])*a,ms:h(o[de])*a}):(o=fe.exec(e))&&(a="-"===o[1]?-1:1,s={y:(i=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*a})(o[2]),M:i(o[3]),d:i(o[4]),h:i(o[5]),m:i(o[6]),s:i(o[7]),w:i(o[8])}),n=new r(s),Q.isDuration(e)&&e.hasOwnProperty("_lang")&&(n._lang=e._lang),n},Q.version="2.7.0",Q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",Q.ISO_8601=function(){},Q.momentProperties=ce,Q.updateOffset=function(){},Q.relativeTimeThreshold=function(t,a){return He[t]!==e&&(He[t]=a,!0)},Q.lang=function(e,t){return e?(t?(function(e,t){t.abbr=e,ue[e]||(ue[e]=new s),ue[e].set(t),ue[e]})(T(e),t):null===t?((function(e){delete ue[e]})(e),e="en"):ue[e]||D(e),(Q.duration.fn._lang=Q.fn._lang=D(e))._abbr):Q.fn._lang._abbr},Q.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),D(e)},Q.isMoment=function(e){return e instanceof o||null!=e&&e.hasOwnProperty("_isAMomentObject")},Q.isDuration=function(e){return e instanceof r},ee=ze.length-1;ee>=0;--ee)g(ze[ee]);for(ee in Q.normalizeUnits=function(e){return _(e)},Q.invalid=function(e){var t=Q.utc(NaN);return null!=e?l(t._pf,e):t._pf.userInvalidated=!0,t},Q.parseZone=function(){return Q.apply(null,arguments).parseZone()},Q.parseTwoDigitYear=function(e){return h(e)+(h(e)>68?1900:2e3)},l(Q.fn=o.prototype,{clone:function(){return Q(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=Q(this).utc();return 0<e.year()&&e.year()<=9999?P(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return L(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&p(this._a,(this._isUTC?Q.utc(this._a):Q(this._a)).toArray())>0)},parsingFlags:function(){return l({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=P(this,e||Q.defaultFormat);return this.lang().postformat(t)},add:function(e,t){return c(this,"string"==typeof e&&"string"==typeof t?Q.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?Q.duration(+t,e):Q.duration(e,t),1),this},subtract:function(e,t){return c(this,"string"==typeof e&&"string"==typeof t?Q.duration(isNaN(+t)?+e:+t,isNaN(+t)?t:e):"string"==typeof e?Q.duration(+t,e):Q.duration(e,t),-1),this},diff:function(e,t,a){var n,i,s=w(e,this),o=6e4*(this.zone()-s.zone());return"year"===(t=_(t))||"month"===t?(n=432e5*(this.daysInMonth()+s.daysInMonth()),i=12*(this.year()-s.year())+(this.month()-s.month()),i+=(this-Q(this).startOf("month")-(s-Q(s).startOf("month")))/n,i-=6e4*(this.zone()-Q(this).startOf("month").zone()-(s.zone()-Q(s).startOf("month").zone()))/n,"year"===t&&(i/=12)):(n=this-s,i="second"===t?n/1e3:"minute"===t?n/6e4:"hour"===t?n/36e5:"day"===t?(n-o)/864e5:"week"===t?(n-o)/6048e5:n),a?i:d(i)},from:function(e,t){return Q.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(Q(),e)},calendar:function(e){var t=w(e||Q(),this).startOf("day"),a=this.diff(t,"days",!0),n=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return v(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=(function(e,t){if("string"==typeof e)if(isNaN(e)){if("number"!=typeof(e=t.weekdaysParse(e)))return null}else e=parseInt(e,10);return e})(e,this.lang()),this.add({d:e-t})):t},month:K("Month",!0),startOf:function(e){switch(e=_(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=_(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)>+Q(e).startOf(t)},isBefore:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)<+Q(e).startOf(t)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)==+w(e,this).startOf(t)},min:a("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",(function(e){return this>(e=Q.apply(null,arguments))?this:e})),max:a("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",(function(e){return(e=Q.apply(null,arguments))>this?this:e})),zone:function(e,t){var a=this._offset||0;return null==e?this._isUTC?a:this._d.getTimezoneOffset():("string"==typeof e&&(e=Y(e)),Math.abs(e)<16&&(e*=60),this._offset=e,this._isUTC=!0,a!==e&&(!t||this._changeInProgress?c(this,Q.duration(a-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Q.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?Q(e).zone():0,(this.zone()-e)%60==0},daysInMonth:function(){return y(this.year(),this.month())},dayOfYear:function(e){var t=ae((Q(this).startOf("day")-Q(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=H(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=H(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=H(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return M(this.year(),1,4)},weeksInYear:function(){var e=this._lang._week;return M(this.year(),e.dow,e.doy)},get:function(e){return this[e=_(e)]()},set:function(e,t){return"function"==typeof this[e=_(e)]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=D(t),this)}}),Q.fn.millisecond=Q.fn.milliseconds=K("Milliseconds",!1),Q.fn.second=Q.fn.seconds=K("Seconds",!1),Q.fn.minute=Q.fn.minutes=K("Minutes",!1),Q.fn.hour=Q.fn.hours=K("Hours",!0),Q.fn.date=K("Date",!0),Q.fn.dates=a("dates accessor is deprecated. Use date instead.",K("Date",!0)),Q.fn.year=K("FullYear",!0),Q.fn.years=a("years accessor is deprecated. Use year instead.",K("FullYear",!0)),Q.fn.days=Q.fn.day,Q.fn.months=Q.fn.month,Q.fn.weeks=Q.fn.week,Q.fn.isoWeeks=Q.fn.isoWeek,Q.fn.quarters=Q.fn.quarter,Q.fn.toJSON=Q.fn.toISOString,l(Q.duration.fn=r.prototype,{_bubble:function(){var e,t,a,n,i=this._milliseconds,s=this._days,o=this._months,r=this._data;r.milliseconds=i%1e3,e=d(i/1e3),r.seconds=e%60,t=d(e/60),r.minutes=t%60,a=d(t/60),r.hours=a%24,s+=d(a/24),r.days=s%30,o+=d(s/30),r.months=o%12,n=d(o/12),r.years=n},weeks:function(){return d(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*h(this._months/12)},humanize:function(e){var t=+this,a=(function(e,t,a){var n=ae(Math.abs(e)/1e3),i=ae(n/60),s=ae(i/60),o=ae(s/24),r=ae(o/365),l=n<He.s&&["s",n]||1===i&&["m"]||i<He.m&&["mm",i]||1===s&&["h"]||s<He.h&&["hh",s]||1===o&&["d"]||o<=He.dd&&["dd",o]||o<=He.dm&&["M"]||o<He.dy&&["MM",ae(o/30)]||1===r&&["y"]||["yy",r];return l[2]=t,l[3]=e>0,l[4]=a,U.apply({},l)})(t,!e,this.lang());return e&&(a=this.lang().pastFuture(t,a)),this.lang().postformat(a)},add:function(e,t){var a=Q.duration(e,t);return this._milliseconds+=a._milliseconds,this._days+=a._days,this._months+=a._months,this._bubble(),this},subtract:function(e,t){var a=Q.duration(e,t);return this._milliseconds-=a._milliseconds,this._days-=a._days,this._months-=a._months,this._bubble(),this},get:function(e){return this[(e=_(e)).toLowerCase()+"s"]()},as:function(e){return this["as"+(e=_(e)).charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:Q.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),a=Math.abs(this.days()),n=Math.abs(this.hours()),i=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(a?a+"D":"")+(n||i||s?"T":"")+(n?n+"H":"")+(i?i+"M":"")+(s?s+"S":""):"P0D"}}),Be)Be.hasOwnProperty(ee)&&(X(ee,Be[ee]),J(ee.toLowerCase()));X("Weeks",6048e5),Q.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},Q.lang("en",{ordinal:function(e){var t=e%10;return e+(1===h(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),(function(e){e.lang("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}})})(Q),(function(e){var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},a={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.lang("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiem:function(e){return 12>e?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return a[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})})(Q),(function(e){var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},a={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.lang("ar",{months:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),monthsShort:"يناير/ كانون الثاني_فبراير/ شباط_مارس/ آذار_أبريل/ نيسان_مايو/ أيار_يونيو/ حزيران_يوليو/ تموز_أغسطس/ آب_سبتمبر/ أيلول_أكتوبر/ تشرين الأول_نوفمبر/ تشرين الثاني_ديسمبر/ كانون الأول".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},meridiem:function(e){return 12>e?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return a[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})})(Q),(function(e){var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};e.lang("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiem:function(e){return 4>e?"gecə":12>e?"səhər":17>e?"gündüz":"axşam"},ordinal:function(e){if(0===e)return e+"-ıncı";var a=e%10;return e+(t[a]||t[e%100-a]||t[e>=100?100:null])},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},ordinal:function(e){var t=e%10,a=e%100;return 0===e?e+"-ев":0===a?e+"-ен":a>10&&20>a?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})})(Q),(function(e){var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},a={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.lang("bn",{months:"জানুয়ারী_ফেবুয়ারী_মার্চ_এপ্রিল_মে_জুন_জুলাই_অগাস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপর_মে_জুন_জুল_অগ_সেপ্ট_অক্টো_নভ_ডিসেম্".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পত্তিবার_শুক্রুবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পত্তি_শুক্রু_শনি".split("_"),weekdaysMin:"রব_সম_মঙ্গ_বু_ব্রিহ_শু_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কএক সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return a[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiem:function(e){return 4>e?"রাত":10>e?"শকাল":17>e?"দুপুর":20>e?"বিকেল":"রাত"},week:{dow:0,doy:6}})})(Q),(function(e){e(Q)})((function(t){function a(e,t,a){return e+" "+(function(e,t){return 2===t?n(e):e})({mm:"munutenn",MM:"miz",dd:"devezh"}[a],e)}function n(t){var a={m:"v",b:"v",d:"z"};return a[t.charAt(0)]===e?t:a[t.charAt(0)]+t.substring(1)}return t.lang("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",m:"ur vunutenn",mm:a,h:"un eur",hh:"%d eur",d:"un devezh",dd:a,M:"ur miz",MM:a,y:"ur bloaz",yy:function(e){switch((function e(t){return t>9?e(t%10):t})(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},ordinal:function(e){return e+(1===e?"añ":"vet")},week:{dow:1,doy:4}})})),(function(e){function t(e,t,a){var n=e+" ";switch(a){case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return n+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return n+(1===e?"dan":"dana");case"MM":return n+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return n+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.lang("bs",{months:"januar_februar_mart_april_maj_juni_juli_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("ca",{months:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinal:"%dº",week:{dow:1,doy:4}})})(Q),(function(e){function t(e){return e>1&&5>e&&1!=~~(e/10)}function a(e,a,n,i){var s=e+" ";switch(n){case"s":return a||i?"pár sekund":"pár sekundami";case"m":return a?"minuta":i?"minutu":"minutou";case"mm":return a||i?s+(t(e)?"minuty":"minut"):s+"minutami";case"h":return a?"hodina":i?"hodinu":"hodinou";case"hh":return a||i?s+(t(e)?"hodiny":"hodin"):s+"hodinami";case"d":return a||i?"den":"dnem";case"dd":return a||i?s+(t(e)?"dny":"dní"):s+"dny";case"M":return a||i?"měsíc":"měsícem";case"MM":return a||i?s+(t(e)?"měsíce":"měsíců"):s+"měsíci";case"y":return a||i?"rok":"rokem";case"yy":return a||i?s+(t(e)?"roky":"let"):s+"lety"}}var n="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),i="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");e.lang("cs",{months:n,monthsShort:i,monthsParse:(function(e,t){var a,n=[];for(a=0;12>a;a++)n[a]=new RegExp("^"+e[a]+"$|^"+t[a]+"$","i");return n})(n,i),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H.mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("cv",{months:"кăрлач_нарăс_пуш_ака_май_çĕртме_утă_çурла_авăн_юпа_чӳк_раштав".split("_"),monthsShort:"кăр_нар_пуш_ака_май_çĕр_утă_çур_ав_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кĕçнерникун_эрнекун_шăматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кĕç_эрн_шăм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кç_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ]",LLL:"YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT",LLLL:"dddd, YYYY [çулхи] MMMM [уйăхĕн] D[-мĕшĕ], LT"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ĕнер] LT [сехетре]",nextWeek:"[Çитес] dddd LT [сехетре]",lastWeek:"[Иртнĕ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){return e+(/сехет$/i.exec(e)?"рен":/çул$/i.exec(e)?"тан":"ран")},past:"%s каялла",s:"пĕр-ик çеккунт",m:"пĕр минут",mm:"%d минут",h:"пĕр сехет",hh:"%d сехет",d:"пĕр кун",dd:"%d кун",M:"пĕр уйăх",MM:"%d уйăх",y:"пĕр çул",yy:"%d çул"},ordinal:"%d-мĕш",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd [d.] D. MMMM YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I går kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a){var n={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?n[a][0]:n[a][1]}e.lang("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a){var n={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?n[a][0]:n[a][1]}e.lang("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,a){return e>11?a?"μμ":"ΜΜ":a?"πμ":"ΠΜ"},longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var a=this._calendarEl[e],n=t&&t.hours();return"function"==typeof a&&(a=a.apply(t)),a.replace("{}",n%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},ordinal:function(e){return e+"η"},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})})(Q),(function(e){e.lang("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"Dimanĉo_Lundo_Mardo_Merkredo_Ĵaŭdo_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_Ĵaŭ_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Ĵa_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiem:function(e,t,a){return e>11?a?"p.t.m.":"P.T.M.":a?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"antaŭ %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinal:"%da",week:{dow:1,doy:7}})})(Q),(function(e){var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),a="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");e.lang("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,n){return/-MMM-/.test(n)?a[e.month()]:t[e.month()]},weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [del] YYYY",LLL:"D [de] MMMM [del] YYYY LT",LLLL:"dddd, D [de] MMMM [del] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:"%dº",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a,n){var i={s:["mõne sekundi","mõni sekund","paar sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[a][2]?i[a][2]:i[a][1]:n?i[a][0]:i[a][1]}e.lang("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},a={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};e.lang("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiem:function(e){return 12>e?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چندین ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return a[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},ordinal:"%dم",week:{dow:6,doy:12}})})(Q),(function(e){function t(e,t,n,i){var s="";switch(n){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"m":return i?"minuutin":"minuutti";case"mm":s=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":s=i?"tunnin":"tuntia";break;case"d":return i?"päivän":"päivä";case"dd":s=i?"päivän":"päivää";break;case"M":return i?"kuukauden":"kuukausi";case"MM":s=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":s=i?"vuoden":"vuotta"}return a(e,i)+" "+s}function a(e,t){return 10>e?t?i[e]:n[e]:e}var n="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),i=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",n[7],n[8],n[9]];e.lang("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")}})})(Q),(function(e){e.lang("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(1===e?"er":"")},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuño_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xuñ._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mércores_Xoves_Venres_Sábado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mér._Xov._Ven._Sáb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mé_Xo_Ve_Sá".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return"uns segundos"===e?"nuns segundos":"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY LT",LLLL:"dddd, D [ב]MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e+" שנים"}}})})(Q),(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},a={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.lang("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return a[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiem:function(e){return 4>e?"रात":10>e?"सुबह":17>e?"दोपहर":20>e?"शाम":"रात"},week:{dow:0,doy:6}})})(Q),(function(e){function t(e,t,a){var n=e+" ";switch(a){case"m":return t?"jedna minuta":"jedne minute";case"mm":return n+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return n+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return n+(1===e?"dan":"dana");case"MM":return n+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return n+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.lang("hr",{months:"sječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){function t(e,t,a,n){var i=e;switch(a){case"s":return n||t?"néhány másodperc":"néhány másodperce";case"m":return"egy"+(n||t?" perc":" perce");case"mm":return i+(n||t?" perc":" perce");case"h":return"egy"+(n||t?" óra":" órája");case"hh":return i+(n||t?" óra":" órája");case"d":return"egy"+(n||t?" nap":" napja");case"dd":return i+(n||t?" nap":" napja");case"M":return"egy"+(n||t?" hónap":" hónapja");case"MM":return i+(n||t?" hónap":" hónapja");case"y":return"egy"+(n||t?" év":" éve");case"yy":return i+(n||t?" év":" éve")}return""}function a(e){return(e?"":"[múlt] ")+"["+n[this.day()]+"] LT[-kor]"}var n="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");e.lang("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},meridiem:function(e,t,a){return 12>e?!0===a?"de":"DE":!0===a?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return a.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return a.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("hy-am",{months:function(e,t){return{nominative:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_"),accusative:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative"][e.month()]},monthsShort:function(e){return"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_")[e.month()]},weekdays:function(e){return"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_")[e.day()]},weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., LT",LLLL:"dddd, D MMMM YYYY թ., LT"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiem:function(e){return 4>e?"գիշերվա":12>e?"առավոտվա":17>e?"ցերեկվա":"երեկոյան"},ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(e){return 11>e?"pagi":15>e?"siang":19>e?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})(Q),(function(e){function t(e){return e%100==11||e%10!=1}function a(e,a,n,i){var s=e+" ";switch(n){case"s":return a||i?"nokkrar sekúndur":"nokkrum sekúndum";case"m":return a?"mínúta":"mínútu";case"mm":return t(e)?s+(a||i?"mínútur":"mínútum"):a?s+"mínúta":s+"mínútu";case"hh":return t(e)?s+(a||i?"klukkustundir":"klukkustundum"):s+"klukkustund";case"d":return a?"dagur":i?"dag":"degi";case"dd":return t(e)?a?s+"dagar":s+(i?"daga":"dögum"):a?s+"dagur":s+(i?"dag":"degi");case"M":return a?"mánuður":i?"mánuð":"mánuði";case"MM":return t(e)?a?s+"mánuðir":s+(i?"mánuði":"mánuðum"):a?s+"mánuður":s+(i?"mánuð":"mánuði");case"y":return a||i?"ár":"ári";case"yy":return t(e)?s+(a||i?"ár":"árum"):s+(a||i?"ár":"ári")}}e.lang("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:a,m:a,mm:a,h:"klukkustund",hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Lunedì_Martedì_Mercoledì_Giovedì_Venerdì_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:"[lo scorso] dddd [alle] LT",sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:"%dº",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"Ah時m分",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日LT",LLLL:"YYYY年M月D日LT dddd"},meridiem:function(e){return 12>e?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},relativeTime:{future:"%s後",past:"%s前",s:"数秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})})(Q),(function(e){e.lang("ka",{months:function(e,t){return{nominative:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),accusative:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")}[/D[oD] *MMMM?/.test(t)?"accusative":"nominative"][e.month()]},monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:function(e,t){return{nominative:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),accusative:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_")}[/(წინა|შემდეგ)/.test(t)?"accusative":"nominative"][e.day()]},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(წამი|წუთი|საათი|წელი)/.test(e)?e.replace(/ი$/,"ში"):e+"ში"},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(e)?e.replace(/წელი$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},ordinal:function(e){return 0===e?e:1===e?e+"-ლი":20>e||100>=e&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("km",{months:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មិនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysMin:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ថ្ងៃនៈ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h시 mm분",L:"YYYY.MM.DD",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 LT",LLLL:"YYYY년 MMMM D일 dddd LT"},meridiem:function(e){return 12>e?"오전":"오후"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇초",ss:"%d초",m:"일분",mm:"%d분",h:"한시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한달",MM:"%d달",y:"일년",yy:"%d년"},ordinal:"%d일",meridiemParse:/(오전|오후)/,isPM:function(e){return"오후"===e}})})(Q),(function(e){function t(e,t,a){var n={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],dd:[e+" Deeg",e+" Deeg"],M:["ee Mount","engem Mount"],MM:[e+" Méint",e+" Méint"],y:["ee Joer","engem Joer"],yy:[e+" Joer",e+" Joer"]};return t?n[a][0]:n[a][1]}function a(e){if(e=parseInt(e,10),isNaN(e))return!1;if(0>e)return!0;if(10>e)return e>=4&&7>=e;if(100>e){var t=e%10;return a(0===t?e/10:t)}if(1e4>e){for(;e>=10;)e/=10;return a(e)}return a(e/=1e3)}e.lang("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){return(function(e){switch(e=parseInt(e,10)){case 0:case 1:case 3:case 5:case 6:return!0;default:return!1}})(this.format("d"))?"[Leschte] dddd [um] LT":"[Leschten] dddd [um] LT"}},relativeTime:{future:function(e){return a(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return a(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a,i){return t?n(a)[0]:i?n(a)[1]:n(a)[2]}function a(e){return e%10==0||e>10&&20>e}function n(e){return s[e].split("_")}function i(e,i,s,o){var r=e+" ";return 1===e?r+t(0,i,s[0],o):i?r+(a(e)?n(s)[1]:n(s)[0]):o?r+n(s)[1]:r+(a(e)?n(s)[1]:n(s)[2])}var s={m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"},o="sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_");e.lang("lt",{months:"sausio_vasario_kovo_balandžio_gegužės_biržėlio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:function(e,t){var a=-1===t.indexOf("dddd HH:mm"),n=o[e.day()];return a?n:n.substring(0,n.length-2)+"į"},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:function(e,t,a,n){return t?"kelios sekundės":n?"kelių sekundžių":"kelias sekundes"},m:t,mm:i,h:t,hh:i,d:t,dd:i,M:t,MM:i,y:t,yy:i},ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,n){return e+" "+(function(e,t,a){var n=e.split("_");return a?t%10==1&&11!==t?n[2]:n[3]:t%10==1&&11!==t?n[0]:n[1]})(a[n],e,t)}var a={mm:"minūti_minūtes_minūte_minūtes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mēnesi_mēnešus_mēnesis_mēneši",yy:"gadu_gadus_gads_gadi"};e.lang("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vēlāk",past:"%s agrāk",s:"dažas sekundes",m:"minūti",mm:t,h:"stundu",hh:t,d:"dienu",dd:t,M:"mēnesi",MM:t,y:"gadu",yy:t},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Во изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Во изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},ordinal:function(e){var t=e%10,a=e%100;return 0===e?e+"-ев":0===a?e+"-ен":a>10&&20>a?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiem:function(e){return 4>e?"രാത്രി":12>e?"രാവിലെ":17>e?"ഉച്ച കഴിഞ്ഞ്":20>e?"വൈകുന്നേരം":"രാത്രി"}})})(Q),(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},a={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.lang("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%s नंतर",past:"%s पूर्वी",s:"सेकंद",m:"एक मिनिट",mm:"%d मिनिटे",h:"एक तास",hh:"%d तास",d:"एक दिवस",dd:"%d दिवस",M:"एक महिना",MM:"%d महिने",y:"एक वर्ष",yy:"%d वर्षे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return a[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiem:function(e){return 4>e?"रात्री":10>e?"सकाळी":17>e?"दुपारी":20>e?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})})(Q),(function(e){e.lang("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(e){return 11>e?"pagi":15>e?"tengahari":19>e?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"H.mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},a={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.lang("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आइ._सो._मङ्_बु._बि._शु._श.".split("_"),longDateFormat:{LT:"Aको h:mm बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return a[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiem:function(e){return 3>e?"राती":10>e?"बिहान":15>e?"दिउँसो":18>e?"बेलुका":20>e?"साँझ":"राती"},calendar:{sameDay:"[आज] LT",nextDay:"[भोली] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडी",s:"केही समय",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:1,doy:7}})})(Q),(function(e){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),a="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");e.lang("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,n){return/-MMM-/.test(n)?a[e.month()]:t[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){function t(e){return 5>e%10&&e%10>1&&~~(e/10)%10!=1}function a(e,a,n){var i=e+" ";switch(n){case"m":return a?"minuta":"minutę";case"mm":return i+(t(e)?"minuty":"minut");case"h":return a?"godzina":"godzinę";case"hh":return i+(t(e)?"godziny":"godzin");case"MM":return i+(t(e)?"miesiące":"miesięcy");case"yy":return i+(t(e)?"lata":"lat")}}var n="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),i="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");e.lang("pl",{months:function(e,t){return/D MMMM/.test(t)?i[e.month()]:n[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"nie_pon_wt_śr_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:a,mm:a,h:a,hh:a,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:a,y:"rok",yy:a},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){e.lang("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] LT",LLLL:"dddd, D [de] MMMM [de] YYYY [às] LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrás",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº"})})(Q),(function(e){e.lang("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"dom_2ª_3ª_4ª_5ª_6ª_sáb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%dº",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a){var n=" ";return(e%100>=20||e>=100&&e%100==0)&&(n=" de "),e+n+{mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[a]}e.lang("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})})(Q),(function(e){function t(e,t,a){return"m"===a?t?"минута":"минуту":e+" "+(function(e,t){var a=e.split("_");return t%10==1&&t%100!=11?a[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?a[1]:a[2]})({mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[a],+e)}e.lang("ru",{months:function(e,t){return{nominative:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),accusative:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative"][e.month()]},monthsShort:function(e,t){return{nominative:"янв_фев_мар_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),accusative:"янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек".split("_")}[/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative"][e.month()]},weekdays:function(e,t){return{nominative:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),accusative:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_")}[/\[ ?[Вв] ?(?:прошлую|следующую)? ?\] ?dddd/.test(t)?"accusative":"nominative"][e.day()]},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[й|я]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i],longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., LT",LLLL:"dddd, D MMMM YYYY г., LT"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(){return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT"},lastWeek:function(){switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",m:t,mm:t,h:"час",hh:t,d:"день",dd:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e){return 4>e?"ночи":12>e?"утра":17>e?"дня":"вечера"},ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:7}})})(Q),(function(e){function t(e){return e>1&&5>e}function a(e,a,n,i){var s=e+" ";switch(n){case"s":return a||i?"pár sekúnd":"pár sekundami";case"m":return a?"minúta":i?"minútu":"minútou";case"mm":return a||i?s+(t(e)?"minúty":"minút"):s+"minútami";case"h":return a?"hodina":i?"hodinu":"hodinou";case"hh":return a||i?s+(t(e)?"hodiny":"hodín"):s+"hodinami";case"d":return a||i?"deň":"dňom";case"dd":return a||i?s+(t(e)?"dni":"dní"):s+"dňami";case"M":return a||i?"mesiac":"mesiacom";case"MM":return a||i?s+(t(e)?"mesiace":"mesiacov"):s+"mesiacmi";case"y":return a||i?"rok":"rokom";case"yy":return a||i?s+(t(e)?"roky":"rokov"):s+"rokmi"}}var n="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),i="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");e.lang("sk",{months:n,monthsShort:i,monthsParse:(function(e,t){var a,n=[];for(a=0;12>a;a++)n[a]=new RegExp("^"+e[a]+"$|^"+t[a]+"$","i");return n})(n,i),weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){function t(e,t,a){var n=e+" ";switch(a){case"m":return t?"ena minuta":"eno minuto";case"mm":return n+(1===e?"minuta":2===e?"minuti":3===e||4===e?"minute":"minut");case"h":return t?"ena ura":"eno uro";case"hh":return n+(1===e?"ura":2===e?"uri":3===e||4===e?"ure":"ur");case"dd":return n+(1===e?"dan":"dni");case"MM":return n+(1===e?"mesec":2===e?"meseca":3===e||4===e?"mesece":"mesecev");case"yy":return n+(1===e?"leto":2===e?"leti":3===e||4===e?"leta":"let")}}e.lang("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejšnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"%s nazaj",s:"nekaj sekund",m:t,mm:t,h:t,hh:t,d:"en dan",dd:t,M:"en mesec",MM:t,y:"eno leto",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),meridiem:function(e){return 12>e?"PD":"MD"},longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},ordinal:"%d.",week:{dow:1,doy:4}})})(Q),(function(e){var t={words:{m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,a,n){var i=t.words[n];return 1===n.length?a?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.lang("sr-cyrl",{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],monthsShort:["јан.","феб.","мар.","апр.","мај","јун","јул","авг.","сеп.","окт.","нов.","дец."],weekdays:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],weekdaysShort:["нед.","пон.","уто.","сре.","чет.","пет.","суб."],weekdaysMin:["не","по","ут","ср","че","пе","су"],longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"дан",dd:t.translate,M:"месец",MM:t.translate,y:"годину",yy:t.translate},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){var t={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&4>=e?t[1]:t[2]},translate:function(e,a,n){var i=t.words[n];return 1===n.length?a?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.lang("sr",{months:["januar","februar","mart","april","maj","jun","jul","avgust","septembar","oktobar","novembar","decembar"],monthsShort:["jan.","feb.","mar.","apr.","maj","jun","jul","avg.","sep.","okt.","nov.","dec."],weekdays:["nedelja","ponedeljak","utorak","sreda","četvrtak","petak","subota"],weekdaysShort:["ned.","pon.","uto.","sre.","čet.","pet.","sub."],weekdaysMin:["ne","po","ut","sr","če","pe","su"],longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mesec",MM:t.translate,y:"godinu",yy:t.translate},ordinal:"%d.",week:{dow:1,doy:7}})})(Q),(function(e){e.lang("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"dddd LT",lastWeek:"[Förra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},ordinal:function(e){return e+"வது"},meridiem:function(e){return e>=6&&10>=e?" காலை":e>=10&&14>=e?" நண்பகல்":e>=14&&18>=e?" எற்பாடு":e>=18&&20>=e?" மாலை":e>=20&&24>=e?" இரவு":e>=0&&6>=e?" வைகறை":void 0},week:{dow:0,doy:6}})})(Q),(function(e){e.lang("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"มกรา_กุมภา_มีนา_เมษา_พฤษภา_มิถุนา_กรกฎา_สิงหา_กันยา_ตุลา_พฤศจิกา_ธันวา".split("_"),weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),longDateFormat:{LT:"H นาฬิกา m นาที",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา LT",LLLL:"วันddddที่ D MMMM YYYY เวลา LT"},meridiem:function(e){return 12>e?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})})(Q),(function(e){e.lang("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinal:function(e){return e},week:{dow:1,doy:4}})})(Q),(function(e){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.lang("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e){if(0===e)return e+"'ıncı";var a=e%10;return e+(t[a]||t[e%100-a]||t[e>=100?100:null])},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})})(Q),(function(e){e.lang("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})})(Q),(function(e){function t(e,t,a){return"m"===a?t?"хвилина":"хвилину":"h"===a?t?"година":"годину":e+" "+(function(e,t){var a=e.split("_");return t%10==1&&t%100!=11?a[0]:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?a[1]:a[2]})({mm:"хвилина_хвилини_хвилин",hh:"година_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[a],+e)}function a(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}e.lang("uk",{months:function(e,t){return{nominative:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_"),accusative:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_")}[/D[oD]? *MMMM?/.test(t)?"accusative":"nominative"][e.month()]},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:function(e,t){return{nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")}[/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]},weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., LT",LLLL:"dddd, D MMMM YYYY р., LT"},calendar:{sameDay:a("[Сьогодні "),nextDay:a("[Завтра "),lastDay:a("[Вчора "),nextWeek:a("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return a("[Минулої] dddd [").call(this);case 1:case 2:case 4:return a("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",m:t,mm:t,h:"годину",hh:t,d:"день",dd:t,M:"місяць",MM:t,y:"рік",yy:t},meridiem:function(e){return 4>e?"ночі":12>e?"ранку":17>e?"дня":"вечора"},ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("uz",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})})(Q),(function(e){e.lang("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY LT",LLLL:"dddd, D MMMM [năm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},ordinal:function(e){return e},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah点mm",L:"YYYY-MM-DD",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY-MM-DD",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(e,t){var a=100*e+t;return 600>a?"凌晨":900>a?"早上":1130>a?"上午":1230>a?"中午":1800>a?"下午":"晚上"},calendar:{sameDay:function(){return 0===this.minutes()?"[今天]Ah[点整]":"[今天]LT"},nextDay:function(){return 0===this.minutes()?"[明天]Ah[点整]":"[明天]LT"},lastDay:function(){return 0===this.minutes()?"[昨天]Ah[点整]":"[昨天]LT"},nextWeek:function(){var t,a;return t=e().startOf("week"),a=this.unix()-t.unix()>=604800?"[下]":"[本]",0===this.minutes()?a+"dddAh点整":a+"dddAh点mm"},lastWeek:function(){var t,a;return t=e().startOf("week"),a=this.unix()<t.unix()?"[上]":"[本]",0===this.minutes()?a+"dddAh点整":a+"dddAh点mm"},sameElse:"LL"},ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1分钟",mm:"%d分钟",h:"1小时",hh:"%d小时",d:"1天",dd:"%d天",M:"1个月",MM:"%d个月",y:"1年",yy:"%d年"},week:{dow:1,doy:4}})})(Q),(function(e){e.lang("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"Ah點mm",L:"YYYY年MMMD日",LL:"YYYY年MMMD日",LLL:"YYYY年MMMD日LT",LLLL:"YYYY年MMMD日ddddLT",l:"YYYY年MMMD日",ll:"YYYY年MMMD日",lll:"YYYY年MMMD日LT",llll:"YYYY年MMMD日ddddLT"},meridiem:function(e,t){var a=100*e+t;return 900>a?"早上":1130>a?"上午":1230>a?"中午":1800>a?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"一分鐘",mm:"%d分鐘",h:"一小時",hh:"%d小時",d:"一天",dd:"%d天",M:"一個月",MM:"%d個月",y:"一年",yy:"%d年"}})})(Q),Q.lang("en"),me?module.exports=Q:"function"==typeof define&&define.amd?(define("moment",(function(e,t,a){return a.config&&a.config()&&!0===a.config().noGlobal&&(te.moment=$),Q})),Z(!0)):Z()}).call(this),define("dig-components/controls",["require","exports","tslib","dig-components/controls/checkbox/checkbox","dig-components/controls/radio_button/radio_button","dig-components/controls/segmented_control/segmented_control","dig-components/controls/toggle/toggle"],(function(e,t,a,n,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.__exportStar(n,t),a.__exportStar(i,t),a.__exportStar(s,t),a.__exportStar(o,t)})),define("dig-components/controls/checkbox/checkbox",["require","exports","tslib","classnames","react","focus-visible"],(function(e,t,a,n,i){"use strict";function s(e){var t=e.checked;return e.isIndeterminate?"mixed":t?"true":"false"}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importStar(i),t.Checkbox=i.forwardRef((function(e,t){var l=e.checked,d=e.className,u=e.isIndeterminate,c=void 0!==u&&u,m=e.inverse,p=void 0!==m&&m,_=e.style,f=void 0===_?{}:_,g=a.__rest(e,["checked","className","isIndeterminate","inverse","style"]),h=i.useState(!1),y=h[0],M=h[1],b=i.useRef(l);i.useEffect((function(){y||l===b.current||M(!0)}),[l,b,y]);var v=n.default("dig-Checkbox-input",{"dig-Checkbox--inverse":p,"dig-Checkbox--initiallyChecked":!y&&l}),S=n.default("dig-Checkbox",d),L=i.useRef();return i.useEffect((function(){L.current&&(L.current.indeterminate=c)}),[c,t]),i.createElement("span",{className:S,style:f},i.createElement("input",Object.assign({"aria-checked":s({checked:l,isIndeterminate:c}),checked:l,className:v,ref:function(e){L.current=e,t&&("function"==typeof t?t(e):t.current=e)},type:"checkbox"},g)),i.createElement("span",{className:"dig-Checkbox-styles"}),i.createElement(r,null),i.createElement(o,null))})),t.Checkbox.displayName="Checkbox";var o=function(){return i.createElement("svg",{className:"dig-Checkbox-checked-icon","aria-hidden":"true",width:"20px",height:"20px",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:"false"},i.createElement("path",{d:"M1 4L4.5 7.5L11 1",stroke:"currentColor",strokeWidth:"2",transform:"translate(4, 6)"}))};o.displayName="CheckedCheckboxIcon";var r=function(){return i.createElement("svg",{"aria-hidden":"true",width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",className:"dig-Checkbox-indeterminate-icon",focusable:"false"},i.createElement("rect",{x:"5px",y:"9px",width:"10px",height:"2px"}))};r.displayName="IndeterminateCheckboxIcon"})),define("dig-components/controls/radio_button/radio_button",["require","exports","tslib","classnames","react","focus-visible"],(function(e,t,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importStar(i),t.RadioButton=i.forwardRef((function(e,t){var s=e.className,o=(e.children,e.inverse),r=a.__rest(e,["className","children","inverse"]),l=n.default("dig-Radio",s,{"dig-Radio--inverse":o});return i.createElement("input",Object.assign({type:"radio",className:l,ref:t},r))})),t.RadioButton.displayName="RadioButton"})),define("dig-components/controls/segmented_control/context",["require","exports","tslib","react"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n);var i={setSelectedOption:function(){return!1},selectedOption:void 0};t.SegmentedControlContext=n.createContext(i)})),define("dig-components/controls/segmented_control/option",["require","exports","tslib","react","classnames","dig-components/controls/segmented_control/context"],(function(e,t,a,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importDefault(i),t.Option=n.forwardRef((function(e,t){var o=e.index,r=e.children,l=e.disabled,d=e.value,u=e.role,c=void 0===u?"tab":u,m=a.__rest(e,["index","children","disabled","value","role"]),p=n.useContext(s.SegmentedControlContext).setSelectedOption,_=i.default("dig-SegmentedControl-option",{"dig-SegmentedControl-option--disabled":l});return n.createElement("button",Object.assign({role:c,className:_,disabled:l,onClick:function(){p({value:d,index:o})},ref:t},m),r)})),t.Option.displayName="SegmentedControl.Option"})),define("dig-components/controls/segmented_control/segmented_control",["require","exports","tslib","classnames","react","dig-components/controls/segmented_control/option","dig-components/controls/segmented_control/context","focus-visible"],(function(e,t,a,n,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importStar(i);t.SegmentedControl=function(e){var t=e.className,s=e.children,r=e.selectedValue,l=e.onSelection,d=e.onValueChange,u=e.inverse,c=void 0!==u&&u,m=a.__rest(e,["className","children","selectedValue","onSelection","onValueChange","inverse"]),p=i.useState(!1),_=p[0],f=p[1],g=function(e){var t=-1;return i.Children.forEach(s,(function(a,n){i.isValidElement(a)&&a.props.value===e&&(t=n)})),t},h=i.useState((function(){var e=-1;return void 0!==r&&(e=g(r)),e})),y=h[0],M=h[1],b=n.default("dig-SegmentedControl",t,{"dig-SegmentedControl--inverse":c});i.useEffect((function(){_||f(!0)}),[]),i.useEffect((function(){M(void 0===r?-1:g(r)),_&&d&&d(r)}),[r]);var v={selectedOption:{value:r},setSelectedOption:function(e){M(e.index),d&&d(e.value),l&&l(e.value)}},S=-1!==y?32*y+2*y:0;return i.createElement(o.SegmentedControlContext.Provider,{value:v},i.createElement("div",Object.assign({role:"tablist",className:b},m),-1!==y&&i.createElement("span",{className:"dig-SegmentedControl-selector",style:{transform:"translateX("+S+"px)"}}),i.Children.map(s,(function(e,t){return i.isValidElement(e)&&i.cloneElement(e,{index:t})}))))},t.SegmentedControl.displayName="SegmentedControl",t.SegmentedControl.Option=s.Option})),define("dig-components/controls/toggle/toggle",["require","exports","tslib","classnames","react","focus-visible"],(function(e,t,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importStar(i),t.Toggle=i.forwardRef((function(e,t){var s=e.isToggled,o=e.disabled,r=e.className,l=e.wrapperProps,d=e.inverse,u=a.__rest(e,["isToggled","disabled","className","wrapperProps","inverse"]),c=n.default(r,"dig-Toggle",{"dig-Toggle--isToggled":s,"dig-Toggle--disabled":o,"dig-Toggle--inverse":d});return i.createElement("label",Object.assign({className:c},l),i.createElement("input",Object.assign({role:"switch",type:"checkbox",className:"dig-Toggle-input",checked:s,disabled:o,ref:t},u)),i.createElement("span",{className:"dig-Toggle-track"}))})),t.Toggle.displayName="Toggle"})),define("dig-components/modal",["require","exports","tslib","dig-components/modal/modal"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.__exportStar(n,t)})),define("dig-components/modal/body",["require","exports","tslib","react","classnames"],(function(e,t,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importDefault(i),t.Body=n.forwardRef((function(e,t){var s=e.children,o=e.className,r=void 0===o?"":o,l=e.hasVerticalSpacing,d=void 0!==l&&l,u=a.__rest(e,["children","className","hasVerticalSpacing"]),c=i.default("dig-Modal-body",r,{"dig-Modal-body--hasVerticalSpacing":d});return n.createElement("div",Object.assign({ref:t,className:c},u),s)})),t.Body.displayName="Body"})),define("dig-components/modal/content",["require","exports","tslib","react"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.Content=function(e){var t=e.children,i=e.className,s=void 0===i?"":i,o=a.__rest(e,["children","className"]);return n.createElement("div",Object.assign({className:"dig-Modal-content "+s},o),t)}})),define("dig-components/modal/footer",["require","exports","tslib","react","classnames"],(function(e,t,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importDefault(i),t.Footer=function(e){var t=e.hasTopBorder,s=void 0!==t&&t,o=e.children,r=e.className,l=void 0===r?"":r,d=a.__rest(e,["hasTopBorder","children","className"]),u=i.default("dig-Modal-footer",{"dig-Modal-footer--hasTopBorder":s},l);return n.createElement("div",Object.assign({className:u},d),o)},t.Footer.displayName="Footer"})),define("dig-components/modal/header",["require","exports","tslib","react","classnames"],(function(e,t,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importDefault(i),t.Header=function(e){var t=e.hasBottomSpacing,s=void 0===t?"title-small":t,o=e.children,r=e.className,l=void 0===r?"":r,d=a.__rest(e,["hasBottomSpacing","children","className"]),u=i.default("dig-Modal-header",{"dig-Modal-header--margin-title-standard":"title-standard"===s},l);return n.createElement("div",Object.assign({className:u},d),o)},t.Header.displayName="Header"})),define("dig-components/modal/modal",["require","exports","tslib","classnames","react","react-modal","dig-components/layer","dig-components/buttons","dig-components/icons","dig-components/icons/src","dig-components/modal/content","dig-components/modal/header","dig-components/modal/body","dig-components/modal/footer","focus-visible"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importStar(i),s=a.__importDefault(s);var _=function(e){switch(e){case"small":return 450;case"standard":return 600;case"large":return 700}return e};t.Modal=function(e){var t=e.children,c=e.className,m=e.isCentered,p=void 0!==m&&m,f=e.withCloseButton,g=e.width,h=void 0===g?"standard":g,y=e.open,M=void 0!==y&&y,b=e.onRequestClose,v=e.overlayClassName,S=e.modalBaseIndex,L=void 0===S?o.MODAL_BASE_INDEX:S,T=a.__rest(e,["children","className","isCentered","withCloseButton","width","open","onRequestClose","overlayClassName","modalBaseIndex"]),w=n.default("dig-Modal",{"dig-Modal--isCentered":p},c),D=b;return i.createElement(s.default,Object.assign({},T,{isOpen:M,shouldCloseOnOverlayClick:!0,onRequestClose:b,className:w,bodyOpenClassName:"dig-Modal-body--open",htmlOpenClassName:"dig-Modal-html--open",overlayClassName:n.default("dig-Modal-overlay",v),closeTimeoutMS:200,style:{overlay:{zIndex:L},content:{width:_(h)}}}),i.createElement(o.LayerContext.Provider,{value:L},i.createElement(u.Content,null,t),!!f&&i.createElement(r.IconButton,{variant:"transparent",className:"dig-Modal-close-btn","aria-label":f,onClick:D},i.createElement(l.UIIcon,{src:d.CloseLine}))))},t.Modal.Content=u.Content,t.Modal.Header=c.Header,t.Modal.Body=m.Body,t.Modal.Footer=p.Footer,t.Modal.displayName="Modal",t.Modal.setAppElement=s.default.setAppElement})),define("dig-components/snackbar",["require","exports","tslib","dig-components/snackbar/snackbar"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a.__exportStar(n,t)})),define("dig-components/snackbar/actions",["require","exports","tslib","react"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.Actions=function(e){var t=e.className,i=void 0===t?"":t,s=e.children,o=a.__rest(e,["className","children"]),r="dig-Snackbar-actions "+i;return n.createElement("div",Object.assign({className:r},o),s)},t.Actions.displayName="Snackbar.Actions"})),define("dig-components/snackbar/message",["require","exports","tslib","react"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.Message=function(e){var t=e.className,i=void 0===t?"":t,s=e.children,o=a.__rest(e,["className","children"]),r="dig-Snackbar-message "+i;return n.createElement("span",Object.assign({className:r},o),s)},t.Message.displayName="Snackbar.Message"})),define("dig-components/snackbar/snackbar",["require","exports","tslib","classnames","react","react-transition-group","dig-components/_motion","dig-components/snackbar/actions","dig-components/snackbar/message","focus-visible"],(function(e,t,a,n,i,s,o,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importStar(i);var d={transitions:[{property:"up",value:10},{property:"opacity",value:1}],easing:"out",duration:"faster",origin:[.5,1]},u={transitions:[{property:"opacity",value:0}],easing:"out",duration:"faster",origin:[.5,1]};t.Snackbar=function(e){var t=e.className,r=e.children,l=e.onRequestClose,c=e.open,m=e.timeout,p=void 0===m?5e3:m,_=a.__rest(e,["className","children","onRequestClose","open","timeout"]),f=n.default("dig-Snackbar",t);return i.useEffect((function(){if(p>0){var e=null;if(c){if(l)return e=window.setTimeout(l,p),function(){e&&clearTimeout(e)}}else e&&clearTimeout(e)}}),[l,c,p]),i.createElement(s.TransitionGroup,{component:null},c&&i.createElement(o.Motion,{transitionIn:d,transitionOut:u},(function(e){var t=e.style;return i.createElement("div",Object.assign({className:f,style:t,role:"alert"},_),r)})))},t.Snackbar.displayName="Snackbar",t.Snackbar.Actions=r.Actions,t.Snackbar.Message=l.Message})),define("modules/clean/account_page/constants",["require","exports","modules/core/uri"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.ALL=1]="ALL",e[e.PLAN=2]="PLAN",e[e.SCHEDULE=3]="SCHEDULE",e[e.LICENSES=4]="LICENSES",e[e.EVH_ADDON=5]="EVH_ADDON",e[e.IND_SUBSCRIPTION=6]="IND_SUBSCRIPTION",e[e.FAMILY_NONPAYER=7]="FAMILY_NONPAYER"})(t.CancellationType||(t.CancellationType={})),t.ROOT_DOWNGRADE_URI=new a.URI({path:"/downgrade",query:{oqa:"acc_cancel"}}),t.COVID_ACTIVE_MONTHLY_PERCENT=50,t.COVID_PROMO_LENGTH=3,t.COVID_ACTIVE_YEARLY_PERCENT_OFF=13})),define("modules/clean/account_page/tabs/billing",["require","exports","tslib","modules/clean/event_handler","modules/core/browser","modules/core/browser_detection","modules/core/uri","modules/clean/account_page/widgets/plan/views/add_schedule_modal","modules/clean/react/payments/update_individual_billing/update_individual_store_creator","modules/clean/dbmodal_stack","react","react-redux","modules/clean/react/css","modules/core/i18n","modules/clean/web_timing_logger","modules/clean/account_page/util","modules/clean/teams/admin/lib/billing_history","modules/clean/account_page/widgets/billing/payment_methods_util","modules/clean/account_page/widgets/billing/action_creators","modules/clean/account_page/widgets/plan/action_creators","modules/clean/account_page/widgets/plan/add_ons/action_creators","modules/clean/react/payments/error/browser_update_required_modal","modules/clean/account_page/widgets/plan/views/cancel_subs_warning_modal","modules/clean/account_page/widgets/plan/views/change_schedule_modal","modules/clean/account_page/widgets/plan/views/change_plan_modal","modules/clean/account_page/widgets/plan/views/cancel_plan","modules/clean/account_page/widgets/plan/views/individual_cancel_survey/individual_cancel_survey_modal","modules/clean/account_page/widgets/plan/views/montana/montana_modal_flow","modules/clean/account_page/widgets/plan/views/montana/montana_renew_success_modal","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/react/payments/edit_invoice_address_modal/edit_invoice_address_modal_loader","modules/clean/react/payments/update_individual_billing/update_individual_billing_modal_loader","modules/clean/account_page/components/key_value_block","modules/clean/account_page/widgets/billing/views/license_keys","modules/clean/account_page/components/loading","modules/clean/payments/skus/constants","modules/constants/trademark","modules/clean/analytics","modules/clean/payments/skus/subscription_status","modules/clean/account_page/widgets/billing/views/invoice_details","modules/clean/account_page/widgets/billing/views/billing_history","modules/core/notify","modules/clean/stormcrow/stormcrow_exposure_logger","modules/clean/stormcrow/experiment","modules/clean/payments/skus/sku_content","modules/clean/hql/index","dropbox/proto/hql_events/retention/retention"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f,g,h,y,M,b,v,S,L,T,w,D,C,P,k,E,Y,N,I,A,x,R,O,B,F,j,U,H,V,W,q,z){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=a.__importStar(i),s=a.__importStar(s),u=a.__importDefault(u),c=a.__importStar(c);var G=(function(e){function t(t){var n=e.call(this,t)||this;return n.browserUpdateRequired=function(){return!!n.props.browserUpdateRequired&&(v.BrowserUpdateModalLoader.showInstance(),!0)},n.handlePaymentUpdate=function(){n.browserUpdateRequired()||(O.ProEventsLogger.log("de_billing_tab_update_payment_method_click"),n.props.billingInfo.scheduled_for_downgrade?S.CancelChangesModalConfirmation.showInstance({transitionPerformed:n.reloadData,subStatus:n.subStatus,shouldShowRedesignedModal:n.shouldShowRedesignedModal}):Y.IndividualUpdateBillingModalLoader.showInstance())},n.handlePaymentAdd=function(){n.browserUpdateRequired()||(O.ProEventsLogger.log("de_billing_tab_add_payment_method_click"),Y.IndividualUpdateBillingModalLoader.showInstance())},n.handlePaymentAddToResubscribe=function(){n.browserUpdateRequired()||(O.ProEventsLogger.log("de_billing_tab_add_payment_method_resubscribe_click"),U.Notify.success(p.intl.formatMessage({id:"CDgQc9",defaultMessage:"Please update your billing information to be resubscribed."})),Y.IndividualUpdateBillingModalLoader.showInstance())},n.reloadData=function(){var e=n.props,t=e.loadBillingInfo,a=e.loadPlanDataIfNecessary,i=e.loadEvhInfoIfNecessary;t(!0),i(!0),a(!0)},n.handleBillingChange=function(){O.ProEventsLogger.log("de_billing_tab_change_billing_modal_open");var e=n.props.billingInfo,t=e.payment_info,a=e.scheduled_for_downgrade;H.logVariantExposure("growth_retention_account_changes",n.props.expRetentionAccountChanges),a?S.CancelChangesModalConfirmation.showInstance({transitionPerformed:n.reloadData,subStatus:n.subStatus,shouldShowRedesignedModal:n.shouldShowRedesignedModal}):(H.logVariantExposure("montana_master_switch",n.props.expMontana),L.ChangeScheduleModalView.showInstance({transitionPerformed:n.reloadData,paymentInfo:t,browserUpdateRequired:n.props.browserUpdateRequired,expMontana:n.props.expMontana,shouldShowRedesignedModal:n.shouldShowRedesignedModal}))},n.handleRebillUpsell=function(e){e&&e.showChangePlanConfirm&&T.ChangePlanModalView.showInstance({mode:T.ChangePlanMode.CONFIRM,transitionPerformed:n.reloadData})},n.handleAddBillUpsell=function(){n.props.trialsConfig&&n.props.showNptScheduleModal&&r.AddScheduleModalView.showInstance({transitionPerformed:n.reloadData,project:n.props.trialsConfig.project,productType:W.SkuContentClient.deserialize(n.props.trialsConfig.trialPlan.skuContent).dropboxDisplayName(),userId:n.user.id,skuCode:n.props.trialsConfig.trialPlan.skuCode,duration:n.props.trialsConfig.trialPlan.duration,billingId:n.props.billingInfo.payment_info.gateway_id})},n.onEditInvoiceDetailsClick=function(){O.ProEventsLogger.log("de_billing_tab_edit_invoice_modal_open"),E.EditInvoiceAddressModalLoader.showUpdateTaxProfileModal(!1,n.onInvoiceDetailsUpdated)},n.onInvoiceDetailsUpdated=function(){n.props.loadBillingInfo(!0)},n.renderLicenseKeys=function(){return u.default.createElement("div",{className:"jest-license-keys account-page-block"},u.default.createElement(I.LicenseKeys,{licenseKeys:n.props.billingInfo.license_keys}))},n.renderBillingHistory=function(){var e=n.props.billingInfo,t=e.transactions,a=e.show_edit_invoice_modal,i=e.edit_past_invoices,s=a&&i,o=!1;null!==t&&t.transactions.length>0&&(o=g.getHistoryData(t.transactions).length>3);return u.default.createElement(j.BillingHistory,{showEditInvoiceModal:s,transactions:t.transactions,filters:t.filters,hasMore:o})},n.renderPaymentMethod=function(){if(!(n.disallowChangesToCurrentBilling||n.props.trialsConfig&&n.props.trialsConfig.hideBillingModal)){var e=n.props.billingInfo.payment_info,t=e.gateway_id,a=e.expiration_date,i=e.description,s=e.is_reseller_billing,o=e.end_date,r=e.deactivated,l=e.is_on_trial,d=e.reseller_name,c=e.reseller_link;if(s){var m=p.intl.formatMessage({id:"b9rPCC",defaultMessage:"Go to {reseller_name} to view or make changes to your account details"},{reseller_name:d}),_=u.default.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer"},m);return u.default.createElement(N.KeyValueBlock,{className:"jest-update-payment",keyText:_})}if(-1!==t){if(!h.shouldHidePaymentMethod(t)&&!n.props.billingInfo.payment_method)return u.default.createElement(N.KeyValueBlock,{className:"add-payment jest-update-payment",keyText:p.intl.formatMessage({id:"7Au+O9",defaultMessage:"You can add your payment information now to have your subscription automatically renew when it expires"}),linkText:p.intl.formatMessage({id:"YcxVqg",defaultMessage:"Add"}),onLinkClick:n.handlePaymentAddToResubscribe});if(h.isLicenseKey(t))return u.default.createElement("div",{className:"account-page-block"},u.default.createElement(N.KeyValueBlock,{className:"jest-update-payment",keyText:p.intl.formatMessage({id:"DlX7Ow",defaultMessage:"Payment method"}),subtext:p.intl.formatMessage({id:"nST3rs",defaultMessage:"Add your payment information now to have your subscription automatically renew when it expires"}),linkText:p.intl.formatMessage({id:"CyOG7U",defaultMessage:"Add payment method"}),onLinkClick:n.handlePaymentAdd}));if(h.shouldHidePaymentMethod(t)){var f=h.getPaymentMethodDisabledMessage(t,s,R.TRADEMARK_PLUS,o,r,l);return u.default.createElement(N.KeyValueBlock,{className:"jest-update-payment",keyText:f})}var g=i;return null!==a&&(g=p.intl.formatMessage({id:"3tRkOA",defaultMessage:"{payment_description}, exp: {expiration_date}"},{payment_description:i,expiration_date:a})),u.default.createElement(N.KeyValueBlock,{className:"update-payment-key-value jest-update-payment",keyText:p.intl.formatMessage({id:"DlX7Ow",defaultMessage:"Payment method"}),valueText:g,linkText:p.intl.formatMessage({id:"+5HiT6",defaultMessage:"Update"}),onLinkClick:n.handlePaymentUpdate})}}},n.renderBillingPeriod=function(){if(!n.disallowChangesToCurrentBilling){var e=n.props.billingInfo,t=e.payment_info,a=e.scheduled_for_downgrade;if(!h.shouldHideBillingChange(t.gateway_id,t.is_reseller_billing)&&t.period){if(!t.schedule_switchable&&!a&&!n.isProfessionalTrialPlan)return u.default.createElement(N.KeyValueBlock,{className:"jest-change-billing-period",keyText:p.intl.formatMessage({id:"R8sDaj",defaultMessage:"Sorry, you cannot change your billing schedule at this time."})});var i="yearly"===t.period?p.intl.formatMessage({id:"qklV/o",defaultMessage:"Plan billed yearly"}):p.intl.formatMessage({id:"tWmQYf",defaultMessage:"Plan billed monthly"});return u.default.createElement(N.KeyValueBlock,{className:"lookup-charge-key-value jest-change-billing-period",keyText:p.intl.formatMessage({id:"2ln1p6",defaultMessage:"Billing period"}),valueText:i,linkText:p.intl.formatMessage({id:"ZPvZld",defaultMessage:"Change"}),onLinkClick:n.handleBillingChange,disabled:t&&t.is_in_grace_period})}}},n.renderInvoiceDetails=function(){var e=n.props.billingInfo,t=e.show_edit_invoice_modal,a=e.payment_info,i=e.payment_method,s=e.has_invoice_details;if(n.user.paid&&t&&!h.shouldHideBillingChange(a.gateway_id,a.is_reseller_billing)&&a.period)return u.default.createElement(F.InvoiceDetails,{onLinkClick:n.onEditInvoiceDetailsClick,has_invoice_details:s,country_code:i?i.country_code:void 0})},n.openChangePlanModal=function(e){var t=!1;if(!e&&"ON"===n.props.planInfo.expMontana){var a=n.props.planInfo,i=a.montanaAnnouncementDate,s=a.usersMontanaMigrationDate,o=a.usersFirstMontanaRebillDate,r=a.now;t=k.getMontanaDateBooleans({montanaAnnouncementDate:i,usersFirstMontanaRebillDate:o,usersMontanaMigrationDate:s,now:r}).isAfterFirstMontanaRebill,k.MontanaLogger.logEvent("cancel_view",{featureType:"change_plan"})}T.ChangePlanModalView.showInstance({transitionPerformed:n.reloadData,expMontana:n.props.planInfo.expMontana,shouldApplyMontanaRetentionPolicy:t,shouldShowRedesignedModal:e})},n.openChangeScheduleModal=function(){var e=n.props,t=e.planInfo,a=e.browserUpdateRequired,i=t.paymentInfo,s=t.expMontana;k.MontanaLogger.isInitialized()&&k.MontanaLogger.logEvent("cancel_view",{featureType:"yearly_billing"}),L.ChangeScheduleModalView.showInstance({transitionPerformed:n.reloadData,paymentInfo:i,browserUpdateRequired:a,expMontana:s,isMontanaDowngradeFlow:!0})},n.showMontanaModalFlow=function(){H.logVariantExposure("montana_master_switch",n.props.planInfo.expMontana),n.setState({showMontanaModalFlow:!0})},n.openMontanaRenewSuccessModal=function(){return a.__awaiter(n,void 0,void 0,(function(){return a.__generator(this,(function(e){switch(e.label){case 0:return[4,this.props.loadPlanDataIfNecessary(!0,!0)];case 1:return e.sent(),this.setState({showMontanaRenewSuccessModal:!0}),[2]}}))}))},n.openIndividualCancelSurvey=function(){var e,t,a,i;O.ProEventsLogger.log("individual_cancel_survey_modal_view",{current_product_plan_type:null===(t=null===(e=n.subStatus)||void 0===e?void 0:e.subState.plan)||void 0===t?void 0:t.productType}),q.logEvent({eventMessageName:"ShownPlusCancelSurveyModal",event:z.hql_events.ShownPlusCancelSurveyModal.create({currentProductPlanType:null===(i=null===(a=n.subStatus)||void 0===a?void 0:a.subState.plan)||void 0===i?void 0:i.productType})}),n.setState({showIndividualCancelSurvey:!0})},n.closeIndividualCancelSurvey=function(){n.setState({showIndividualCancelSurvey:!1})},n.hideMontanaModalFlow=function(){n.setState({showMontanaModalFlow:!1})},n.closeMontanaRenewSuccessModal=function(){n.setState({showMontanaRenewSuccessModal:!1})},n.renderCancelPlanButton=function(){var e,t,a=n.props.expRetentionAccountWayfindingProps.expRetentionAccountWayfinding,i=n.props.planInfo,s=i.usageBreakdown,o=i.scheduledForDowngrade,r=i.paymentInfo,l=i.eligibleFor1tb,d=i.expMontana,c=i.basicSkuContent,m=n.subStatus;if(t=V.Experiment(d).isActive&&m&&k.isValidMontanaUserState(m,n.props.planInfo)?n.showMontanaModalFlow:n.openIndividualCancelSurvey,!(n.isExternallyBilled||o||n.isProfessionalTrialPlan||!n.isPersonalUser&&!n.isLimitedTeam||!r||h.shouldHideBillingChange(null==r?void 0:r.gateway_id,null==r?void 0:r.is_reseller_billing)||(null===(e=n.props.trialsConfig)||void 0===e?void 0:e.hideCancelPlan))){var p={expRetentionAccountWayfinding:a};return u.default.createElement(w.CancelPlan,{experiments:p,usageBreakdown:s,subStatus:m,eligibleFor1tb:l,basicSkuContent:c,onClick:t})}},n.renderModals=function(){var e=n.props,t=e.expMontana,i=e.expRetentionAccountWayfindingProps,s=e.planInfo,o=i.firstName;if(n.subStatus){if(n.state.showIndividualCancelSurvey){var r={firstName:o,onClose:n.closeIndividualCancelSurvey,subStatus:n.subStatus,expMontanaActive:V.Experiment(t).isActive&&n.subStatus&&k.isValidMontanaUserState(n.subStatus,s),nextModal:function(){},prevModal:function(){},exitModalFlow:function(){},goToModal:function(){},modalFlowState:{}};return u.default.createElement(D.IndividualCancelSurveyModal,a.__assign({},r))}return n.state.showMontanaModalFlow?u.default.createElement(C.MontanaModalFlow,{firstName:o,subStatus:n.subStatus,onClose:n.hideMontanaModalFlow,planInfo:s,openChangePlanModal:n.openChangePlanModal,openChangeScheduleModal:n.openChangeScheduleModal,openMontanaRenewSuccessModal:n.openMontanaRenewSuccessModal}):n.state.showMontanaRenewSuccessModal?u.default.createElement(P.RenewSuccessModal,{subStatus:n.subStatus,planInfo:s,onClose:n.closeMontanaRenewSuccessModal}):void 0}},n.handleLookUpCharge=function(){O.ProEventsLogger.log("de_billing_tab_look_up_charge_click",{},(function(){i.redirect("/payments/find_receipt")}))},n.renderLookUpCharge=function(){return u.default.createElement(N.KeyValueBlock,{keyText:p.intl.formatMessage({id:"oxKUAB",defaultMessage:"Look up a credit or debit card purchase"}),linkText:p.intl.formatMessage({id:"bt45Zn",defaultMessage:"Look up charge"}),onLinkClick:n.handleLookUpCharge})},n.user=f.getCurrentUser(),d.DBModalStack.register(l.BILLING_INFO_UPDATED,(function(e,t){O.ProEventsLogger.log("de_payment_modal_save_click"),n.props.loadBillingInfo(!0),n.props.loadPlanDataIfNecessary(!0),n.handleRebillUpsell(t),n.handleAddBillUpsell()})),n.state={showIndividualCancelSurvey:!1,showMontanaModalFlow:!1,showMontanaRenewSuccessModal:!1},n}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.expRetentionAccountWayfindingProps.expRetentionAccountWayfinding;this.props.loadBillingInfo(),V.Experiment(t).variantIs("V2")&&this.props.loadPlanDataIfNecessary(),this.checkTTIstate(),O.ProEventsLogger.log("de_billing_tab_view"),this.events.on(window,"hashchange",(function(){e.displayResubscribeBillingModal(),e.displayUpdateBillingModal(),e.displayAddScheduleModal()})),this.displayResubscribeBillingModal(),this.displayUpdateBillingModal(),this.displayAddScheduleModal();var a=i.get_hash(),n=i.get_uri().getQuery().exp_renewals_pro_mobile_payment_page;void 0!==a&&-1!==a.search("billing_info")&&-1===a.search("resubscribe_billing_info")&&["V1","V2"].includes(n)&&O.ProEventsLogger.log("exp_renewals_pro_mobile_payment_page_"+n,{isAndroid:s.is_android(),isMobile:s.is_supported_mobile_browser(),isIOS:s.iOS})},t.prototype.componentDidUpdate=function(){this.checkTTIstate()},t.prototype.displayUpdateBillingModal=function(){var e=i.get_hash(),t=void 0!==e&&-1!==e.search("billing_info")&&-1===e.search("resubscribe_billing_info"),a=o.URI.parse(i.get_href()).getQuery().modal;if(t||a&&"billing_info"===a){if(!this.user.paid)return;if(this.browserUpdateRequired())return;if(this.props.trialsConfig&&this.props.trialsConfig.hideBillingModal)return;Y.IndividualUpdateBillingModalLoader.showInstance()}},t.prototype.displayResubscribeBillingModal=function(){var e=i.get_hash();if(void 0!==e&&-1!==e.search("resubscribe_billing_info")){if(this.browserUpdateRequired())return;Y.IndividualUpdateBillingModalLoader.showInstance()}},t.prototype.displayAddScheduleModal=function(){var e=i.get_hash(),t=void 0!==e&&-1!==e.search("add_schedule"),a=o.URI.parse(i.get_href()).getQuery().modal;(t||a&&"add_schedule"===a)&&this.user.paid&&!this.browserUpdateRequired()&&this.props.trialsConfig&&!this.props.trialsConfig.hideBillingModal&&r.AddScheduleModalView.showInstance({transitionPerformed:this.reloadData,project:this.props.trialsConfig.project,productType:W.SkuContentClient.deserialize(this.props.trialsConfig.trialPlan.skuContent).dropboxDisplayName(),userId:this.user.id,skuCode:this.props.trialsConfig.trialPlan.skuCode,duration:this.props.trialsConfig.trialPlan.duration,billingId:this.props.billingInfo.payment_info.gateway_id})},Object.defineProperty(t.prototype,"subStatus",{get:function(){var e=this.props.billingInfo.serialized_sub_status;if(e)return B.SubscriptionStatus.deserialize(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isProfessionalTrialPlan",{get:function(){var e,t;return(null===(t=null===(e=this.subStatus)||void 0===e?void 0:e.subState.plan)||void 0===t?void 0:t.productType)===x.ProductPlanType.PROFESSIONAL_TRIAL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFamilyPayerPlan",{get:function(){var e,t;return(null===(t=null===(e=this.subStatus)||void 0===e?void 0:e.subState.plan)||void 0===t?void 0:t.productType)===x.ProductPlanType.FAMILY_PAYER},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFamilyNonPayerPlan",{get:function(){var e,t;return(null===(t=null===(e=this.subStatus)||void 0===e?void 0:e.subState.plan)||void 0===t?void 0:t.productType)===x.ProductPlanType.FAMILY_NONPAYER},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disallowChangesToCurrentBilling",{get:function(){return!this.user.paid||this.isFamilyNonPayerPlan},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldShowRedesignedModal",{get:function(){return V.Experiment(this.props.expRetentionAccountChanges).isActive},enumerable:!0,configurable:!0}),t.prototype.checkTTIstate=function(){this.props.dataLoadedForTTI&&(_.mark_time_to_view(),_.mark_time_to_interactive())},Object.defineProperty(t.prototype,"isExternallyBilled",{get:function(){return void 0===this.subStatus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPersonalUser",{get:function(){return"personal"===f.getCurrentUser().role},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLimitedTeam",{get:function(){return this.props.planInfo.isLimitedTeam},enumerable:!0,configurable:!0}),t.prototype.isLoading=function(){return"ready"!==this.props.loadingState},t.prototype.render=function(){var e=this.props.expRetentionAccountWayfindingProps.expRetentionAccountWayfinding;return this.isLoading()?u.default.createElement(A.Loading,null):u.default.createElement("div",{className:"account-page-tab"},this.renderPaymentMethod(),this.renderBillingPeriod(),this.renderInvoiceDetails(),!this.isFamilyPayerPlan&&!this.isFamilyNonPayerPlan&&this.renderLicenseKeys(),V.Experiment(e).isActive&&this.renderLookUpCharge(),V.Experiment(e).variantIs("V2")&&this.renderCancelPlanButton(),V.Experiment(e).variantIs("V2")&&this.renderModals(),this.renderBillingHistory())},t=a.__decorate([n.eventHandler],t)})(u.default.Component);t.BillingTabView=G;var K=c.connect((function(e,t){return{browserUpdateRequired:t.browserUpdateRequired,expRetentionAccountWayfindingProps:t.expRetentionAccountWayfindingProps,expRetentionAccountChanges:t.expRetentionAccountChanges,billingInfo:e.billingInfo.billingInfo,planInfo:e.planTab.planInfo,loadingState:e.billingInfo.loadingState,dataLoadedForTTI:"ready"===e.billingInfo.loadingState}}),(function(e){return{loadBillingInfo:function(t){return void 0===t&&(t=!1),e(y.loadDataIfNecessary(t))},loadPlanDataIfNecessary:function(t,a){return void 0===t&&(t=!1),e(M.loadDataIfNecessary(t,a))},loadEvhInfoIfNecessary:function(t){return void 0===t&&(t=!1),e(b.loadEvhInfoIfNecessary(t))}}}))(G);t.BillingTab=m.requireCssWithComponent(K,["/static/css/account/pagelet/billing_tab-vflhHn2-5.css","/static/css/plan_management-vflP5THx3.css"])})),define("modules/clean/account_page/widgets/billing/action_creators",["require","exports","tslib","modules/clean/account_page/widgets/billing/api","modules/clean/account_page/util"],(function(e,t,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadDataIfNecessary=function(e){var t=this;return void 0===e&&(e=!1),function(s,o){return a.__awaiter(t,void 0,void 0,(function(){var t;return a.__generator(this,(function(a){switch(a.label){case 0:return"never_loaded"===o().billingInfo.loadingState||e?(s({type:"billing_info_load"}),[4,n.getBillingInfo(i.getCurrentUser().id)]):[3,2];case 1:return t=a.sent(),s({type:"billing_info_loaded",billingInfo:t}),[2,!0];case 2:return[2,!1]}}))}))}}})),define("modules/clean/account_page/widgets/billing/api",["require","exports","modules/clean/ajax_as_promised"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBillingInfo=function(e){return a.WebRequest({url:"/account/ajax_billing_tab_model",subject_user:e,dataType:"json"})}})),define("modules/clean/account_page/widgets/billing/billing_history/api",["require","exports","tslib","modules/clean/ajax_as_promised"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBillingHistory=function(e,t,i,s){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(a){return[2,n.WebRequest({url:"/account/ajax_load_more_billing_history/",data:{block:t,filter_type:i,filter_change:s},subject_user:e,dataType:"json"})]}))}))}})),define("modules/clean/account_page/widgets/billing/billing_history/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"})(t.BillingHistoryOrder||(t.BillingHistoryOrder={}))})),define("modules/clean/account_page/widgets/billing/views/billing_history",["require","exports","tslib","react","modules/core/i18n","modules/clean/account_page/util","modules/clean/teams/admin/widgets/billing_history/billing_history_table","modules/clean/teams/admin/lib/billing_history","modules/clean/analytics","modules/clean/account_page/widgets/billing/billing_history/api","modules/clean/account_page/widgets/billing/billing_history/types","modules/clean/static_urls"],(function(e,t,a,n,i,s,o,r,l,d,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=(function(e){function t(t){var n=e.call(this,t)||this;return n.loadMoreBillingHistory=function(e){return a.__awaiter(n,void 0,void 0,(function(){var t;return a.__generator(this,(function(a){switch(a.label){case 0:return this.setState({isLoading:!0}),l.ProEventsLogger.log("de_billing_history_view_more_click"),e.preventDefault(),[4,d.getBillingHistory(s.getCurrentUser().id,this.state.numBlocksLoaded,this.state.filter,!1)];case 1:return t=a.sent(),this.setState((function(e){return{transactions:e.isInitialLoad?t.transactions:e.transactions.concat(t.transactions),hasMore:t.hasMore,isLoading:!1,numBlocksLoaded:e.numBlocksLoaded+1,isInitialLoad:!1}})),[2,!1]}}))}))},n.changeFilter=function(e){return a.__awaiter(n,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(a){switch(a.label){case 0:return this.setState({isLoading:!0,filter:e}),l.ProEventsLogger.log("de_billing_history_change_filter_click"),[4,d.getBillingHistory(s.getCurrentUser().id,this.state.numBlocksLoaded,e,!0)];case 1:return t=a.sent(),this.state.isInitialLoad&&(n=r.getHistoryData(t.transactions),t.hasMore=n.length>3),this.setState((function(e){return{transactions:t.transactions,hasMore:t.hasMore,isLoading:!1,numBlocksLoaded:e.numBlocksLoaded,isInitialLoad:e.isInitialLoad}})),[2,!1]}}))}))},n.changeOrder=function(){n.setState((function(e){return{order:e.order===u.BillingHistoryOrder.ASCENDING?u.BillingHistoryOrder.DESCENDING:u.BillingHistoryOrder.ASCENDING}})),l.ProEventsLogger.log("de_billing_history_change_order_click")},n.handlePopoverSelection=function(e){n.state.filter!==e&&n.state.order!==e&&(e===u.BillingHistoryOrder.ASCENDING||e===u.BillingHistoryOrder.DESCENDING?n.changeOrder():n.changeFilter(e))},n.state={transactions:n.props.transactions?n.props.transactions.slice():[],hasMore:n.props.hasMore,isLoading:!1,numBlocksLoaded:0,isInitialLoad:!0,filter:"all_time",order:u.BillingHistoryOrder.ASCENDING},n}return a.__extends(t,e),t.prototype.render=function(){return n.default.createElement("div",{className:"account-page-block"},n.default.createElement("span",{className:"account-page-block__heading"},i.intl.formatMessage({id:"h9UTH1",defaultMessage:"Billing history"})),n.default.createElement("p",{className:"account-page-block__subtext"},i.intl.formatMessage({id:"efUvgd",defaultMessage:"View invoices and receipts for all payments made on your Dropbox account."})),n.default.createElement("div",{className:"billing-table-container"},n.default.createElement(o.BillingHistoryTable,{billingHistoryRecords:this.getHistory(),amountLabel:i.intl.formatMessage({id:"Q9yFMv",defaultMessage:"Amount"}),displayNoTransactionsOnEmptyRecords:!0,showEditInvoiceModal:this.props.showEditInvoiceModal,noTransactionLabel:i.intl.formatMessage({id:"lj3d2i",defaultMessage:"No transaction history"}),footer:this.buildFooter(),logAccountBillingTabEvents:!0,isTeam:!1,filter:this.state.filter,order:this.state.order,onSelection:this.handlePopoverSelection,filters:this.props.filters})))},t.prototype.getHistory=function(){var e=[];return this.state.transactions.length>0&&(e=r.getHistoryData(this.state.transactions),this.state.isInitialLoad&&(e=e.slice(0,3))),this.state.order===u.BillingHistoryOrder.ASCENDING?e:e.reverse()},t.prototype.buildFooter=function(){return this.state.isLoading?n.default.createElement("tr",{className:"billing-history-row"},n.default.createElement("td",{colSpan:4,className:"billing-history-col"},n.default.createElement("img",{src:c.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:i.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"})}))):this.state.hasMore?n.default.createElement("tr",{className:"billing-history-row"},n.default.createElement("td",{colSpan:4,className:"billing-history-col"},n.default.createElement("a",{href:"#",rel:"noopener noreferrer",onClick:this.loadMoreBillingHistory},i.intl.formatMessage({id:"Td8CMX",defaultMessage:"View more billing history"})))):void 0},t})((n=a.__importDefault(n)).default.Component);t.BillingHistory=m})),define("modules/clean/account_page/widgets/billing/views/license_keys",["require","exports","tslib","modules/core/i18n","modules/core/browser","react","modules/clean/react/css","modules/clean/account_page/components/account_table","modules/clean/account_page/components/key_value_block"],(function(e,t,a,n,i,s,o,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=a.__importStar(i);var d=(function(e){function t(t){var a=e.call(this,t)||this;return a.licenseRowsIncrement=3,a.handleRedeemClick=function(){i.redirect("/pro/redeem_key")},a.buildLicenseFooter=function(){if(a.state.showViewMore)return s.default.createElement("tr",{className:"license-footer-row"},s.default.createElement("td",{colSpan:4},s.default.createElement("a",{onClick:a.showMoreLicense,href:"",rel:"noopener noreferrer"},n.intl.formatMessage({id:"fiL806",defaultMessage:"View more license keys"}))))},a.showMoreLicense=function(e){e.preventDefault(),a.setState((function(e,t){var n=e.maxShow+a.licenseRowsIncrement;return{maxShow:n,showViewMore:n<t.licenseKeys.length}}))},a.buildStatus=function(e){return e.activated?n.intl.formatMessage({id:"7rnsEt",defaultMessage:"Activated on {activated_date}"},{activated_date:e.activated_date}):n.intl.formatMessage({id:"QJkpjq",defaultMessage:"Scheduled for future use"})},a.buildDuration=function(e){return e.duration?e.duration:n.intl.formatMessage({id:"CNLpjm",defaultMessage:"N/A"})},a.buildLicenseKeyTable=function(){var e=a.props.licenseKeys;if(0!==e.length)return s.default.createElement("div",{className:"license-table-container"},s.default.createElement(r.Table,{className:"license-table"},s.default.createElement(r.TableHead,null,s.default.createElement(r.HeaderRow,{className:"license-header-row"},s.default.createElement(r.HeaderCell,{className:"license-key-header"},n.intl.formatMessage({id:"xn3SDu",defaultMessage:"Key"})),s.default.createElement(r.HeaderCell,{className:"license-redeemed-header"},n.intl.formatMessage({id:"Ncw9cm",defaultMessage:"Redeemed"})),s.default.createElement(r.HeaderCell,{className:"license-duration-header"},n.intl.formatMessage({id:"E3AATa",defaultMessage:"Duration"})),s.default.createElement(r.HeaderCell,{className:"license-status-header"},n.intl.formatMessage({id:"uufVvn",defaultMessage:"Status"})))),s.default.createElement(r.TableFooter,{className:"license-footer"},a.buildLicenseFooter()),s.default.createElement(r.TableBody,null,e.map((function(e,t){if(!(t>=a.state.maxShow))return s.default.createElement(r.BodyRow,{className:"license-body-row "+(e.activated?"activated":"unused"),key:e.key},s.default.createElement(r.BodyCell,{className:"license-key"},e.key),s.default.createElement(r.BodyCell,{className:"license-redeemded"},e.redeemed_date),s.default.createElement(r.BodyCell,{className:"license-duration"},a.buildDuration(e)),s.default.createElement(r.BodyCell,{className:"license-status"},a.buildStatus(e)))})))))},a.state={maxShow:3,showViewMore:!1},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.setState((function(e,t){return{showViewMore:e.maxShow<t.licenseKeys.length}}))},t.prototype.render=function(){return s.default.createElement("div",{className:"license-keys"},s.default.createElement(l.KeyValueBlock,{className:"redeem-license-key",keyText:n.intl.formatMessage({id:"M25rlh",defaultMessage:"License keys"}),linkText:n.intl.formatMessage({id:"dDHqbP",defaultMessage:"Redeem a license key"}),onLinkClick:this.handleRedeemClick,subtext:n.intl.formatMessage({id:"qDYIgp",defaultMessage:"License keys will be applied before any other form of payment method"})}),this.buildLicenseKeyTable())},t})((s=a.__importDefault(s)).default.Component);t.LicenseKeys=o.requireCssWithComponent(d,["/static/css/account/pagelet/license_keys-vflg0II5y.css"])})),define("modules/clean/account_page/widgets/billing/views/invoice_details",["require","exports","tslib","react","modules/core/i18n","modules/clean/account_page/components/key_value_block","modules/clean/payments/validation"],(function(e,t,a,n,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.country_code,a=e.has_invoice_details,r=i.intl.formatMessage({id:"uD4mCH",defaultMessage:"Add details to your invoice, such as company name and address."});t&&o.hasVat(t)&&(r=i.intl.formatMessage({id:"uhx0D0",defaultMessage:"Add details to your invoice, such as company name, address, and VAT ID."}));var l=a?i.intl.formatMessage({id:"+5HiT6",defaultMessage:"Update"}):i.intl.formatMessage({id:"VLPo6o",defaultMessage:"Add invoice details"});return n.default.createElement(s.KeyValueBlock,{keyText:i.intl.formatMessage({id:"IyXKYR",defaultMessage:"Invoice details"}),linkText:l,subtext:r,onLinkClick:this.props.onLinkClick})},t})((n=a.__importDefault(n)).default.Component);t.InvoiceDetails=r})),define("modules/clean/account_page/widgets/plan/action_creators",["require","exports","tslib","modules/clean/account_page/widgets/plan/api","modules/clean/account_page/util"],(function(e,t,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadDataIfNecessary=function(e,t){var s=this;return function(o,r){return a.__awaiter(s,void 0,void 0,(function(){var s;return a.__generator(this,(function(a){switch(a.label){case 0:return"never_loaded"===r().planTab.loadingState||e?(t||o({type:"plan_tab_load_info"}),[4,n.getPlanInfo(i.getCurrentUser().id)]):[3,2];case 1:return s=a.sent(),o({type:"plan_tab_info_loaded",planInfo:s}),[2,!0];case 2:return[2,!1]}}))}))}}})),define("modules/clean/account_page/widgets/plan/add_ons/action_creators",["require","exports","tslib","modules/clean/account_page/util","modules/clean/account_page/widgets/plan/add_ons/api"],(function(e,t,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadEvhInfoIfNecessary=function(e){var t=this;return function(s,o){return a.__awaiter(t,void 0,void 0,(function(){var t;return a.__generator(this,(function(a){switch(a.label){case 0:return"never_loaded"===o().planTab.evhLoadingState||e?(s({type:"load_evh_info"}),[4,i.getEvhInfo(n.getCurrentUser().id)]):[3,2];case 1:return t=a.sent(),s({type:"evh_info_loaded",evhInfo:t}),[2,!0];case 2:return[2,!1]}}))}))}}})),define("modules/clean/account_page/widgets/plan/add_ons/api",["require","exports","tslib","modules/clean/ajax_as_promised"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEvhInfo=function(e){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(t){return[2,n.WebRequest({url:"/account/ajax_get_evh_info",subject_user:e,dataType:"json"})]}))}))}})),define("modules/clean/account_page/widgets/plan/api",["require","exports","tslib","modules/clean/ajax_as_promised"],(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPlanInfo=function(e){return a.__awaiter(this,void 0,Promise,(function(){return a.__generator(this,(function(t){return[2,n.WebRequest({url:"/account/ajax_plan_tab_model",subject_user:e,dataType:"json"})]}))}))}})),define("modules/clean/account_page/widgets/plan/constants",["require","exports","modules/clean/payments/skus/constants"],(function(e,t,a){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CHANGE_IND_PLAN_MODAL_UPDATED="change_inv_plan_modal:updated",t.planTypeToUpgrades=((n={})[a.ProductPlanType.FAMILY_PAYER]=[a.ProductPlanType.PROFESSIONAL],n[a.ProductPlanType.PROFESSIONAL]=[],n[a.ProductPlanType.PLUS]=[a.ProductPlanType.PROFESSIONAL,a.ProductPlanType.FAMILY_PAYER],n)})),define("modules/clean/account_page/widgets/plan/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.MONTHLY=1]="MONTHLY",e[e.YEARLY=2]="YEARLY",e[e.PLUS=3]="PLUS",e[e.PROFESSIONAL=4]="PROFESSIONAL",e[e.ADD_EVH=5]="ADD_EVH",e[e.REMOVE_EVH=6]="REMOVE_EVH"})(t.PerformPlanTransition||(t.PerformPlanTransition={}))})),define("modules/clean/account_page/widgets/plan/views/add_schedule_modal",["require","exports","tslib","react","classnames","modules/clean/analytics","modules/clean/account_page/util","modules/clean/payments/skus/constants","modules/clean/react/css","modules/clean/react/modal","modules/clean/static_urls","modules/core/i18n","modules/core/notify","modules/clean/react/growth/trials/requests","modules/clean/react/growth/logging_util","modules/clean/account_page/widgets/plan/views/npt_billing_schedule_items"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importDefault(i);var g=(function(e){function t(t){var a=e.call(this,t)||this;return a.closeModals=function(){d.Modal.close()},a.onAccept=function(){var e=a.props,t=e.project,n=e.userId,i=e.skuCode,s=e.billingId,o=a.state,r={trial_sku_code:i,conversion_token:o.trialPriceConversions[o.finalBillingScheduleId].conversion_token,billing_id:s.toString()};a.setState({submitting:!0}),p.enableAutoConvert(n,t,_.ComponentName.TRIAL_ENABLE_AUTO_CONVERT_MODAL,r,(function(){m.Notify.success(c.intl.formatMessage({id:"RNIIJ0",defaultMessage:"You’ve added your billing period!"})),a.props.transitionPerformed&&a.props.transitionPerformed(),a.closeModals()}),(function(){m.Notify.error(c.intl.formatMessage({id:"OXfp6E",defaultMessage:"There was an error adding the billing period!"})),a.setState({submitting:!1})}))},a.changeProductScheduleType=function(e){a.setState({finalBillingScheduleId:e})},a.onDismissModal=function(){s.ProEventsLogger.log("add_schedule_modal_dismiss")},a.state={loadingContent:!0,submitting:!1,type:"",trialPriceConversions:{},finalBillingScheduleId:r.ScheduleId.YEARLY},a}return a.__extends(t,e),t.showInstance=function(e){d.Modal.showInstance(n.default.createElement(t.AddScheduleModal,a.__assign({},e)))},t.prototype.componentDidMount=function(){this.loadPlanTransitions()},t.prototype.loadPlanTransitions=function(){var e=this,t=this.props,a=t.project,n=t.productType,i=t.userId,s={trial_sku_code:t.skuCode,trial_duration:t.duration,schedule_ids:[r.ScheduleId.MONTHLY,r.ScheduleId.YEARLY]};p.getPriceConversionsForSchedule(i,a,_.ComponentName.TRIAL_ENABLE_AUTO_CONVERT_MODAL,s,(function(t){if(t){var a=t.trial_price_conversions;a[r.ScheduleId.MONTHLY]&&a[r.ScheduleId.YEARLY]||(m.Notify.error(c.intl.formatMessage({id:"C2BKnZ",defaultMessage:"Failed to load modal."})),e.closeModals()),e.setState({loadingContent:!1,type:n,trialPriceConversions:a})}}),(function(){m.Notify.error(c.intl.formatMessage({id:"C2BKnZ",defaultMessage:"Failed to load modal."})),e.closeModals()}))},Object.defineProperty(t.prototype,"scheduleTransitionText",{get:function(){var e=this.state,t=e.trialPriceConversions,a=e.finalBillingScheduleId,i=t[a.toString()],s=a===r.ScheduleId.MONTHLY?"monthly":"yearly";return n.default.createElement("div",null,n.default.createElement("span",{className:"change-summary"},c.intl.formatMessage({id:"38ZvV3",defaultMessage:"Purchase summary"})),n.default.createElement("p",{className:"plan-transition"},c.intl.formatMessage({id:"Ufvtdi",defaultMessage:"Your trial ends on {date}. If you don’t <cancelLink>cancel</cancelLink> your free trial by that date, we’ll charge you {scheduled_total} per {schedule} (including applicable taxes) until you cancel your plan. If you have any charges after your trial, they <refundLink>won’t be refunded</refundLink> when you <downgradeLink>cancel</downgradeLink>, <legalLink>unless it’s legally required</legalLink>. All amounts shown are in {currency}."},{date:i.formatted_trial_end_date,schedule:s,scheduled_total:i.total_amount,currency:i.currency,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)},cancelLink:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("a",{"aria-label":c.intl.formatMessage({id:"lGpNw6",defaultMessage:"CancelLink"}),href:"#",onClick:o.logClickAndRedirect("de_cancel_link_click","/help/accounts-billing/cancellations-refunds/cancel-free-trial",{from:"add_billing_modal"})},e)},refundLink:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("a",{"aria-label":c.intl.formatMessage({id:"WSrUNs",defaultMessage:"RefundLink"}),href:"#",onClick:o.logClickAndRedirect("de_refund_link_click","/terms",{from:"add_billing_modal"})},e)},downgradeLink:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("a",{"aria-label":c.intl.formatMessage({id:"zuLHeg",defaultMessage:"DowngradeLink"}),href:"#",onClick:o.logClickAndRedirect("de_downgrade_link_click","/help/accounts-billing/cancellations-refunds/downgrade-dropbox-plus-professional-plans",{from:"add_billing_modal"})},e)},legalLink:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("a",{"aria-label":c.intl.formatMessage({id:"enHZxv",defaultMessage:"LegalLink"}),href:"#",onClick:o.logClickAndRedirect("de_legal_link_click","/help/accounts-billing/payments-billing/refund",{from:"add_billing_modal"})},e)}})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"acceptButtonDisabled",{get:function(){var e=this.state,t=e.loadingContent,a=e.submitting;return t||a},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e,t=this.state,a=t.loadingContent,s=t.submitting,o=t.trialPriceConversions,r=t.finalBillingScheduleId,l=t.type,m=c.intl.formatMessage({id:"nRgwkK",defaultMessage:"Step 2/2: choose your billing period"});e=a?n.default.createElement("div",{className:"loading-indicator"},n.default.createElement("img",{src:u.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:c.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"})})):n.default.createElement("div",null,n.default.createElement("div",null,n.default.createElement(f.NptBillingScheduleItems,{trialPriceConversions:o,finalBillingScheduleId:r,planName:l,changeProductScheduleType:this.changeProductScheduleType})),n.default.createElement("div",{className:"plan-footer u-font-meta"},this.scheduleTransitionText));var p=i.default("change-plan-modal");return n.default.createElement(d.Modal,{acceptButtonDisabled:this.acceptButtonDisabled,acceptButtonText:c.intl.formatMessage({id:"IyiEVq",defaultMessage:"Confirm purchase"}),className:p,dismissButtonText:c.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"}),onDismiss:this.onDismissModal,autoClose:!1,onAccept:this.onAccept,submitting:s,title:m,autoFocusPrimaryInput:!1},e)},t.AddScheduleModal=l.requireCssWithComponent(t,["/static/css/teams/admin/widgets/add_schedule_modal/add_schedule_modal-vflWyKAhY.css"]),t})(n.default.Component);t.AddScheduleModalView=g})),define("modules/clean/account_page/widgets/plan/views/add_covid_promo_modal",["require","exports","tslib","react","dig-components/modal","dig-components/typography","modules/core/i18n","modules/clean/react/modal","dig-components/buttons","modules/clean/account_page/widgets/plan/views/downgrade_confirmation_modal","modules/clean/react/survey/types/survey_types","modules/core/browser","dig-components/typography","dig-components/snackbar","modules/clean/react/snackbar","modules/clean/payments/skus/constants","modules/clean/api_v2/user_client","modules/clean/account_page/util","modules/clean/account_page/constants","modules/core/notify","modules/clean/payments/cash","modules/clean/analytics"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f,g,h,y,M,b,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),c=a.__importStar(c),t.AddPromoConfirmationModal=function(e){var t,a,p=n.default.useState(!1),L=p[0],T=p[1],w=e.subStatus.subState.billingSchedule.id===f.ScheduleId.MONTHLY,D=function(){if(e.subStatus.subState.billingSchedule.id===f.ScheduleId.YEARLY)return e.subStatus.currentBillingSummary.total.multiply(y.COVID_ACTIVE_YEARLY_PERCENT_OFF/100).formatCurrency()},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement(m.Link,{href:"https://www.dropbox.com/help/billing/cancel-dropbox-plus",hasNoUnderline:!0},e)},P=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement(m.Link,{href:"https://www.dropbox.com/terms",hasNoUnderline:!0},e)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement(m.Link,{href:"https://www.dropbox.com/help/billing/plus-refund",hasNoUnderline:!0},e)};return n.default.createElement(i.Modal,{open:!0,width:"standard",isCentered:!0,withCloseButton:o.intl.formatMessage({id:"5QiL0e",defaultMessage:"Don’t cancel"}),onRequestClose:function(){v.ProEventsLogger.log("promo_50_modal_dismiss"),r.Modal.close()},className:"add-promo-confirmation-modal"},n.default.createElement(i.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(s.Title,{isBold:!0},w?o.intl.formatMessage({id:"S9zaBk",defaultMessage:"Here’s  {percent, number, ::percent} off your plan."},{percent:y.COVID_ACTIVE_MONTHLY_PERCENT/100}):o.intl.formatMessage({id:"HIZeHM",defaultMessage:"Take {percent, number, ::percent} off your next {promo_length, plural, one{# month} other{# months}}"},{percent:y.COVID_ACTIVE_MONTHLY_PERCENT/100,promo_length:y.COVID_PROMO_LENGTH}))),n.default.createElement(i.Modal.Body,null,n.default.createElement(s.Text,null,w?o.intl.formatMessage({id:"suXt7C",defaultMessage:"For the next {promo_length, plural, one{# month} other{# months}}, you’ll automatically get {percent, number, ::percent} off your plan. All you need to do is accept the offer and we’ll take care of the rest."},{percent:y.COVID_ACTIVE_MONTHLY_PERCENT/100,promo_length:y.COVID_PROMO_LENGTH}):o.intl.formatMessage({id:"+1jAvH",defaultMessage:"Just a reminder, you already paid for Dropbox until {date}. If you stick around, we’ll take {amount_off} off your next year. All you need to do is accept the offer and we’ll take care of the rest."},{percent:y.COVID_ACTIVE_MONTHLY_PERCENT/100,date:e.subStatus.subState.formattedNextBillingDate,amount_off:D()})),n.default.createElement("div",null,n.default.createElement(s.Text,null,o.intl.formatMessage({id:"6IstMX",defaultMessage:"By accepting, you agree to the Offer Terms."})),n.default.createElement("div",{className:"add-promo-confirmation-modal__offer-terms-container"},n.default.createElement(s.Text,{className:"add-promo-confirmation-modal__offer-terms"},n.default.createElement("em",null,(t=e.subStatus,a=o.intl.formatMessage({id:"V1oSLi",defaultMessage:"You’ll receive {percent, number, ::percent} off Dropbox {plan_name} for {promo_length, plural, one{# month} other{# months}}. "},{percent:y.COVID_ACTIVE_MONTHLY_PERCENT/100,plan_name:t.subState.plan.displayName(),promo_length:y.COVID_PROMO_LENGTH}),w?[a,o.intl.formatMessage({id:"g5yLqT",defaultMessage:"After the {promo_length, plural, one{# month} other{# months}}, monthly billing will resume at {current_price} per month until you <moreInfoLink>cancel</moreInfoLink>. "},{promo_length:y.COVID_PROMO_LENGTH,moreInfoLink:C,current_price:b.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary)}),o.intl.formatMessage({id:"V2XoAI",defaultMessage:"You can only use the offer if you received it from Dropbox. If you change your plan during the {promo_length, plural, one{#-month} other{#-month}} period, you’ll lose this promotion. Previous charges <refundsLink>won’t be refunded</refundsLink> when you cancel unless <termsLink>legally required</termsLink>."},{promo_length:y.COVID_PROMO_LENGTH,termsLink:P,refundsLink:k})]:[a,o.intl.formatMessage({id:"ss+UHJ",defaultMessage:"On {billing_date}, the offer will be applied to your yearly bill, which amounts to {yearly_percent, number, ::percent} off the total price for the year. "},{billing_date:t.formattedNextBillingDate,yearly_percent:y.COVID_ACTIVE_YEARLY_PERCENT_OFF/100,schedule_name:t.subState.billingSchedule.scheduleDescriptionAdjective}),o.intl.formatMessage({id:"ewfl25",defaultMessage:"On {following_billing_date}, billing will resume at {current_price} per year until you <moreInfoLink>cancel</moreInfoLink>. You can only use the offer if you received it from Dropbox. If you change your plan during the {promo_length, plural, one{#-month} other{#-month}} period, you’ll lose this promotion. Previous charges <refundsLink>won’t be refunded</refundsLink> when you cancel unless <termsLink>legally required</termsLink>."},{following_billing_date:t.scheduledSubState.formattedNextBillingDate,current_price:b.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary),promo_length:y.COVID_PROMO_LENGTH,moreInfoLink:C,termsLink:P,refundsLink:k})])))))),n.default.createElement(i.Modal.Footer,{className:"add-promo-confirmation-modal__footer"},n.default.createElement(l.Button,{variant:"opacity",className:"add-promo-confirmation-modal__link",disabled:L,onClick:function(){v.ProEventsLogger.log("promo_50_modal_cancel_anyway"),e.downgradeReasonId&&e.downgradeReasonId!==u.SurveyReason.OTHER?d.showDowngradeConfirmationModal({currentPlanSpace:e.subStatus.subState.content.totalSpaceLongFormRounded(),scheduledDowngradeDate:e.subStatus.subState.formattedNextBillingDate,downgradeReasonId:e.downgradeReasonId,additionalInfo:e.additionalInfo,basicSkuQuotaGb:e.basicSkuQuotaGb,reloadData:e.reloadData}):c.redirect(y.ROOT_DOWNGRADE_URI.setQuery({skip_survey:"true"}))}},o.intl.formatMessage({id:"Uy9PkV",defaultMessage:"Cancel anyway"})),n.default.createElement(l.Button,{className:"jest-add-promo-confirmation-modal__accept",variant:"primary",disabled:L,onClick:function(){T(!0),v.ProEventsLogger.log("promo_50_modal_accept"),(new g.UserApiV2Client).ns("growth").rpc("add_active_covid_promo",void 0,{subjectUserId:h.getCurrentUser().id}).then((function(t){var a=e.subStatus.subState;t.success&&(e.reloadData(),v.ProEventsLogger.log("promo_confirmation_view"),_.Snackbar.show(n.default.createElement(S,{isMonthlyPlan:w,nextBillingDate:a.formattedNextBillingDate,amountOff:D(),promoEndDate:e.endPromoDate})),r.Modal.close())})).catch((function(e){M.Notify.error(o.intl.formatMessage({id:"Ten4Ku",defaultMessage:"An error occurred"})),r.Modal.close()}))}},o.intl.formatMessage({id:"HznygJ",defaultMessage:"Accept offer"}))))};var S=function(e){var t=n.default.useState(!0),a=t[0],i=t[1],s=e.isMonthlyPlan?o.intl.formatMessage({id:"mGc73t",defaultMessage:"That’s it! We’ll take {percent, number, ::percent} off your plan until {promo_end_date}"},{percent:y.COVID_ACTIVE_MONTHLY_PERCENT/100,promo_end_date:e.promoEndDate}):o.intl.formatMessage({id:"AcbSju",defaultMessage:"That’s it! We’ll take {amount} off your plan when it renews on {next_billing_date}."},{amount:e.amountOff,next_billing_date:e.nextBillingDate});return n.default.createElement("div",{className:"confirmation-snackbar"},n.default.createElement(p.Snackbar,{open:a,onRequestClose:function(){i(!1)}},n.default.createElement(p.Snackbar.Message,null,e.message||s)))};t.showAddPromoConfirmationModal=function(e){v.ProEventsLogger.log("promo_50_modal_view"),r.Modal.showInstance(n.default.createElement(t.AddPromoConfirmationModal,a.__assign({},e)))}})),define("modules/clean/account_page/widgets/plan/views/basic_plan_status",["require","exports","tslib","react","modules/core/browser","modules/core/i18n","modules/clean/static_urls","modules/clean/analytics","modules/clean/bem","modules/constants/trademark","modules/clean/account_page/widgets/plan/views/switch_plan_modal","modules/clean/stormcrow/experiment","modules/clean/stormcrow/stormcrow_exposure_logger","modules/clean/payments/skus/constants"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importStar(i);var _=l.bem("plan-status-section"),f=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openBasicSwitchPlanModal=function(){u.SwitchPlanModalView.showInstance({productType:p.ProductPlanType.BASIC})},t.handleUpgradeClick=function(){m.logVariantExposure("growth_retention_account_changes_basic",t.props.expRetentionAccountChangesBasic),c.Experiment(t.props.expRetentionAccountChangesBasic).isActive?t.openBasicSwitchPlanModal():r.ProEventsLogger.log("de_general_tab_upgrade_to_plus_click",{},(function(){i.redirect("/upgrade?oqa=acc_general_upgrade")}))},t}return a.__extends(t,e),t.prototype.defaultUpgradePlanButton=function(){return n.default.createElement("div",{className:_("upgrade_btn")},n.default.createElement("button",{className:"button-primary",onClick:this.handleUpgradeClick},s.intl.formatMessage({id:"7/M9u2",defaultMessage:"Upgrade"})))},t.prototype.renderDropboxLogo=function(){return n.default.createElement("div",{className:_("icon")},n.default.createElement("img",{src:o.static_url("/static/images/logo_catalog/dropbox-business-icon_m1-vflczuza3.svg"),alt:s.intl.formatMessage({id:"mE2o9+",defaultMessage:"Dropbox logo"})}))},t.prototype.render=function(){var e=this.props,t=e.planName,a=e.plansUrl,i=e.limitedTeam,o=e.upgradePlanButton,r=e.hidePlansLink;return n.default.createElement("div",{className:_("")},this.renderDropboxLogo(),n.default.createElement("div",{className:_("description")},n.default.createElement("h1",{className:_("title")},t),i,!r&&n.default.createElement("a",{className:_("link"),href:a,target:"_blank",rel:"noopener noreferrer"},s.intl.formatMessage({id:"ORB1Kv",defaultMessage:"See other plans"}))),o||this.defaultUpgradePlanButton())},t.defaultProps={planName:d.DROPBOX_BASIC,plansUrl:"/plans?oqa=acc_general_upgrade"},t})(n.default.Component);t.BasicPlanStatusSection=f})),define("modules/clean/account_page/widgets/plan/views/billing_summary",["require","exports","tslib","react","modules/core/i18n","modules/clean/analytics","modules/clean/payments/cash","modules/clean/payments/skus/constants","modules/clean/account_page/components/key_value_block","modules/clean/account_page/widgets/billing/payment_methods_util"],(function(e,t,a,n,i,s,o,r,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCtaClick=function(e){e.preventDefault(),s.ProEventsLogger.log("de_plan_tab_change_billing_open_modal"),t.props.onCtaClick()},t}return a.__extends(t,e),t.prototype.isBillingScheduleToChange=function(){var e=this.props.subStatus;return!(!e.subState.billingSchedule||!e.finalSubState.billingSchedule)&&e.subState.billingSchedule.id!==e.finalSubState.billingSchedule.id},t.prototype.getBillingStrings=function(e,t){return e===r.ScheduleId.MONTHLY?{ctaText:i.intl.formatMessage({id:"WulH26",defaultMessage:"Save up to {save_percentage, number, ::percent .##} with yearly billing"},{save_percentage:.17}),subText:i.intl.formatMessage({id:"tEUQrx",defaultMessage:"billed monthly"}),billingSummary:i.intl.formatMessage({id:"qfHtpZ",defaultMessage:"<b>{total}</b> per month"},{b:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("b",null,e)},total:o.Cash.formatWithTaxLabels(t.total,t)})}:{ctaText:i.intl.formatMessage({id:"j57Kcy",defaultMessage:"Switch to monthly billing"}),subText:i.intl.formatMessage({id:"t1Xouk",defaultMessage:"billed yearly"}),billingSummary:i.intl.formatMessage({id:"qfHtpZ",defaultMessage:"<b>{total}</b> per month"},{b:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("b",null,e)},total:o.Cash.formatWithTaxLabels(t.total.divide(12),t)})}},t.prototype.render=function(){var e,t=this.props,a=t.subStatus,i=t.paymentInfo;return a.scheduledSubState&&a.subState.plan?d.shouldHideBillingSummary(i.gateway_id,a.subState.plan.productType)||d.shouldHideBillingChange(i.gateway_id,i.is_reseller_billing)?null:(a.currentBillingSummary&&a.subState.billingSchedule&&(e=this.getBillingStrings(a.subState.billingSchedule.id,a.currentBillingSummary)),this.isBillingScheduleToChange()&&a.nextBillingSummary&&a.scheduledSubState&&a.scheduledSubState.plan&&a.scheduledSubState.billingSchedule&&(e=this.getBillingStrings(a.scheduledSubState.billingSchedule.id,a.nextBillingSummary)),e?n.default.createElement(l.KeyValueBlock,{className:"billing-summary-key-value",keyText:e.billingSummary,linkText:e.ctaText,onLinkClick:this.handleCtaClick,subtext:e.subText}):null):null},t})((n=a.__importDefault(n)).default.Component);t.BillingSummary=u})),define("modules/clean/account_page/widgets/plan/views/cancel_changes_modal",["require","exports","tslib","react","modules/clean/ajax","modules/clean/account_page/widgets/plan/constants","modules/clean/account_page/constants","modules/clean/react/modal","modules/clean/analytics","modules/clean/payments/skus/constants","modules/clean/payments/skus/subscription_service","modules/constants/trademark","modules/core/i18n","modules/clean/dbmodal_stack","modules/clean/account_page/util","modules/core/notify","modules/clean/account_page/widgets/plan/views/change_confirmation_modal","modules/clean/api_v2/user_client","modules/clean/payments/skus/billing_schedule","modules/core/exception","modules/clean/account_page/widgets/plan/views/loading_view"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f,g,h,y,M,b){"use strict";var v;Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importStar(i),(function(e){e[e.NeverLoaded=0]="NeverLoaded",e[e.Loading=1]="Loading",e[e.Ready=2]="Ready"})(v||(v={}));var S=new Set([d.ProductFamily.PRO,d.ProductFamily.FAMILY]),L=(function(e){function t(t){var a=e.call(this,t)||this;return a.onAccept=function(){var e=a.props.cancellationType;a.cancelScheduledChange(e)},a.closeModals=function(){var e=a.props.onClose;e&&e(),a.props.shouldShowRedesignedModal?a.setState({open:!1}):r.Modal.close()},a.onRedesignedModalOpen=function(){var e=a.props,t=e.onRedesignedModalOpen;e.shouldShowRedesignedModal&&t&&t()},a.handleWrongPlanError=function(e,t){M.reportException({err:new Error("Current user plan (id: "+e+", family: "+t+") is invalid for cancel_changes_modal"),severity:M.SEVERITY.CRITICAL})},a.getDisplayName=function(e,t){if(e&&t){if(S.has(t))return d.productPlanTypeToIndividualDisplayName(e);if(t===d.ProductFamily.TEAM)return d.productPlanTypeToBusinessDisplayName(e,t)}return a.handleWrongPlanError(e,t),""},a.loadDowngradeInfo=function(){a.setState({loadingDowngradeInfo:v.Loading}),(new h.UserApiV2Client).ns("growth").rpc("get_cancel_changes_info",void 0,{subjectUserId:_.getCurrentUser().id}).then((function(e){a.setState({loadingDowngradeInfo:v.Ready,downgradeInfo:{subState:e.sub_state,finalSubState:e.final_sub_state}})})).catch((function(){f.Notify.error(m.intl.formatMessage({id:"yhOAKQ",defaultMessage:"There was an issue cancelling your changes, please contact Customer Support."})),M.reportException({err:new Error("get_cancel_changes_info call failed for user attempting to cancel changes of type: "+a.props.cancellationType),severity:M.SEVERITY.CRITICAL}),a.closeModals()}))},new u.SubscriptionService,a.state={loadingDowngradeInfo:v.NeverLoaded,submitting:!1,open:!0},a}return a.__extends(t,e),t.showInstance=function(e){r.Modal.showInstance(n.default.createElement(t,a.__assign({},e)))},t.prototype.componentDidMount=function(){this.loadDowngradeInfo()},t.prototype.submittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!0})}))},t.prototype.doneSubmittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!1})}))},t.prototype.cancelScheduledChange=function(e){var t=this,a=this.props.transitionPerformed,n=this.state.downgradeInfo;if(n){var r=n.subState,d=n.finalSubState;this.submittingRequest();var u=y.getScheduleDescriptionAdjective(r.schedule_id),c=y.getScheduleDescriptionAdjective(d.schedule_id);i.WebRequest({url:"/account/ajax_cancel_scheduled_change",data:{scheduled_change_type:e},subject_user:_.getCurrentUser().id,success:function(n){f.Notify.success(m.intl.formatMessage({id:"dC654w",defaultMessage:"You’ve cancelled your change!"})),e===o.CancellationType.SCHEDULE&&(l.ProEventsLogger.log("de_change_billing_cancel_change"),l.ProEventsLogger.log("scheduled_billing_change_prompt_click_confirmed",{cta:"cancel_change_confirm",currentBillingSchedule:u,nextBillingSchedule:c})),e===o.CancellationType.EVH_ADDON&&l.ProEventsLogger.log("de_evh_modal_cancel_change"),e===o.CancellationType.PLAN&&l.ProEventsLogger.log("scheduled_plan_change_prompt_click_confirmed",{cta:"cancel_change_confirm"}),e===o.CancellationType.IND_SUBSCRIPTION&&l.ProEventsLogger.log("scheduled_downgrade_to_basic_prompt_click_confirmed",{cta:"cancel_change_confirm"}),a&&a(),t.doneSubmittingRequest(),t.closeModals(),t.props.reOpenModalDialogAfterCancellation&&p.DBModalStack.trigger(s.CHANGE_IND_PLAN_MODAL_UPDATED,null)},error:function(){f.Notify.error(m.intl.formatMessage({id:"iQ7Rjk",defaultMessage:"Failed to cancel changes."})),t.doneSubmittingRequest(),t.closeModals(),t.props.reOpenModalDialogAfterCancellation&&p.DBModalStack.trigger(s.CHANGE_IND_PLAN_MODAL_UPDATED,null)}})}},t.prototype.render=function(){var e=this.props,t=e.cancellationType,a=e.shouldShowRedesignedModal,i=this.state,s=i.open,l=i.submitting,u=i.downgradeInfo;if(i.loadingDowngradeInfo!==v.Ready||!u)return n.default.createElement(b.LoadingView,{className:"cancel_changes_modal__loading-indicator"});var p,_=u.subState,f=u.finalSubState,h=y.getScheduleDescriptionAdjective(f.schedule_id),M=this.getDisplayName(_.product_plan_type,_.product_family),S=this.getDisplayName(f.product_plan_type,f.product_family),L=m.intl.formatMessage({id:"G4ktGR",defaultMessage:"Confirm cancelling change"});switch(t){case o.CancellationType.PLAN:p=f.schedule_id===d.ScheduleId.YEARLY?m.intl.formatMessage({id:"CtNCmH",defaultMessage:"You’re cancelling your scheduled plan change. Your Dropbox {plan} plan will renew on <span>{date}</span> and you will be billed yearly."},{trademark_plus:c.TRADEMARK_PLUS,plan:M,date:_.next_billing_date,span:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a?n.default.createElement("strong",null,e):n.default.createElement("span",null,e)}}):m.intl.formatMessage({id:"HAdDBE",defaultMessage:"You’re cancelling your scheduled plan change. Your Dropbox {plan} plan will renew on <span>{date}</span> and you will be billed monthly."},{trademark_plus:c.TRADEMARK_PLUS,plan:M,date:_.next_billing_date,span:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a?n.default.createElement("strong",null,e):n.default.createElement("span",null,e)}});break;case o.CancellationType.SCHEDULE:p=_.schedule_id===d.ScheduleId.YEARLY?m.intl.formatMessage({id:"6KBNL6",defaultMessage:"You’re cancelling your scheduled billing change. Your Dropbox {plan} plan will renew on <span>{date}</span> and you will be billed yearly."},{plan:S,date:_.next_billing_date,span:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a?n.default.createElement("strong",null,e):n.default.createElement("span",null,e)}}):m.intl.formatMessage({id:"tS+7n3",defaultMessage:"You’re cancelling your scheduled billing change. Your Dropbox {plan} plan will renew on <span>{date}</span> and you will be billed monthly."},{plan:S,date:_.next_billing_date,span:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a?n.default.createElement("strong",null,e):n.default.createElement("span",null,e)}});break;case o.CancellationType.EVH_ADDON:p=m.intl.formatMessage({id:"u5vKPv",defaultMessage:"You’re cancelling your EVH changes. Your Dropbox {plan} plan will renew on {date} and you will be billed {schedule}."},{plan:S,date:_.next_billing_date,schedule:h});break;case o.CancellationType.IND_SUBSCRIPTION:L=m.intl.formatMessage({id:"NCTtwj",defaultMessage:"Confirmation"}),p=m.intl.formatMessage({id:"ikAVu1",defaultMessage:"By confirming, your downgrade to Dropbox Basic will be cancelled."});break;case o.CancellationType.ALL:L=m.intl.formatMessage({id:"NCTtwj",defaultMessage:"Confirmation"}),p=m.intl.formatMessage({id:"AmEj2/",defaultMessage:"By confirming, all existing scheduled changes will be cancelled."});break;default:L=m.intl.formatMessage({id:"NCTtwj",defaultMessage:"Confirmation"}),p=m.intl.formatMessage({id:"kMZoFx",defaultMessage:"By confirming, the scheduled change will be cancelled."})}if(a){var T=void 0;return t!==o.CancellationType.IND_SUBSCRIPTION&&(T=m.intl.formatMessage({id:"7VYYNS",defaultMessage:"Don’t cancel"})),n.default.createElement(g.ChangeConfirmationModal,{acceptButtonDisabled:l,acceptButtonText:m.intl.formatMessage({id:"BKISIV",defaultMessage:"Confirm"}),dismissButtonText:T,loadingContent:!1,onAccept:this.onAccept,onDismiss:this.closeModals,onOpen:this.onRedesignedModalOpen,open:s,text:p,title:L,submitting:l})}return n.default.createElement(r.Modal,{acceptButtonDisabled:l,acceptButtonText:m.intl.formatMessage({id:"BKISIV",defaultMessage:"Confirm"}),autoClose:!1,dismissButtonText:m.intl.formatMessage({id:"5QiL0e",defaultMessage:"Don’t cancel"}),onAccept:this.onAccept,title:L,id:"cancel-changes-modal",submitting:l},n.default.createElement("p",null,p))},t})(n.default.Component);t.CancelChangesModalConfirmationView=L})),define("modules/clean/account_page/widgets/plan/views/cancel_plan",["require","exports","tslib","react","modules/core/uri","modules/core/i18n","modules/clean/display_format","modules/clean/payments/skus/constants","modules/clean/analytics","modules/clean/payments/skus/sku_content","modules/core/browser","spectrum/button","modules/clean/account_page/components/key_value_block","modules/clean/stormcrow/experiment","modules/constants/trademark"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),u=a.__importStar(u);var f=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCancelPlanClick=function(e){e.preventDefault(),l.ProEventsLogger.log("de_cancel_plan_subscription_click",{},(function(){t.props.onClick?t.props.onClick():u.redirect(t.cancelPageURL)}))},t}return a.__extends(t,e),Object.defineProperty(t.prototype,"quota",{get:function(){return this.props.usageBreakdown.quota||.01},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cancelPageURL",{get:function(){return new i.URI({path:"/downgrade",query:{oqa:"acc_cancel"}}).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cancelLink",{get:function(){var e,t=this.props,a=t.onClick,i=t.subStatus,o=(null===(e=null==i?void 0:i.subState.plan)||void 0===e?void 0:e.productType)===r.ProductPlanType.FAMILY_NONPAYER?s.intl.formatMessage({id:"55vuOC",defaultMessage:"Leave plan"}):s.intl.formatMessage({id:"briiwg",defaultMessage:"Cancel plan"});return a?n.default.createElement(c.Button,{variant:"secondary",size:"large",onClick:this.handleCancelPlanClick},o):n.default.createElement("a",{href:"#",onClick:this.handleCancelPlanClick},o)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cancelHeader",{get:function(){var e,t,a=this.props,n=a.subStatus,i=a.eligibleFor1tb;if(!(null===(e=null==n?void 0:n.subState.plan)||void 0===e?void 0:e.productType))return null;switch(null===(t=null==n?void 0:n.subState.plan)||void 0===t?void 0:t.productType){case r.ProductPlanType.FAMILY_NONPAYER:return s.intl.formatMessage({id:"wq6RxH",defaultMessage:"Leave {dropbox_family}"},{dropbox_family:_.DROPBOX_FAMILY});case r.ProductPlanType.FAMILY_PAYER:return s.intl.formatMessage({id:"GmIF3z",defaultMessage:"Cancel {dropbox_family}"},{dropbox_family:_.DROPBOX_FAMILY});default:return s.intl.formatMessage({id:"9TLSvT",defaultMessage:"Cancel {plan} plan"},{plan:n.subState.plan.displayName(i)})}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cancelDescription",{get:function(){var e,t=this.props,a=t.basicSkuContent,n=t.subStatus;switch(null===(e=null==n?void 0:n.subState.plan)||void 0===e?void 0:e.productType){case r.ProductPlanType.FAMILY_NONPAYER:return s.intl.formatMessage({id:"kBU+3Q",defaultMessage:"Your account will be downgraded to {dropbox_basic}, and you’ll lose access to {trademark_family} storage and features."},{dropbox_basic:_.DROPBOX_BASIC,trademark_family:_.TRADEMARK_FAMILY});case r.ProductPlanType.FAMILY_PAYER:return s.intl.formatMessage({id:"VGD5gM",defaultMessage:"You and your family members will be downgraded to {dropbox_basic}, and you’ll lose access to the plan’s features."},{dropbox_basic:_.DROPBOX_BASIC});default:var i=d.SkuContentClient.deserialize(a);return s.intl.formatMessage({id:"9KVCqi",defaultMessage:"If you cancel your plan, your account will drop from {quota} to {basic_space_short_form_gb} of space (plus any bonus space earned previously)"},{quota:o.format_bytes(this.quota),basic_space_short_form_gb:i.spaceShortFormGb()})}},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.subStatus,a=e.experiments.expRetentionAccountWayfinding;if(!t||!t.subState.plan||t.subState.plan.productType===r.ProductPlanType.FREE)return n.default.createElement("noscript",null);if(p.Experiment(a).isActive){var i=p.Experiment(a).variantIs("V1")?s.intl.formatMessage({id:"+UVVsy",defaultMessage:"Renews <b>{date}</b>"},{b:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("b",null,e)},date:t.formattedNextBillingDate}):s.intl.formatMessage({id:"8O6dmi",defaultMessage:"Renews on {date}"},{date:t.formattedNextBillingDate});return n.default.createElement(m.KeyValueBlock,{className:"cancel-plan-key-value",keyText:i,linkText:s.intl.formatMessage({id:"k1hRer",defaultMessage:"Cancel plan"}),onLinkClick:this.handleCancelPlanClick})}return n.default.createElement("div",{className:"cancel-plan"},n.default.createElement("span",{className:"cancel-plan__header"},this.cancelHeader),n.default.createElement("div",{className:"cancel-plan__info"},n.default.createElement("p",{className:"cancel-plan__desc"},this.cancelDescription),n.default.createElement("span",{className:"cancel-plan__downgrade-link"},this.cancelLink)))},t})(n.default.Component);t.CancelPlan=f})),define("modules/clean/account_page/widgets/plan/views/cancel_subs_warning_modal",["require","exports","tslib","modules/clean/ajax","modules/clean/react/css","modules/core/notify","react","modules/core/i18n","modules/clean/account_page/util","modules/clean/static_urls","modules/clean/account_page/constants","modules/clean/react/modal","spectrum/button","modules/clean/account_page/widgets/plan/views/change_confirmation_modal"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n);var _=(function(e){function t(t){var a=e.call(this,t)||this;return a.closeModals=function(){a.props.shouldShowRedesignedModal?a.setState({open:!1}):c.Modal.close()},a.onDismiss=function(e){e.preventDefault(),a.closeModals()},a.onAccept=function(){a.cancelScheduledChange()},a.state={submitting:!1,open:!0},a}return a.__extends(t,e),t.showInstance=function(e){c.Modal.showInstance(o.default.createElement(t.cancelChangesModalConfirmationView,a.__assign({},e)))},t.prototype.submittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!0})}))},t.prototype.doneSubmittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!1})}))},t.prototype.cancelScheduledChange=function(){var e=this,t=this.props,a=t.transitionPerformed,i=t.userIdOverride,o=null;o=i||l.getCurrentUser().id,this.submittingRequest(),n.WebRequest({url:"/account/ajax_cancel_scheduled_change",data:{scheduled_change_type:u.CancellationType.IND_SUBSCRIPTION},subject_user:o,success:function(t){s.Notify.success(r.intl.formatMessage({id:"dC654w",defaultMessage:"You’ve cancelled your change!"})),a&&a(),e.doneSubmittingRequest(),e.closeModals()},error:function(){s.Notify.error(r.intl.formatMessage({id:"iQ7Rjk",defaultMessage:"Failed to cancel changes."})),e.doneSubmittingRequest(),e.closeModals()}})},t.prototype.render=function(){var e=this.props,t=e.subStatus,a=e.shouldShowRedesignedModal,n=this.state,i=n.submitting,s=n.open;if(!t)return o.default.createElement("noscript",null);var l=o.default.createElement("div",{className:"loading-indicator"},o.default.createElement("img",{src:d.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:r.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"})})),u=i?l:o.default.createElement("div",null,o.default.createElement("div",{className:"cancel-subscription-warning-modal__cancel-btn"},o.default.createElement(m.Button,{variant:"primary",onClick:this.onAccept,disabled:i},r.intl.formatMessage({id:"MXrpbJ",defaultMessage:"Cancel downgrade"}))),o.default.createElement("div",{className:"cancel-subscription-warning-modal__dismiss-btn"},o.default.createElement("a",{href:"#",onClick:this.onDismiss},r.intl.formatMessage({id:"cK/p7/",defaultMessage:"Dismiss"})))),_=r.intl.formatMessage({id:"dBnvgr",defaultMessage:"Plan downgrade scheduled"}),f=r.intl.formatMessage({id:"MPyaCi",defaultMessage:"Your plan is scheduled to be downgraded to Dropbox Basic on <span>{date}</span>. If you want to make any changes, first cancel your scheduled downgrade."},{date:t.subState.formattedNextBillingDate,span:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a?o.default.createElement("strong",null,e):o.default.createElement("span",null,e)}});return a?o.default.createElement(p.ChangeConfirmationModal,{acceptButtonDisabled:i,acceptButtonText:r.intl.formatMessage({id:"MXrpbJ",defaultMessage:"Cancel downgrade"}),dismissButtonText:r.intl.formatMessage({id:"cK/p7/",defaultMessage:"Dismiss"}),loadingContent:!1,onAccept:this.onAccept,onDismiss:this.closeModals,open:s,text:f,title:_,submitting:i}):o.default.createElement(c.Modal,{acceptButtonDisabled:this.state.submitting,autoClose:!1,className:"cancel-subscription-warning-modal",buttonComponent:o.default.createElement(c.ModalButtons,null),submitting:this.state.submitting},o.default.createElement("div",null,o.default.createElement("p",{className:"cancel-subscription-warning-modal__title"},_),o.default.createElement("p",{className:"cancel-subscription-warning-modal__desc"},f),u))},t.cancelChangesModalConfirmationView=i.requireCssWithComponent(t,["/static/css/account/pagelet/cancel_subs_warning-vfl-s2mqh.css"]),t})((o=a.__importDefault(o)).default.Component);t.CancelChangesModalConfirmation=_})),define("modules/clean/account_page/widgets/plan/views/cancellable_notifications_view",["require","exports","tslib","react","react-dom-factories","modules/clean/react/css","modules/core/i18n","modules/clean/account_page/widgets/billing/payment_methods_util","modules/clean/teams/admin/widgets/billing_notifications/cancellable_item","modules/clean/account_page/constants","modules/clean/payments/skus/constants","modules/constants/trademark","modules/clean/account_page/widgets/plan/views/cancel_changes_modal","modules/clean/analytics","modules/clean/api_v2/user_client","modules/clean/account_page/util","modules/clean/ts_utils"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importStar(i);var h=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.getFamilyPayerScheduledChange=function(e){(new _.UserApiV2Client).ns("growth_plans").rpc("get_scheduled_change_family_manager",void 0,{subjectUserId:f.getCurrentUser().id}).then((function(a){t.setState({payerHasScheduledDowngrade:a.has_scheduled_plan_change,payerScheduledChangeDate:a.scheduled_change_date},e)}))},t.handleCancelSubscriptionAction=function(){t.handleCancelActions(d.CancellationType.IND_SUBSCRIPTION)},t.handleCancelPlanAction=function(){t.shouldLogScheduledProToPlusChange()&&p.ProEventsLogger.log("scheduled_plan_change_prompt_click",{cta:"cancel_change"}),t.handleCancelActions(d.CancellationType.PLAN)},t.handleCancelScheduleAction=function(){t.shouldLogScheduledBillingChange()&&p.ProEventsLogger.log("scheduled_billing_change_prompt_click",{cta:"cancel_change",currentBillingSchedule:t.props.subStatus.subState.billingSchedule.id===u.ScheduleId.MONTHLY?"monthly":"yearly",nextBillingSchedule:t.props.subStatus.scheduledSubState.billingSchedule.id===u.ScheduleId.MONTHLY?"monthly":"yearly"}),t.handleCancelActions(d.CancellationType.SCHEDULE)},t.handleCancelEvhAction=function(){t.handleCancelActions(d.CancellationType.EVH_ADDON)},t.handleCancelActions=function(e){var a=t.props,n=a.subStatus,i=a.transitionPerformed,s=a.reOpenModalDialogAfterCancellation,o=a.shouldShowRedesignedModal;n&&m.CancelChangesModalConfirmationView.showInstance({transitionPerformed:i,cancellationType:e,reOpenModalDialogAfterCancellation:s,shouldShowRedesignedModal:o})},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e,t,a=this;(null===(t=null===(e=this.props.subStatus)||void 0===e?void 0:e.subState.plan)||void 0===t?void 0:t.productType)===u.ProductPlanType.FAMILY_NONPAYER&&this.getFamilyPayerScheduledChange((function(){a.shouldLogScheduledFamilyMemberDowngradePrompt()&&p.ProEventsLogger.log("scheduled_family_member_downgrade_prompt_view")})),this.shouldLogScheduledProToPlusChange()&&p.ProEventsLogger.log("scheduled_plan_change_prompt_view"),this.shouldLogScheduledBillingChange()&&p.ProEventsLogger.log("scheduled_billing_change_prompt_view",{currentBillingSchedule:this.props.subStatus.subState.billingSchedule.id===u.ScheduleId.MONTHLY?"monthly":"yearly",nextBillingSchedule:this.props.subStatus.scheduledSubState.billingSchedule.id===u.ScheduleId.MONTHLY?"monthly":"yearly"})},t.prototype.shouldDisplayFamilyPayersScheduledChange=function(){var e,t;return(null===(t=null===(e=this.props.subStatus)||void 0===e?void 0:e.subState.plan)||void 0===t?void 0:t.productType)===u.ProductPlanType.FAMILY_NONPAYER&&!0===this.state.payerHasScheduledDowngrade&&void 0!==this.state.payerScheduledChangeDate},t.prototype.renderCancelSubscriptionNotification=function(){var e=this.props,t=e.subStatus,a=e.scheduledForDowngrade;if(t)return a?n.default.createElement(l.CancellableItemView,{title:o.intl.formatMessage({id:"4c06XP",defaultMessage:"Scheduled plan change"}),description:o.intl.formatMessage({id:"Ai+Hmi",defaultMessage:"Dropbox Basic"}),handleAction:this.handleCancelSubscriptionAction,useCTA:!0}):void 0},t.prototype.shouldRenderDowngradePlanNotif=function(){var e=this.props,t=e.subStatus,a=e.scheduledForDowngrade;if(!t||a)return!1;var n=t.scheduledSubState;if(!n)return!1;var i=t.subState.plan,s=n.plan;return!(!i||!s)&&(i.productType!==s.productType||i.productType===s.productType&&i.productSpec!==s.productSpec)},t.prototype.shouldRenderBillingChangeNotif=function(){var e=this.props,t=e.subStatus,a=e.scheduledForDowngrade;if(!t||a)return!1;var n=t.scheduledSubState;return!!(n&&n.billingSchedule&&t.subState.billingSchedule)&&t.subState.billingSchedule.id!==n.billingSchedule.id},t.prototype.shouldLogScheduledProToPlusChange=function(){if(this.shouldRenderDowngradePlanNotif()){var e=this.props.subStatus.subState.plan,t=this.props.subStatus.scheduledSubState.plan;return e.productType===u.ProductPlanType.PROFESSIONAL&&t.productType===u.ProductPlanType.PLUS}return!1},t.prototype.shouldLogScheduledBillingChange=function(){return this.shouldRenderBillingChangeNotif()},t.prototype.shouldLogScheduledFamilyMemberDowngradePrompt=function(){return this.shouldDisplayFamilyPayersScheduledChange()},t.prototype.renderDowngradePlanNotification=function(){if(this.shouldRenderDowngradePlanNotif()){var e=this.props.subStatus.scheduledSubState.plan,t=o.intl.formatMessage({id:"McVRyL",defaultMessage:"Dropbox {scheduled_plan}"},{scheduled_plan:e.displayName()});return n.default.createElement(l.CancellableItemView,{title:o.intl.formatMessage({id:"4c06XP",defaultMessage:"Scheduled plan change"}),description:t,handleAction:this.handleCancelPlanAction,useCTA:!0,className:"cancel-plan-schedule"})}},t.prototype.renderFamilyMemberScheduledChange=function(){if(this.shouldDisplayFamilyPayersScheduledChange())return n.default.createElement(l.CancellableItemView,{title:o.intl.formatMessage({id:"27UqZZ",defaultMessage:"Your plan will change from {dropbox_family} to {dropbox_basic}"},{dropbox_family:c.DROPBOX_FAMILY,dropbox_basic:c.DROPBOX_BASIC}),className:"cancel-plan-schedule"})},t.prototype.renderScheduledChange=function(){if(this.shouldRenderBillingChangeNotif()){var e=this.props.subStatus.scheduledSubState.billingSchedule.scheduleDescriptionAdjective;return n.default.createElement(l.CancellableItemView,{title:o.intl.formatMessage({id:"pSiFZ2",defaultMessage:"Scheduled billing period"}),description:o.intl.formatMessage({id:"HCfuYu",defaultMessage:"{billing} billing"},{billing:e.charAt(0).toUpperCase()+e.slice(1)}),handleAction:this.handleCancelScheduleAction,useCTA:!0,className:"cancel-billing-schedule"})}},t.prototype.renderEvhChange=function(){var e=this.props,t=e.subStatus,a=e.scheduledForDowngrade;if(t&&!a){var i=t.scheduledSubState;if(i)return t.subState.addons.skus.length>0&&1===t.subState.quantityForEvhAddOn()&&0===i.quantityForEvhAddOn()?n.default.createElement(l.CancellableItemView,{title:o.intl.formatMessage({id:"3YA4ZU",defaultMessage:"Scheduled add-on change"}),description:o.intl.formatMessage({id:"ruwa4d",defaultMessage:"Remove extended version history"}),handleAction:this.handleCancelEvhAction,useCTA:!0,className:"cancel-evh-schedule"}):void 0}},t.prototype.appendAllCancellationTypes=function(e){e.push(this.renderCancelSubscriptionNotification()),e.push(this.renderDowngradePlanNotification()),e.push(this.renderScheduledChange()),e.push(this.renderEvhChange())},t.prototype.render=function(){var e=this.props,t=e.displaySingleChangeCancellationItem,s=e.scheduledForDowngrade,l=e.subStatus,c=e.paymentInfo,m=e.hasLicenseKey,p=e.displayNewTotal,_=e.shouldShowForDowngradeToBasic;if(!l)return n.default.createElement("noscript",null);if(!c||r.shouldHideBillingChange(c.gateway_id,c.is_reseller_billing))return n.default.createElement("noscript",null);var f=[];if(s&&!_&&!this.shouldDisplayFamilyPayersScheduledChange())return n.default.createElement("noscript",null);if(t)switch(t){case d.CancellationType.IND_SUBSCRIPTION:f.push(this.renderCancelSubscriptionNotification());break;case d.CancellationType.PLAN:f.push(this.renderDowngradePlanNotification());break;case d.CancellationType.SCHEDULE:f.push(this.renderScheduledChange());break;case d.CancellationType.EVH_ADDON:f.push(this.renderEvhChange());break;case d.CancellationType.FAMILY_NONPAYER:f.push(this.renderFamilyMemberScheduledChange());break;case d.CancellationType.ALL:this.appendAllCancellationTypes(f);break;case d.CancellationType.LICENSES:break;default:g.enforceExhaustive(t)}if(!(f=f.filter((function(e){return void 0!==e}))).length)return n.default.createElement("noscript",null);var h="";s||!p||this.shouldDisplayFamilyPayersScheduledChange()||(h=o.intl.formatMessage({id:"BunHhw",defaultMessage:"Your new {schedule} total will be {total}."},{schedule:u.productScheduleToProductScheduleDescription(l.finalSubState.plan.schedule),total:l.nextBillingSummary.total.toString()}));var y=this.shouldDisplayFamilyPayersScheduledChange()?this.state.payerScheduledChangeDate:l.subState.formattedNextBillingDate,M=n.default.createElement("div",{className:"cancellable-scheduled-notifications cancellable-scheduled-notifications__header"},o.intl.formatMessage({id:"/3HS66",defaultMessage:"Changes are scheduled for <strong>{date}</strong>."},{date:y,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.strong.apply(i,a.__spreadArrays([{}],e))}})," ",h);return n.default.createElement("div",{className:"cancellable-scheduled-notifications personal-cancellable-scheduled-notifications"},M,!m&&n.default.createElement("div",{className:"cancellable-scheduled-notifications cancellable-scheduled-notifications__items"},f))},t})(n.default.Component);t.CancellableNotificationsViewControl=h,t.CancellableNotificationsView=s.requireCssWithComponent(h,["/static/css/teams/admin/widgets/billing_notifications/cancellable_scheduled_notifications-vflm6KwNt.css"])})),define("modules/clean/account_page/widgets/plan/views/change_confirmation_modal",["require","exports","tslib","react","spectrum/modal","dig-components/buttons","modules/core/i18n","modules/clean/bem","modules/clean/static_urls","modules/clean/react/css","modules/clean/account_page/util","modules/clean/account_page/widgets/plan/views/covid_promo_warning"],(function(e,t,a,n,i,s,o,r,l,d,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var m=r.bem("change-confirmation-modal"),p=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleAccept=function(){t.props.onAccept()},t.handleDismiss=function(){t.props.onDismiss()},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){u.hideFocusOnModalCloseButton();var e=this.props,t=e.loadingContent,a=e.onOpen;t&&a&&a()},t.prototype.render=function(){var e,t=this.props,a=t.acceptButtonDisabled,r=t.acceptButtonText,d=t.dismissButtonText,u=t.loadingContent,p=t.open,_=t.renderUpdateLink,f=t.renderVat,g=t.text,h=t.title,y=t.submitting,M=t.hasCovidPromo;return e=u?n.default.createElement("div",{className:m("loading-indicator")},n.default.createElement("img",{src:l.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:o.intl.formatMessage({id:"60HSB/",defaultMessage:"Loading"})})):n.default.createElement("div",{className:m("")},n.default.createElement("div",{className:m("body")},n.default.createElement("div",{className:m("title")},h),n.default.createElement("div",{className:m("vat")}," ",f&&f()),n.default.createElement("div",{className:m("description")},g),M&&n.default.createElement(c.CovidPromoWarning,null)),n.default.createElement("div",{className:m("footer")},n.default.createElement("div",{className:m("link")},_),n.default.createElement("div",{className:m("btns-wrapper")},d&&n.default.createElement(s.Button,{className:m("btn-cancel"),variant:"opacity",disabled:y,onClick:this.handleDismiss},d),n.default.createElement(s.Button,{className:m("btn-submit"),variant:"primary",disabled:a,onClick:this.handleAccept},r)))),n.default.createElement(i.Modal,{ariaLabel:o.intl.formatMessage({id:"qgM6UX",defaultMessage:"Change Confirmation Modal"}),className:"ChangeConfirmationModal",open:p,displayCloseButton:!d,overlayClickClose:!1,onRequestClose:this.handleDismiss,width:560},e)},t})(n.default.Component);t.ChangeConfirmationModal=d.requireCssWithComponent(p,["/static/css/account/pagelet/change_confirmation_modal-vflVkRyxK.css","/static/css/dig-components/index.web-vfliFNMrU.css"])})),define("modules/clean/account_page/widgets/plan/views/change_plan_modal",["require","exports","tslib","modules/core/browser","modules/core/notify","react","modules/clean/ajax","modules/clean/react/css","modules/clean/react/badge","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item","modules/clean/account_page/widgets/plan/constants","modules/constants/individual_invoice_modal","modules/clean/account_page/widgets/plan/views/cancel_changes_modal","modules/clean/account_page/widgets/plan/views/plus_to_family_modal","modules/clean/payments/validation","modules/clean/account_page/widgets/plan/views/cancellable_notifications_view","modules/clean/account_page/constants","modules/clean/payments/cash","modules/clean/dbmodal_stack","modules/clean/account_page/widgets/plan/views/individual_inline_payment_method","dig-components/typography","modules/clean/react/modal","modules/clean/analytics","modules/clean/payments/skus/constants","modules/clean/payments/skus/subscription_change_plan","modules/clean/payments/skus/subscription_status","modules/core/i18n","modules/clean/account_page/util","modules/clean/static_urls","modules/clean/react/arbor/aspen/elements/arbor_inputs","modules/clean/react/payments/error/browser_update_required_modal","modules/clean/react/payments/update_individual_billing/update_individual_billing_modal_loader","modules/clean/react/payments/update_individual_billing/update_individual_store_creator","modules/clean/account_page/widgets/plan/views/update_billing_info_link","modules/clean/account_page/widgets/plan/views/change_confirmation_modal","modules/clean/stormcrow/experiment","classnames","modules/clean/api_v2/user_client","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/payments/three_ds_helper","modules/clean/account_page/widgets/billing/payment_method_constants","modules/clean/family/constants","modules/clean/account_page/widgets/plan/views/disband_family_confirmation_modal","modules/clean/payments/skus/sku_content"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f,g,h,y,M,b,v,S,L,T,w,D,C,P,k,E,Y,N,I,A,x,R,O,B,F,j,U,H,V,W){"use strict";var q,z,G;Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),s=a.__importDefault(s),o=a.__importStar(o),O=a.__importDefault(O),(function(e){e.DEFAULT="default",e.CONFIRM="confirm"})(q=t.ChangePlanMode||(t.ChangePlanMode={})),(function(e){e.DEFAULT="default",e.PLUS_TO_FAMILY="plus_to_family"})(z=t.ChangePlanOrigin||(t.ChangePlanOrigin={})),(function(e){e[e.MONTHLY=1]="MONTHLY",e[e.YEARLY=2]="YEARLY",e[e.PLUS=3]="PLUS",e[e.PROFESSIONAL=4]="PROFESSIONAL",e[e.FAMILY_PAYER=7]="FAMILY_PAYER"})(G=t.PerformPlanTransition||(t.PerformPlanTransition={}));var K=(function(e){function t(r){var l=e.call(this,r)||this;return l.onLoadTransitionsError=function(){i.Notify.error(C.intl.formatMessage({id:"HcIX4g",defaultMessage:"Failed to load modal."})),l.closeModals()},l.logChangePlan=function(e,t,n){var i=l.state.subStatus;i&&i.subState.billingSchedule&&L.ProEventsLogger.log("change_plan_modal_change_plan",a.__assign({from_product_plan_type:e,to_product_plan_type:t},n))},l.onChangePlanConfirmation=function(){var e,t,a,n,i=l.state,s=i.subStatus,o=i.basicSkuQuotaGb,r=l.getSubChangePlan();(null===(t=null===(e=null==s?void 0:s.subState)||void 0===e?void 0:e.plan)||void 0===t?void 0:t.productType)===T.ProductPlanType.FAMILY_PAYER&&(null===(n=null===(a=null==r?void 0:r.finalSubState)||void 0===a?void 0:a.plan)||void 0===n?void 0:n.productType)!==T.ProductPlanType.FAMILY_PAYER&&o?V.showDisbandModal({confirmChangePlan:l.onAccept,basicSkuQuotaGb:o}):l.onAccept()},l.onAccept=function(e,t){var s=l.state.subStatus;if(null==s?void 0:s.subState.plan){var r=l.getSubChangePlan();if(r){var d,u,c=s.subState.plan.productType,m=r.finalSubState.plan.productType;switch(m){case T.ProductPlanType.PLUS:case T.ProductPlanType.STANDARD:u={radio:"plus"},d=G.PLUS;break;case T.ProductPlanType.PROFESSIONAL:u={radio:"professional"},d=G.PROFESSIONAL;break;case T.ProductPlanType.FAMILY_PAYER:u={radio:"family_payer"},d=G.FAMILY_PAYER}l.setState((function(e){return{showErrors:!0}}));var p=l.state,_=p.vat,f=p.paymentMethod,g=p.threeDsData,h=p.handle3DsMessage,y=p.shouldShowPlusToFamilyModal;if(f&&f.country_code&&l.vatValidator(f.country_code,_))if(d&&c)if(l.setState((function(e){return{submitting:!0}})),R.Experiment(l.props.expMontana).isActive&&l.props.shouldApplyMontanaRetentionPolicy&&d===G.PLUS&&c===T.ProductPlanType.PROFESSIONAL&&F.MontanaLogger.logEvent("cancel_click",a.__assign({featureType:"change_plan",cta:"confirm_change"},u)),R.Experiment(l.props.expMontana).isActive&&l.props.shouldApplyMontanaRetentionPolicy&&r.subState.billingSchedule.id===T.ScheduleId.YEARLY&&d===G.PLUS&&c===T.ProductPlanType.PROFESSIONAL){var M=(new B.UserApiV2Client).ns("retention_policy").rpc("get_retention_policies_for_user",void 0,{subjectUserId:P.getCurrentUser().id}),b=function(){i.Notify.error(C.intl.formatMessage({id:"Huhypp",defaultMessage:"There was an issue, please contact Customer Support."})),l.setState((function(e){return{submitting:!1}}))};M.then((function(e){var a=e.available_policies;if(a&&a.length){for(var s=-1,o=0;o<a.length;o++)if(2===a[o].policy_id){s=o;break}if(-1!==s)(new B.UserApiV2Client).ns("retention_policy").rpc("apply_retention_policy_for_user",{policy_id:2,expected_price:JSON.parse(a[s].serialized_subscription_change_plan).tvm.expected_price},{subjectUserId:P.getCurrentUser().id}).then((function(e){if(i.Notify.success(C.intl.formatMessage({id:"hMvvfC",defaultMessage:"You’ve changed your plan, and will be refunded the difference!"})),l.removeShowModalParams(),l.logChangePlan(c,m,t),l.props.transitionPerformed&&l.props.transitionPerformed(),r.finalSubState.planSku.productType===T.ProductPlanType.PROFESSIONAL)return n.redirect("/professional_onboarding");l.closeModals(),n.reload()}),(function(e){b()}));else b()}else b()}),(function(e){b()}))}else{L.ProEventsLogger.log("de_change_plan_modal_confirm_change_click",t);var v={transition_change_type:d,browser_info:j.collectBrowserInfo(),three_ds_data:g};_&&(v.vat=_,L.ProEventsLogger.log("vat_provided_on_upgrade",t)),o.WebRequest({url:"/account/perform_personal_transition",data:v,subject_user:l.getUserId(),success:function(e){var a=JSON.parse(e);return a.redirect?n.redirect(a.redirect):(i.Notify.success(C.intl.formatMessage({id:"zpOY3S",defaultMessage:"You’ve changed your plan!"})),l.removeShowModalParams(),l.logChangePlan(c,m,t),l.props.transitionPerformed&&l.props.transitionPerformed(),r.finalSubState.planSku.productType===T.ProductPlanType.PROFESSIONAL?n.redirect("/professional_onboarding"):r.finalSubState.planSku.productType===T.ProductPlanType.FAMILY_PAYER?y?n.redirect(H.FAMILY_INVITE_URI_PATH_SUCCESS):n.redirect(H.FAMILY_INVITE_URI_PATH):void l.closeModals())},error:function(t,a,n){e&&e(),l.setState((function(e){return{submitting:!1}}));var s=!1,o=null;try{o=JSON.parse(n)}catch(e){}finally{h&&o&&(s=!0,h(o))}s||i.Notify.error(C.intl.formatMessage({id:"PMSOip",defaultMessage:"There was an error changing the plan!"}))}}),l.updateThreeDsData("")}else i.Notify.error(C.intl.formatMessage({id:"PMSOip",defaultMessage:"There was an error changing the plan!"}))}}},l.updateThreeDsData=function(e){l.setState({threeDsData:e})},l.onDismiss=function(){var e=l.props,t=e.expMontana,a=e.shouldApplyMontanaRetentionPolicy,n=e.shouldShowRedesignedModal;R.Experiment(t).isActive&&a?F.MontanaLogger.logEvent("cancel_dismiss",{featureType:"change_plan"}):L.ProEventsLogger.log("de_change_plan_modal_cancel_click"),n&&l.setState({open:!1})},l.closeModals=function(){var e=l.props.shouldShowRedesignedModal;S.Modal.close(),e&&l.setState({open:!1})},l.renderVat=function(){var e=null;if(!l.vatDisplayEnabled)return e;var t=l.state,a=t.vat,n=t.paymentMethod,i=t.showErrors,o=n&&n.country_code?n.country_code:void 0;if(o){var r=f.getVatPrefix(o),d=C.intl.formatMessage({id:"1dRSXy",defaultMessage:"Please enter a valid VAT number, e.g. {examples}."},{examples:f.getVatExamples(o).join(", ")});e=s.default.createElement(E.ArborTextInput,{name:"vat",placeholderText:r,labelText:C.intl.formatMessage({id:"jabE//",defaultMessage:"VAT number (optional)"}),isValid:!i||l.vatValidator(o,a),errorText:d,value:a,onChange:l.onVatChange})}return e},l.onVatChange=function(e,t,a){var n=a;l.setState((function(e){return{vat:n,loadingChangeSummary:!0,showErrors:!1}}));var i=l.state.paymentMethod;i&&i.country_code&&l.repriceTransitions(f.validateVat(i.country_code,n)?n:"")},l.renderPaymentMethod=function(){var e=l.state.paymentMethod;if(!l.isPlanScheduledToChange())return s.default.createElement("div",{className:"upgrade-payment-method-link"},s.default.createElement(b.IndividualInlinePaymentMethodView,{paymentMethod:e,paymentErrorMessage:C.intl.formatMessage({id:"qWYni+",defaultMessage:"Please update your billing information to change your plan."}),renderUpdateLink:s.default.createElement(A.UpdateBillingInfo,{updateBillingCTA:l.updateBillingInfo})}))},l.updateBillingInfo=function(e){e.stopPropagation(),e.preventDefault(),R.Experiment(l.props.expMontana).isActive&&l.props.shouldApplyMontanaRetentionPolicy?F.MontanaLogger.logEvent("cancel_click",{featureType:"change_plan",cta:"update_billing_information"}):L.ProEventsLogger.log("de_update_billing_info_click"),l.showUpdateBillingModal()},l.showUpdateBillingModal=function(){S.Modal.close(),M.DBModalStack.register(I.BILLING_INFO_UPDATED,(function(){t.showInstance(l.props)})),l.props.browserUpdateRequired?Y.BrowserUpdateModalLoader.showInstance():N.IndividualUpdateBillingModalLoader.showInstance()},l.handleCancelScheduleAction=function(e){l.handleCancelActions(h.CancellationType.SCHEDULE),e.preventDefault()},l.handleCancelPlanAction=function(e){e.preventDefault(),l.handleCancelActions(h.CancellationType.PLAN)},l.handleCancelActions=function(e){var t=l.state.subStatus,a=l.props,n=a.transitionPerformed,i=a.shouldShowRedesignedModal;return t&&p.CancelChangesModalConfirmationView.showInstance({transitionPerformed:n,cancellationType:e,reOpenModalDialogAfterCancellation:!i,shouldShowRedesignedModal:i}),!1},l.transitionPerformedClosure=function(e){if(l.props.transitionPerformed)return l.props.transitionPerformed()},l.state={loadingContent:!0,schedule:T.ScheduleId.MONTHLY,subChangePlans:[],submitting:!1,type:T.ProductPlanType.STANDARD,showErrors:!1,vat:"",loadingChangeSummary:!1,open:!0},l}return a.__extends(t,e),t.prototype.getUrlOption=function(e){var t=e,a=n.get_href().match(/option=([a-zA-Z_]*)/);if(a&&a.length>1){var i=a[1];"plus"===i&&(t=e===T.ProductPlanType.PROFESSIONAL?T.ProductPlanType.PLUS:e),"pro"===i&&(t=T.ProductPlanType.PROFESSIONAL)}return t},t.showInstance=function(e){S.Modal.showInstance(s.default.createElement(t.ChangePlanModal,a.__assign({},e)))},t.prototype.componentDidMount=function(){this.loadPlanTransitions()},t.prototype.onLoadPlanTransitions=function(e){var t=this;this.setState((function(a){var n,s=D.SubscriptionStatus.deserialize(e.serializedSubStatus),o=e.paymentMethod;o.gateway_id===U.BRAINTREE&&(n=new j.ThreeDsHandler({updateThreeDsData:t.updateThreeDsData,submitThreeDsChallenge:t.onAccept,triggerThreeDsChallenge:function(){},submitThreeDsFingerprint:t.onAccept,triggerThreeDsFingerprint:function(){},isDesktop:!1,isSeleniumChangesTest:!1}).handle3DsMessage);var r=s.finalSubState;if(!r.billingSchedule||!r.plan)throw"A base plan is required, in order to change it.";var l=s.subState.billingSchedule.id,d=e.serializedSubChangePlans.map((function(e){return w.SubscriptionChangePlan.deserialize(e)})),u=d.map((function(e){return e}));u.push(s);var c=t.getUrlOption(s.subState.plan.productType),m=e.is_montana_plan||!1;if(!F.MontanaLogger.isInitialized()&&R.Experiment(t.props.expMontana).isActive){var p={billingScheduleId:l,planType:s.subState.plan.productType};F.MontanaLogger.initialize(p)}var f=s.subState.planSku.productType===T.ProductPlanType.PLUS||s.subState.planSku.productType===T.ProductPlanType.STANDARD;t.props.shouldShowRedesignedModal&&(c=f?T.ProductPlanType.PROFESSIONAL:T.ProductPlanType.PLUS);var g=!1;return t.props.origin===z.PLUS_TO_FAMILY&&((g=_.shouldShowPlusToFamilyModal(f,u,e.expPlusToFamilyUpsellVariant))?c=T.ProductPlanType.FAMILY_PAYER:i.Notify.error(C.intl.formatMessage({id:"lBd15f",defaultMessage:"You cannot change plans at this time."}))),{loadingContent:!1,subStatus:s,paymentMethod:o,schedule:l,subChangePlans:d,allSubStatuses:u,type:c,isMontanaPlan:m,handle3DsMessage:n,basicSkuQuotaGb:W.SkuContentClient.deserialize(e.basicSkuContent).spaceShortFormGb(),shouldShowPlusToFamilyModal:g}}))},t.prototype.loadPlanTransitions=function(){var e=this;this.retrieveViewModel((function(t){e.onLoadPlanTransitions(t)}),this.onLoadTransitionsError)},t.prototype.onRepriceTransitions=function(e){this.setState((function(t){var a=D.SubscriptionStatus.deserialize(e.serializedSubStatus),n=e.serializedSubChangePlans.map((function(e){return w.SubscriptionChangePlan.deserialize(e)})),i=n.map((function(e){return e}));i.push(a);return{subStatus:a,subChangePlans:n,allSubStatuses:i,loadingChangeSummary:!1,basicSkuQuotaGb:W.SkuContentClient.deserialize(e.basicSkuContent).spaceShortFormGb()}}))},t.prototype.onRepriceError=function(){i.Notify.error(C.intl.formatMessage({id:"rxhxMb",defaultMessage:"Request failed"})),this.closeModals()},t.prototype.repriceTransitions=function(e){var t=this;this.retrieveViewModel((function(e){t.onRepriceTransitions(e)}),this.onRepriceError,e)},t.prototype.getUserId=function(){return this.props.userIdOverride?this.props.userIdOverride:P.getCurrentUser().id},t.prototype.retrieveViewModel=function(e,t,a){var n=this,i=this.state,s=i.withVat,r=i.withoutVat,l=a?{vat:a}:void 0,d=a?s:r;d?e(d):o.WebRequest({url:"/account/ajax_change_plan",data:l,subject_user:this.getUserId(),success:function(t){var i=JSON.parse(t);n.setState((function(e){return a?{withVat:i}:{withoutVat:i}})),e(i)},error:t})},t.prototype.getSubChangePlan=function(e){return void 0===e&&(e=this.state.type),this.state.subChangePlans.filter((function(t){var a=t.finalSubState;return!(!a.plan||!a.billingSchedule)&&a.plan.productType===e})).pop()},Object.defineProperty(t.prototype,"hasTypeChanged",{get:function(){var e=this.state.subStatus;return e&&e.finalSubState.plan&&e.finalSubState.plan.productType!==this.state.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCurrentPlanChanged",{get:function(){return this.hasTypeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subStatusScheduleId",{get:function(){var e=this.state.subStatus;return e&&e.finalSubState.billingSchedule?e.finalSubState.billingSchedule.id:T.ScheduleId.MONTHLY},enumerable:!0,configurable:!0}),t.prototype.removeShowModalParams=function(){var e=n.get_href().match(/modal=([a-zA-Z_]*)/);e&&e.length>1&&("plan"===e[1]&&window.history.replaceState({},document.title,n.get_href().split("?")[0]))},t.prototype.changeProductPlanAndScheduleType=function(e,t){this.setState((function(a){return{type:e,schedule:t}}))},t.prototype.getPlanDescription=function(e){var t=e.content&&e.content.spaceShortFormTb(),a=this.state.isMontanaPlan;switch(e.productType){case T.ProductPlanType.STANDARD:case T.ProductPlanType.PLUS:return t?a?C.intl.formatMessage({id:"gK4PxX",defaultMessage:"Smart Sync, stress-free sharing, offline folders on mobile, and {plan_space} storage."},{plan_space:t}):C.intl.formatMessage({id:"Tk0VvR",defaultMessage:"Stress-free sharing, offline folders on mobile, and {plan_space} storage."},{plan_space:t}):a?C.intl.formatMessage({id:"/Jj95M",defaultMessage:"Smart Sync, stress-free sharing, offline folders on mobile."}):C.intl.formatMessage({id:"c5cf7g",defaultMessage:"Stress-free sharing and offline folders on mobile."});case T.ProductPlanType.PROFESSIONAL:return t?a?C.intl.formatMessage({id:"qJiu/h",defaultMessage:"Everything in Plus, with Showcase, shared link controls, and {plan_space} storage."},{plan_space:t}):C.intl.formatMessage({id:"3ILLQu",defaultMessage:"Smart Sync, Showcase, shared link controls, and {plan_space} storage."},{plan_space:t}):a?C.intl.formatMessage({id:"Qgilln",defaultMessage:"Everything in Plus, with Showcase, shared link controls."},{plan_space:t}):C.intl.formatMessage({id:"A0rI4I",defaultMessage:"Smart Sync, Showcase, and shared link controls."});case T.ProductPlanType.FAMILY_PAYER:return C.intl.formatMessage({id:"9Ru4ky",defaultMessage:"{count, plural, one{Up to {count} member, easy family sharing, and {plan_space} storage.} other{Up to {count} members, easy family sharing, and {plan_space} storage.}}"},{count:H.MAX_LICENSES,plan_space:t})}return""},t.prototype.changeProductPlanAndScheduleTypeClosure=function(e,t){var a=this;return function(){a.changeProductPlanAndScheduleType(e,t)}},t.prototype.renderPlanItems=function(){var e=this,t=this.state,a=t.type,n=t.allSubStatuses,i=t.subStatus,o=[T.ProductPlanType.STANDARD,T.ProductPlanType.PLUS,T.ProductPlanType.PROFESSIONAL,T.ProductPlanType.FAMILY_PAYER];if(n&&i)return n.filter((function(e){return!!(e.finalSubState.plan&&i.subState.plan&&i.finalSubState.plan&&i.subState.planSku&&i.finalSubState.planSku&&i.subState.billingSchedule&&e.finalSubState.billingSchedule)})).sort((function(e,t){return e.finalSubState.plan&&t.finalSubState.plan?o.indexOf(e.finalSubState.plan.productType)-o.indexOf(t.finalSubState.plan.productType):0})).map((function(t){var n=t.finalSubState.plan,o=t.finalSubState.billingSchedule;if(n&&o&&!(i&&i.subState&&i.subState.plan&&i.subState.plan.isLegacyPlan&&n.isAdvancePlan)&&i.scheduledSubState&&i.scheduledSubState.billingSchedule&&t&&t.subState.billingSchedule&&t.finalSubState.plan&&t.finalSubState.billingSchedule&&i.subState.billingSchedule&&i.subState.plan){var r,d,c=!1,m=i.isOnTrial?i.finalSubState.plan:i.subState.plan;m&&n.productType===m.productType&&(r=C.intl.formatMessage({id:"dhdo+T",defaultMessage:"(current plan)"}),c=!0),n.productType!==T.ProductPlanType.FAMILY_PAYER&&(d=s.default.createElement("span",null,s.default.createElement("br",null),s.default.createElement("a",{href:"/plans",target:"_blank",rel:"noreferrer noopener"},C.intl.formatMessage({id:"wo0qrl",defaultMessage:"See plan details"}))));var p=C.intl.formatMessage({id:"q0DZmp",defaultMessage:"Dropbox {plan_name}"},{plan_name:n.displayName()}),_=void 0;e.props.mode===q.CONFIRM&&n.productType===T.ProductPlanType.PROFESSIONAL?_={variant:l.BadgeVariant.NEW,color:l.BadgeColor.NEON_GREEN}:n.productType===T.ProductPlanType.FAMILY_PAYER&&(_={variant:l.BadgeVariant.BETA,color:l.BadgeColor.NEON_GREEN});var f=m&&n.productType===m.productType?e.getPlanDescription(m):e.getPlanDescription(n);return s.default.createElement(u.AdminPricedListItem,{className:"test-plan-item-"+n.productType+" "+(c?"test-current-plan-item":""),key:n.code,isSelected:a===n.productType,title:p,titleWarningText:void 0,titleSecondaryText:r,description:f,detailsLink:d,price:n.displayCost,unit:n.billingSchedule.id===T.ScheduleId.MONTHLY?C.intl.formatMessage({id:"YRatzw",defaultMessage:"per month"}):C.intl.formatMessage({id:"4Wu5r9",defaultMessage:"per year"}),onClick:e.changeProductPlanAndScheduleTypeClosure(n.productType,o.id),disableItem:e.isPlanScheduledToChange(),badge:_})}}))},t.prototype.renderBillingSection=function(){return s.default.createElement("div",null,s.default.createElement(d.AdminPricedList,null,this.renderPlanItems()),this.renderVat())},t.prototype.vatValidator=function(e,t){return!t||f.validateVat(e,t)},t.prototype.isScheduledToChange=function(){return this.isPlanScheduledToChange()||this.isBillingScheduleToChange()||this.isEvhScheduledToChange()},t.prototype.isEvhScheduledToChange=function(){var e=this.state.subStatus;return!(!e||!e.scheduledSubState)&&e.subState.quantityForEvhAddOn()!==e.scheduledSubState.quantityForEvhAddOn()},t.prototype.isPlanScheduledToChange=function(){var e=this.state.subStatus;return!!(e&&e.subState.plan&&e.finalSubState.plan)&&e.subState.plan.productType!==e.finalSubState.plan.productType},t.prototype.isBillingScheduleToChange=function(){var e=this.state.subStatus;return!!(e&&e.subState.billingSchedule&&e.finalSubState.billingSchedule)&&e.subState.billingSchedule.id!==e.finalSubState.billingSchedule.id},t.prototype.getPlanNameWithEvhText=function(e){var t=this.state.subStatus;return t&&t.scheduledSubState&&t.scheduledSubState.quantityForEvhAddOn()>0?e+" "+C.intl.formatMessage({id:"NsQt0k",defaultMessage:"+ extended version history"}):e},t.prototype.isPlanChangeUpgrade=function(e,t){var a=c.planTypeToUpgrades[e];return void 0!==a&&a.includes(t)},t.prototype.renderScheduleTransitionText=function(){var e=this.state.subStatus,t=this.getSubChangePlan();if(e&&e.subState.plan){var a,n=s.default.createElement("a",{href:"#",onClick:this.handleCancelScheduleAction},C.intl.formatMessage({id:"e+rwVi",defaultMessage:"Cancel change"})),i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement("a",{"aria-label":C.intl.formatMessage({id:"mRCTvJ",defaultMessage:"CancelLink"}),href:"#",onClick:P.logClickAndRedirect("de_cancel_link_click","/help/billing/cancel-dropbox-plus",{from:"change_plan_modal"})},e)},o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement("a",{"aria-label":C.intl.formatMessage({id:"g/nUIt",defaultMessage:"LegalLink"}),href:"#",onClick:P.logClickAndRedirect("de_legal_link_click","/help/billing/plus-refund",{from:"change_plan_modal"})},e)};if(this.isPlanScheduledToChange())return s.default.createElement("span",{className:"plan-transition"},C.intl.formatMessage({id:"5eLA6l",defaultMessage:"You’ve already requested a change to your plan. If you want to choose a different plan or billing period, first cancel your pending change."})," ",n);if((!t||e.subState.planSku.productType===t.finalSubState.planSku.productType)&&e.currentBillingSummary){var r=e.scheduledSubState,l=e.nextBillingSummary,d=e.subState,u=e.currentBillingSummary;a=this.isScheduledToChange()?C.intl.formatMessage({id:"EkFAkT",defaultMessage:"Starting on {date}, we’ll bill you once a {schedule_noun} for your Dropbox {plan}. Your new {schedule} total will be {scheduled_total}."},{plan:this.getPlanNameWithEvhText(r.plan.displayName()),date:d.formattedNextBillingDate,schedule:r.billingSchedule.scheduleDescriptionAdjective,schedule_noun:r.billingSchedule.scheduleDescriptionNoun,scheduled_total:y.Cash.formatWithTaxLabels(l.total,l),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement("strong",null,e)}}):C.intl.formatMessage({id:"H2ofu+",defaultMessage:"Your Dropbox {plan} plan will renew on {date}. Your current {schedule} total is {recurring_total}."},{plan:this.getPlanNameWithEvhText(d.plan.displayName()),schedule:d.billingSchedule.scheduleDescriptionAdjective,recurring_total:y.Cash.formatWithTaxLabels(u.total,u),date:d.formattedNextBillingDate})}if(t&&t.finalSubState.plan){var c=t.finalSubState,m=t.tvm;l=t.nextBillingSummary,d=t.subState;this.isPlanChangeUpgrade(e.subState.planSku.productType,c.planSku.productType)?a=C.intl.formatMessage({id:"IYLgtU",defaultMessage:"You’re upgrading your plan to Dropbox {plan}. <strong>We’ll charge you {prorated_price} now</strong>, which is prorated for the current billing period. Starting on {date} and until you <cancelLink>cancel</cancelLink>, we’ll bill you once a {schedule_noun} and your new {schedule} total will be {scheduled_total}. If you cancel, previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>."},{plan:this.getPlanNameWithEvhText(c.plan.displayName()),prorated_price:y.Cash.formatWithTaxLabels(m.getTotalPrice(),l),date:d.formattedNextBillingDate,schedule_noun:c.billingSchedule.scheduleDescriptionNoun,schedule:c.billingSchedule.scheduleDescriptionAdjective,scheduled_total:y.Cash.formatWithTaxLabels(l.total,l),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement("strong",null,e)},cancelLink:i,legalLink:o}):(a=C.intl.formatMessage({id:"f5t2Mw",defaultMessage:"Starting on {date}, your plan will be downgraded to Dropbox {plan} and your new {schedule} total will be {scheduled_total}. Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>."},{plan:this.getPlanNameWithEvhText(c.plan.displayName()),date:e.subState.formattedNextBillingDate,schedule:c.billingSchedule.scheduleDescriptionAdjective,scheduled_total:y.Cash.formatWithTaxLabels(l.total,l),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement("strong",null,e)},cancelLink:i,legalLink:o}),R.Experiment(this.props.expMontana).isActive&&this.props.shouldApplyMontanaRetentionPolicy&&(a=C.intl.formatMessage({id:"3oc5+T",defaultMessage:"Starting as soon as you confirm below, your plan will be downgraded to Dropbox {plan} and your new {schedule} total will be {scheduled_total}. Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>."},{plan:this.getPlanNameWithEvhText(c.plan.displayName()),schedule:c.billingSchedule.scheduleDescriptionAdjective,scheduled_total:y.Cash.formatWithTaxLabels(l.total,l),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement("strong",null,e)},cancelLink:i,legalLink:o})))}return a?s.default.createElement("div",null,t||this.isScheduledToChange()?s.default.createElement("span",{className:"change-summary"},C.intl.formatMessage({id:"eSqPLW",defaultMessage:"Change summary"})):null,s.default.createElement("p",{className:"plan-transition"},a)):void 0}},t.prototype.renderChangeFooter=function(){var e;return this.state.loadingChangeSummary?s.default.createElement("div",{className:"loading-indicator"},s.default.createElement("img",{src:k.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:C.intl.formatMessage({id:"QNTZp/",defaultMessage:"Loading"})})):(this.isPlanScheduledToChange()||(e=this.renderPaymentMethod()),s.default.createElement("div",{className:"plan-footer u-font-meta"},this.renderScheduleTransitionText(),e))},Object.defineProperty(t.prototype,"acceptButtonDisabled",{get:function(){var e=this.state.paymentMethod,t=this.state,a=t.loadingContent,n=t.loadingChangeSummary,i=t.submitting;return!(!(a||n||i)&&e)||!this.hasUserSelectedDifferentPlan()},enumerable:!0,configurable:!0}),t.prototype.isValidVatCountry=function(){var e=this.state.paymentMethod;return e&&e.country_code&&f.hasVat(e.country_code)},t.prototype.isUserOnPlus=function(){var e=this.state.subStatus;return e&&e.subState&&e.subState.plan&&e.subState.plan.productType===T.ProductPlanType.PLUS},t.prototype.hasUserSelectedDifferentPlan=function(){return!this.isPlanScheduledToChange()&&this.hasTypeChanged},Object.defineProperty(t.prototype,"vatDisplayEnabled",{get:function(){var e=this.state,t=e.loadingContent,a=e.submitting;return m.INDIVIDUAL_INVOICE_MODAL&&!t&&!a&&this.isValidVatCountry()&&this.isUserOnPlus()&&this.hasUserSelectedDifferentPlan()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"changesSummaryContent",{get:function(){var e=this,t=this.state,a=t.subStatus,n=t.paymentMethod,i=this.getSubChangePlan();if(a&&a.subState.plan){if(a.subState.plan.productType!==a.finalSubState.plan.productType)return C.intl.formatMessage({id:"MA06sP",defaultMessage:"You’ve already requested a change to your plan. If you want to choose a different plan, first cancel your pending change. <cancelChangeLink>Cancel change</cancelChangeLink>"},{cancelChangeLink:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return s.default.createElement(v.Link,{href:"#","aria-label":C.intl.formatMessage({id:"wBjAS9",defaultMessage:"Cancel change"}),className:"change-confirmation-modal__link",onClick:e.handleCancelPlanAction,variant:"primary",hasNoUnderline:!0},t)}});var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement(v.Link,{href:"#","aria-label":C.intl.formatMessage({id:"SnBlmk",defaultMessage:"Cancel link"}),onClick:P.logClickAndRedirect("de_cancel_link_click","/help/billing/cancel-dropbox-plus",{from:"change_plan_modal"}),variant:"primary",hasNoUnderline:!0},e)},r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement(v.Link,{href:"#","aria-label":C.intl.formatMessage({id:"y/hg3y",defaultMessage:"Legal link"}),onClick:P.logClickAndRedirect("de_legal_link_click","/help/billing/plus-refund",{from:"change_plan_modal"}),variant:"primary",hasNoUnderline:!0},e)};return i&&i.tvm?C.intl.formatMessage({id:"dAmv+c",defaultMessage:"We’ll charge you <strong>{prorated_price}</strong> now, which is prorated for the current billing period.{br}{br}{IndividualInlinePaymentMethodView}{br}{br}Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>."},{prorated_price:y.Cash.formatWithTaxLabels(i.tvm.getTotalPrice(),i.nextBillingSummary),br:s.default.createElement("br",null),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.default.createElement("strong",null,e)},cancelLink:o,legalLink:r,IndividualInlinePaymentMethodView:s.default.createElement(b.IndividualInlinePaymentMethodView,{paymentMethod:n,renderUpdateLink:s.default.createElement(A.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo}),isRedesignedModal:!0,nextBillingDate:i.subState.formattedNextBillingDate,scheduleId:i.finalSubState.billingSchedule.id,totalPrice:y.Cash.formatWithTaxLabels(i.nextBillingSummary.total,i.nextBillingSummary)})}):C.intl.formatMessage({id:"NA1nEO",defaultMessage:"{IndividualInlinePaymentMethodView}{br}{br}Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>."},{br:s.default.createElement("br",null),cancelLink:o,legalLink:r,IndividualInlinePaymentMethodView:s.default.createElement(b.IndividualInlinePaymentMethodView,{paymentMethod:n,renderUpdateLink:s.default.createElement(A.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo}),isRedesignedModal:!0,nextBillingDate:a.subState.formattedNextBillingDate,scheduleId:i.finalSubState.billingSchedule.id,totalPrice:y.Cash.formatWithTaxLabels(i.nextBillingSummary.total,i.nextBillingSummary)})})}},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e,n=this,i=this.props,o=i.transitionPerformed,r=i.paymentInfo,l=i.mode,d=i.expMontana,u=i.shouldShowRedesignedModal,m=this.state,p=m.subStatus,f=m.loadingContent,y=m.submitting,b=m.type,v=m.open,L=m.vat,w=C.intl.formatMessage({id:"9q9Jhs",defaultMessage:"Change plan"}),D=C.intl.formatMessage({id:"5Dr7st",defaultMessage:"Cancel"}),P=C.intl.formatMessage({id:"X0xlzt",defaultMessage:"Confirm change"});if(f)w="",P="",D="",e=s.default.createElement("div",{"data-testid":"loading-indicator",className:"loading-indicator"},s.default.createElement("div",{className:"loading-indicator__text"},C.intl.formatMessage({id:"IxHAnI",defaultMessage:"Loading account details..."})),s.default.createElement("img",{src:k.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:C.intl.formatMessage({id:"w1RdJ3",defaultMessage:"Loading"})}));else{var E=void 0;if(p&&o){M.DBModalStack.clear(),M.DBModalStack.register(c.CHANGE_IND_PLAN_MODAL_UPDATED,(function(){t.showInstance(a.__assign(a.__assign({},n.props),{transitionPerformed:n.transitionPerformedClosure}))})),E=s.default.createElement(g.CancellableNotificationsView,{subStatus:p,transitionPerformed:this.transitionPerformedClosure,displaySingleChangeCancellationItem:h.CancellationType.ALL,reOpenModalDialogAfterCancellation:!0,paymentInfo:r,displayNewTotal:!1})}e=s.default.createElement("div",null,E,this.renderBillingSection(),this.renderChangeFooter()),l===q.CONFIRM&&p&&(w=C.intl.formatMessage({id:"p+qbry",defaultMessage:"Confirm plan"}),p.finalSubState.plan.productType===b?(P=null,D=C.intl.formatMessage({id:"31Fc4k",defaultMessage:"Confirm"})):(P=C.intl.formatMessage({id:"/ifa0B",defaultMessage:"Upgrade plan"}),D=null))}if(u)return w=this.isPlanScheduledToChange()?C.intl.formatMessage({id:"9q9Jhs",defaultMessage:"Change plan"}):b===T.ProductPlanType.PLUS?C.intl.formatMessage({id:"iZmz9i",defaultMessage:"You’re switching to Dropbox Plus"}):C.intl.formatMessage({id:"l3MpYz",defaultMessage:"You’re switching to Dropbox Professional"}),s.default.createElement("div",{"data-testid":"change-plan-modal"},s.default.createElement(x.ChangeConfirmationModal,{acceptButtonDisabled:this.acceptButtonDisabled,acceptButtonText:C.intl.formatMessage({id:"31Fc4k",defaultMessage:"Confirm"}),dismissButtonText:C.intl.formatMessage({id:"1B7zHK",defaultMessage:"Cancel"}),loadingContent:f,onAccept:this.onAccept,onDismiss:this.onDismiss,open:v,renderUpdateLink:s.default.createElement(A.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo,isRedesignedModal:!0}),renderVat:this.renderVat,text:this.changesSummaryContent,title:w,submitting:y}));var Y=this.getSubChangePlan();if(this.state.shouldShowPlusToFamilyModal&&this.state.subStatus&&Y&&this.state.paymentMethod)return s.default.createElement(_.PlusToFamilyModal,{subStatus:this.state.subStatus,subChangePlan:Y,paymentMethod:this.state.paymentMethod,acceptButtonDisabled:this.acceptButtonDisabled,onAccept:this.onAccept,submitting:y,onUpdateBillingInfo:this.showUpdateBillingModal,shouldShowVatInput:""!==this.vatDisplayEnabled&&this.vatDisplayEnabled,onVatChange:this.onVatChange,vat:L});var N=O.default("change-plan-modal",{"change-plan-modal--montana":R.Experiment(d).isActive});return s.default.createElement("div",{"data-testid":"change-plan-modal"},s.default.createElement(S.Modal,{acceptButtonDisabled:this.acceptButtonDisabled,acceptButtonText:P,className:N,dismissButtonText:D,autoClose:!1,onAccept:this.onChangePlanConfirmation,onDismiss:this.onDismiss,submitting:y,title:w},e))},t.ChangePlanModal=r.requireCssWithComponent(t,["/static/css/teams/admin/widgets/change_plan_modal/change_plan_modal-vfld43tb3.css"]),t})(s.default.Component);t.ChangePlanModalView=K})),define("modules/clean/account_page/widgets/plan/views/plus_to_family_modal",["require","exports","tslib","modules/core/exception","modules/core/browser","modules/core/i18n","modules/core/uri","react","modules/clean/account_page/util","modules/clean/react/modal","dig-components/typography","modules/clean/account_page/widgets/plan/views/individual_inline_payment_method","modules/clean/payments/skus/constants","modules/clean/payments/cash","modules/clean/family/constants","modules/constants/trademark","modules/clean/account_page/widgets/plan/views/update_billing_info_link","modules/clean/stormcrow/experiment","modules/clean/payments/skus/constants","modules/clean/payments/validation","modules/clean/react/arbor/aspen/elements/arbor_inputs","modules/clean/analytics"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f,g,h,y,M,b,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importStar(i),r=a.__importDefault(r),t.PLUS_TO_FAMILY_MODAL="plus_to_family_modal",t.shouldShowPlusToFamilyModal=function(e,t,a){if(!e)return n.reportException({err:new Error("Plus to Family Modal only available to Plus users"),severity:"non-critical"}),!1;var i=a&&h.Experiment(a).isActive;if(!i)return n.reportException({err:new Error("Plus to Family Modal only available to gated users"),severity:"non-critical"}),!1;var s=1===t.filter((function(e){return e&&e.subState.planSku.productType===y.ProductPlanType.FAMILY_PAYER})).length;return s?s&&i:(n.reportException({err:new Error("Family plan not available"),severity:"non-critical"}),!1)};var S=(function(e){function n(){var a=null!==e&&e.apply(this,arguments)||this;return a.onDismiss=function(){v.ProEventsLogger.log("de_change_plan_modal_cancel_click",{from:t.PLUS_TO_FAMILY_MODAL}),a.removeURIModalQueryParam()},a.onAccept=function(){a.props.onAccept(void 0,{from:t.PLUS_TO_FAMILY_MODAL})},a.updateBillingInfo=function(){v.ProEventsLogger.log("de_update_billing_info_click",{from:t.PLUS_TO_FAMILY_MODAL}),a.props.onUpdateBillingInfo()},a.renderVatInput=function(){var e=a.props,t=e.vat,n=e.paymentMethod.country_code;if(a.props.shouldShowVatInput&&n)return r.default.createElement(b.ArborTextInput,{name:"vat",placeholderText:M.getVatPrefix(n),labelText:s.intl.formatMessage({id:"jabE//",defaultMessage:"VAT number (optional)"}),isValid:M.validateVat(n,t),errorText:s.intl.formatMessage({id:"1dRSXy",defaultMessage:"Please enter a valid VAT number, e.g. {examples}."},{examples:M.getVatExamples(n).join(", ")}),value:t,onChange:a.props.onVatChange})},a}return a.__extends(n,e),n.prototype.removeURIModalQueryParam=function(){var e=i.get_href().match(/modal=(plus_to_family*)/);if(e&&e.length>1){var t=o.URI.parse(i.get_href()).removeQuery("modal");window.history.replaceState({},document.title,t.toString())}},n.prototype.getPlanComparisonText=function(){var e=this.props,t=e.subStatus,a=e.subChangePlan,n=t.finalSubState.plan,i=n.displayCost.toString(),o=a.finalSubState.plan.displayCost.toString();return n.billingSchedule.id===m.ScheduleId.MONTHLY?s.intl.formatMessage({id:"hNT7DA",defaultMessage:"{count, plural, one{{newCost}/month for up to {count} user ({currentPlan} is {currentCost}/month for 1 user)} other {{newCost}/month for up to {count} users ({currentPlan} is {currentCost}/month for 1 user)}}"},{currentPlan:n.displayName(),currentCost:i,newCost:o,count:_.MAX_LICENSES}):s.intl.formatMessage({id:"dlmjiM",defaultMessage:"{count, plural, one{{newCost}/year for up to {count} user ({currentPlan} is {currentCost}/year for 1 user)} other {{newCost}/year for up to {count} users ({currentPlan} is {currentCost}/year for 1 user)}}"},{currentPlan:n.displayName(),currentCost:i,newCost:o,count:_.MAX_LICENSES})},n.prototype.renderPlusToFamilyPlanUpsell=function(){var e=this.props,a=e.subStatus,n=e.subChangePlan,i=a.finalSubState.plan,o=n.finalSubState.plan,d=o.content&&o.content.spaceShortFormGbRounded();return r.default.createElement(r.default.Fragment,null,r.default.createElement(u.Text,null,s.intl.formatMessage({id:"NI7W3i",defaultMessage:"{count, plural, one{{familyPlan} includes the same features as Dropbox {currentPlan} (your current plan) for up to {count} member.} other{{familyPlan} includes the same features as Dropbox {currentPlan} (your current plan) for up to {count} members.}}"},{familyPlan:f.DROPBOX_FAMILY,currentPlan:i.displayName(),count:_.MAX_LICENSES})),r.default.createElement(u.Text,null,r.default.createElement("ul",null,r.default.createElement("li",null,this.getPlanComparisonText()),r.default.createElement("li",null,s.intl.formatMessage({id:"aE4CAA",defaultMessage:"Share {space} of encrypted cloud storage"},{space:d})),r.default.createElement("li",null,s.intl.formatMessage({id:"OX5PaW",defaultMessage:"Easily create shared spaces for photos, videos, docs, and more"})))),r.default.createElement(u.Text,{size:"small"},s.intl.formatMessage({id:"V3rkGP",defaultMessage:"Questions? Check out the <overview_link>Family plan overview</overview_link>."},{overview_link:function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return r.default.createElement(u.Link,{href:"#","aria-label":s.intl.formatMessage({id:"kc7uwV",defaultMessage:"FamilyPlanOverviewLink"}),onClick:l.logClickAndRedirect("de_family_plan_overview_link_click","/help/accounts-billing/plans-upgrades/dropbox-family-plan",{from:t.PLUS_TO_FAMILY_MODAL})},e)}})))},n.prototype.renderFooter=function(){return r.default.createElement("div",{className:"plus-family-plan-modal__footer"},this.renderVatInput(),r.default.createElement(u.Text,{color:"faint",isBold:!0,tagName:"p"},s.intl.formatMessage({id:"sIclY/",defaultMessage:"Plan change summary"})),r.default.createElement(u.Text,{size:"small",color:"faint"},this.getTransitionText()))},n.prototype.getTransitionText=function(){var e,a=this.props,n=a.subStatus,i=a.subChangePlan,o=a.paymentMethod,d=n.finalSubState.plan,u=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return r.default.createElement("a",{"aria-label":s.intl.formatMessage({id:"mRCTvJ",defaultMessage:"CancelLink"}),href:"#",onClick:l.logClickAndRedirect("de_cancel_link_click","/help/billing/cancel-dropbox-plus",{from:t.PLUS_TO_FAMILY_MODAL})},e)},_=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return r.default.createElement("a",{"aria-label":s.intl.formatMessage({id:"g/nUIt",defaultMessage:"LegalLink"}),href:"#",onClick:l.logClickAndRedirect("de_legal_link_click","/help/billing/plus-refund",{from:t.PLUS_TO_FAMILY_MODAL})},e)};if(i&&i.finalSubState.plan){var f=i.finalSubState,h=i.tvm,y=i.nextBillingSummary,M=i.subState,b=r.default.createElement(c.IndividualInlinePaymentMethodView,{paymentMethod:o,renderUpdateLink:r.default.createElement(g.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo}),nextBillingDate:M.formattedNextBillingDate,scheduleId:f.billingSchedule.id,totalPrice:p.Cash.formatWithTaxLabels(y.total,y)});e=d.billingSchedule.id===m.ScheduleId.MONTHLY?s.intl.formatMessage({id:"5NWG7E",defaultMessage:"If you change from Dropbox {currentPlan} to Dropbox {plan}, we’ll charge you {proratedPrice} now. Starting on {date}, we’ll bill you {scheduledTotal} a month. Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded unless it’s <legalLink>legally required</legalLink>. {paymentInfo}"},{currentPlan:n.finalSubState.plan.displayName(),plan:f.plan.displayName(),proratedPrice:p.Cash.formatWithTaxLabels(h.getTotalPrice(),y),date:M.formattedNextBillingDate,scheduledTotal:p.Cash.formatWithTaxLabels(y.total,y),paymentInfo:b,cancelLink:u,legalLink:_}):s.intl.formatMessage({id:"KUkJyi",defaultMessage:"If you change from Dropbox {currentPlan} to Dropbox {plan}, we’ll charge you {proratedPrice} now. Starting on {date}, we’ll bill you {scheduledTotal} a year. Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded unless it’s <legalLink>legally required</legalLink>. {paymentInfo}"},{currentPlan:n.finalSubState.plan.displayName(),plan:f.plan.displayName(),proratedPrice:p.Cash.formatWithTaxLabels(h.getTotalPrice(),y),date:M.formattedNextBillingDate,scheduledTotal:p.Cash.formatWithTaxLabels(y.total,y),paymentInfo:b,cancelLink:u,legalLink:_})}return e},n.prototype.render=function(){return r.default.createElement(d.Modal,{className:"plus-family-plan-modal",title:f.DROPBOX_FAMILY,acceptButtonDisabled:this.props.acceptButtonDisabled,acceptButtonText:s.intl.formatMessage({id:"e2x8vE",defaultMessage:"Change to {familyPlan} plan"},{familyPlan:f.TRADEMARK_FAMILY}),dismissButtonText:s.intl.formatMessage({id:"dTig7r",defaultMessage:"Cancel"}),autoClose:!1,onAccept:this.onAccept,onDismiss:this.onDismiss,submitting:this.props.submitting},this.renderPlusToFamilyPlanUpsell(),this.renderFooter())},n})(r.default.Component);t.PlusToFamilyModal=S})),define("modules/clean/account_page/widgets/plan/views/change_schedule_modal",["require","exports","tslib","modules/core/browser","react","classnames","dig-components/typography","modules/clean/ajax","modules/clean/analytics","modules/clean/account_page/widgets/billing/payment_methods_util","modules/clean/account_page/widgets/plan/constants","modules/clean/account_page/widgets/plan/views/cancel_changes_modal","modules/clean/account_page/widgets/plan/views/change_plan_modal","modules/clean/account_page/widgets/plan/views/cancellable_notifications_view","modules/clean/account_page/widgets/plan/views/individual_inline_payment_method","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/account_page/widgets/plan/views/update_billing_info_link","modules/clean/account_page/util","modules/clean/account_page/widgets/plan/views/change_confirmation_modal","modules/clean/dbmodal_stack","modules/clean/payments/cash","modules/clean/payments/skus/constants","modules/clean/payments/skus/subscription_change_plan","modules/clean/payments/skus/subscription_status","modules/clean/react/css","modules/clean/react/modal","modules/clean/react/payments/error/browser_update_required_modal","modules/clean/react/payments/update_individual_billing/update_individual_billing_modal_loader","modules/clean/react/payments/update_individual_billing/update_individual_store_creator","modules/clean/static_urls","modules/clean/stormcrow/experiment","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item_variant","modules/core/i18n","modules/clean/account_page/constants","modules/core/notify","modules/clean/account_page/widgets/plan/views/covid_promo_warning"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f,g,h,y,M,b,v,S,L,T,w,D,C,P,k,E,Y,N,I,A,x,R,O){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importDefault(i),s=a.__importDefault(s);var B=(function(e){function t(i){var s=e.call(this,i)||this;return s.closeModals=function(){s.props.shouldShowRedesignedModal?s.setState({open:!1}):w.Modal.close()},s.onAccept=function(){var e,t,i,o=s.getSubChangePlan();o&&(o.finalSubState.billingSchedule.id===v.ScheduleId.MONTHLY&&(i={radio:"monthly"},t=m.PerformPlanTransition.YEARLY,e=m.PerformPlanTransition.MONTHLY),o.finalSubState.billingSchedule.id===v.ScheduleId.YEARLY&&(i={radio:"yearly"},t=m.PerformPlanTransition.MONTHLY,e=m.PerformPlanTransition.YEARLY),E.Experiment(s.props.expMontana).isActive&&s.props.isMontanaDowngradeFlow&&f.MontanaLogger.logEvent("cancel_click",a.__assign({featureType:"yearly_billing",cta:"confirm_change"},i)),e&&t?(s.setState((function(e){return e.submitting=!0,e})),r.WebRequest({url:"/account/perform_personal_transition",data:{transition_change_type:e},subject_user:h.getCurrentUser().id,success:function(e){var t=JSON.parse(e);if(t.redirect)return n.redirect(t.redirect);R.Notify.success(A.intl.formatMessage({id:"dVc1qR",defaultMessage:"You’ve changed your billing period!"})),s.logChangeSchedule(),s.props.transitionPerformed&&s.props.transitionPerformed(),s.closeModals()},error:function(){R.Notify.error(A.intl.formatMessage({id:"wiPRXu",defaultMessage:"There was an error changing the billing period!"})),s.setState((function(e){return e.submitting=!1,e}))}})):R.Notify.error(A.intl.formatMessage({id:"wiPRXu",defaultMessage:"There was an error changing the billing period!"})))},s.updateBillingInfo=function(e){E.Experiment(s.props.expMontana).isActive&&s.props.isMontanaDowngradeFlow?f.MontanaLogger.logEvent("cancel_click",{featureType:"yearly_billing",cta:"update_billing_information"}):l.ProEventsLogger.log("de_update_billing_info_click"),s.closeModals(),M.DBModalStack.register(P.BILLING_INFO_UPDATED,(function(){t.showInstance(s.props)})),s.props.browserUpdateRequired?D.BrowserUpdateModalLoader.showInstance():C.IndividualUpdateBillingModalLoader.showInstance()},s.handleCancelScheduleAction=function(){return s.handleCancelActions(x.CancellationType.SCHEDULE),!1},s.handleCancelActions=function(e){var t=s.state.subStatus,a=s.props,n=a.transitionPerformed,i=a.shouldShowRedesignedModal;return t&&c.CancelChangesModalConfirmationView.showInstance({transitionPerformed:n,cancellationType:e,reOpenModalDialogAfterCancellation:!i,shouldShowRedesignedModal:i}),!1},s.transitionPerformedClosure=function(e){if(s.props.transitionPerformed)return s.props.transitionPerformed()},s.onDismissModal=function(){var e=s.props,t=e.expMontana,a=e.isMontanaDowngradeFlow,n=e.shouldShowRedesignedModal;E.Experiment(t).isActive&&a?f.MontanaLogger.logEvent("cancel_dismiss",{featureType:"yearly_billing"}):l.ProEventsLogger.log("de_cancel_billing_change_modal"),n&&s.setState({open:!1})},s.state={loadingContent:!0,schedule:v.ScheduleId.MONTHLY,subChangePlans:[],submitting:!1,type:v.ProductPlanType.STANDARD,hasLicenseKey:!1,isPriceVersionChange:!1,open:!0},s}return a.__extends(t,e),Object.defineProperty(t.prototype,"isProfessionalTrialPlan",{get:function(){var e=this.state.subStatus;return!(!e||!e.subState.plan)&&e.subState.plan.productType===v.ProductPlanType.PROFESSIONAL_TRIAL},enumerable:!0,configurable:!0}),t.showInstance=function(e){w.Modal.showInstance(i.default.createElement(t.ChangeScheduleModal,a.__assign({},e)))},t.prototype.componentDidMount=function(){this.loadPlanTransitions()},t.prototype.loadPlanTransitions=function(){var e=this;r.WebRequest({url:"/account/ajax_change_plan_schedule",subject_user:h.getCurrentUser().id,success:function(t){var n=JSON.parse(t);e.setState((function(t){var i=a.__assign({},t);i.loadingContent=!1,i.subStatus=L.SubscriptionStatus.deserialize(n.serializedSubStatus),i.paymentMethod=n.paymentMethod,i.hasLicenseKey=n.hasLicenseKey,i.isPriceVersionChange=n.isPriceVersionChange,i.currentCovidPromoInfo=n.currentCovidPromoInfo;var s=i.subStatus.finalSubState;if(!s.billingSchedule||!s.plan)throw"A base plan is required, in order to change it.";var o=i.subStatus.subState.billingSchedule.id;if(i.hasLicenseKey?i.schedule=i.subStatus.scheduledSubState.billingSchedule.id:i.schedule=o,i.subStatus.subState.plan){var r=i.subStatus.subState.plan.productType,l=E.Experiment(e.props.expMontana).isActive,d=o===v.ScheduleId.MONTHLY,u=r===v.ProductPlanType.STANDARD||r===v.ProductPlanType.PLUS;if(l&&d&&u&&(i.schedule=v.ScheduleId.YEARLY),!f.MontanaLogger.isInitialized()&&l){var c={billingScheduleId:o,planType:r};f.MontanaLogger.initialize(c)}}if(i.subChangePlans=n.serializedSubChangePlans.map((function(e){return S.SubscriptionChangePlan.deserialize(e)})),i.allSubStatuses=i.subChangePlans.map((function(e){return e})),i.allSubStatuses.push(i.subStatus),i.type=i.subStatus.subState.plan.productType,e.props.shouldShowRedesignedModal){d=i.subStatus.subState.billingSchedule.id===v.ScheduleId.MONTHLY;i.type=s.plan.productType,i.schedule=d?v.ScheduleId.YEARLY:v.ScheduleId.MONTHLY}return i}))},error:function(){R.Notify.error(A.intl.formatMessage({id:"C2BKnZ",defaultMessage:"Failed to load modal."})),e.closeModals()}})},t.prototype.getSubChangePlan=function(e,t){return void 0===e&&(e=this.state.type),void 0===t&&(t=this.state.schedule),this.state.subChangePlans.filter((function(a){var n=a.finalSubState;return!(!n.plan||!n.billingSchedule)&&(n.plan.productType===e&&n.billingSchedule.id===t)})).pop()},Object.defineProperty(t.prototype,"hasTypeChanged",{get:function(){var e=this.state.subStatus;return e&&e.finalSubState.plan&&e.finalSubState.plan.productType!==this.state.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasScheduleChanged",{get:function(){var e=this.state.subStatus;return e&&e.finalSubState.billingSchedule&&e.finalSubState.billingSchedule.id!==this.state.schedule},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCurrentPlanChanged",{get:function(){return this.hasTypeChanged||this.hasScheduleChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subStatusScheduleId",{get:function(){var e=this.state.subStatus;return e&&e.finalSubState.billingSchedule?e.finalSubState.billingSchedule.id:v.ScheduleId.MONTHLY},enumerable:!0,configurable:!0}),t.prototype.logChangeSchedule=function(){var e=this.state.subStatus;e&&e.subState.billingSchedule&&l.ProEventsLogger.log("de_change_billing_change_schedule",{from:e.subState.billingSchedule.id===v.ScheduleId.MONTHLY?"monthly":"yearly",to:e.subState.billingSchedule.id===v.ScheduleId.MONTHLY?"yearly":"monthly"})},t.prototype.changeProductPlanAndScheduleType=function(e,t){this.setState((function(a){return a.type=e,a.schedule=t,a}))},t.prototype.changeProductPlanAndScheduleTypeClosure=function(e,t){var a=this;return function(){a.changeProductPlanAndScheduleType(e,t)}},t.prototype.getScheduleDescription=function(e,t,a,n,i){var s=this.state.subStatus;if(!(e.finalSubState.billingSchedule&&e.finalSubState.plan&&s&&s.scheduledSubState&&s.scheduledSubState.plan&&s.subState.plan))return"";var o=s.scheduledSubState.plan.displayName();switch(e.finalSubState.billingSchedule.id){case v.ScheduleId.YEARLY:return i?A.intl.formatMessage({id:"wD586n",defaultMessage:"You’ll pay {price_per_year} ({price_per_month}/month) once a year"},{price_per_year:a.toString(),price_per_month:a.divide(12).toString()}):this.state.isPriceVersionChange?A.intl.formatMessage({id:"aIJ3sh",defaultMessage:"Dropbox {plan_name} is {price_per_year} per year."},{plan_name:o,price_per_year:a.toString()}):A.intl.formatMessage({id:"fgep6U",defaultMessage:"Dropbox {plan_name} is {price_per_year} per year. You’ll save {savePercentage, number, ::percent} over monthly billing."},{plan_name:o,price_per_year:a.toString(),savePercentage:n});case v.ScheduleId.MONTHLY:return i?A.intl.formatMessage({id:"PNv2f+",defaultMessage:"Today, you pay {monthly_price} each month ({annual_monthly_price} each year)"},{monthly_price:t.toString(),annual_monthly_price:t.multiply(12).toString()}):A.intl.formatMessage({id:"yax2Dg",defaultMessage:"Dropbox {plan_name} is {price_per_month} per month. You’ll spend {price_per_year} per year."},{plan_name:o,price_per_month:t.toString(),price_per_year:a.toString()})}return""},t.prototype.getBillingItemTitle=function(e){switch(e){case v.ScheduleId.YEARLY:return A.intl.formatMessage({id:"onubGk",defaultMessage:"Billed yearly"});case v.ScheduleId.MONTHLY:return A.intl.formatMessage({id:"ytUb1D",defaultMessage:"Billed monthly"})}return""},t.prototype.getOriginalStatusForCurrentStatus=function(e,t){var a=this,n=this.state,i=n.allSubStatuses,s=n.subStatus;if(i&&s)return i.filter((function(n){return!!(n.finalSubState.plan&&s.finalSubState.plan&&n.finalSubState.billingSchedule)&&((n.subState.plan.productType===e||a.isProfessionalTrialPlan)&&n.finalSubState.billingSchedule.id===t)})).pop()},t.prototype.renderBillingScheduleItems=function(){var e=this,t=this.state,a=t.allSubStatuses,n=t.subStatus,s=t.schedule,o=t.hasLicenseKey;if(a&&n)return a.filter((function(e){return!!(e.finalSubState.plan&&n.subState.plan&&n.finalSubState.plan)})).sort((function(e,t){return e.finalSubState.billingSchedule&&t.finalSubState.billingSchedule?e.finalSubState.billingSchedule.id-t.finalSubState.billingSchedule.id:0})).map((function(t){var a=t.finalSubState.plan,r=t.finalSubState.billingSchedule;if(a&&r&&n.subState.billingSchedule&&n.subState.plan&&t.finalSubState.billingSchedule){var l=e.getOriginalStatusForCurrentStatus(n.subState.plan.productType,t.finalSubState.billingSchedule.id);if(l&&l.finalSubState.billingSchedule&&t.subState.billingSchedule){var d=a.displayCost,u=a.displayCost,c=a.displayCost,m=A.intl.formatMessage({id:"1BL+ll",defaultMessage:"per year"});r.id===v.ScheduleId.MONTHLY&&(u=u.multiply(12).round(2),m=A.intl.formatMessage({id:"0OYZsq",defaultMessage:"per month"}));var p=0;if(r.id===v.ScheduleId.YEARLY){var _=e.getOriginalStatusForCurrentStatus(n.subState.plan.productType,v.ScheduleId.MONTHLY);if(_&&_.finalSubState&&_.finalSubState.planSku){var f=_.finalSubState.planSku.displayCost.multiply(12).round(2);p=1-u.amount/f.amount}}var g,h,y=r.id===s;e.isPlanScheduledToChange()&&!e.isProfessionalTrialPlan&&(h=i.default.createElement("span",null,i.default.createElement("br",null),i.default.createElement("a",{href:"/plans",target:"_blank",rel:"noreferrer noopener"},A.intl.formatMessage({id:"TF7OpG",defaultMessage:"See other plans"}))));var M=n.subState.billingSchedule;o&&n.scheduledSubState&&n.scheduledSubState.billingSchedule&&(M=n.scheduledSubState.billingSchedule),M.id===r.id&&(g=A.intl.formatMessage({id:"PviAjp",defaultMessage:"(current billing period)"}));var b=E.Experiment(e.props.expMontana).isActive&&n.subState.billingSchedule.id===v.ScheduleId.MONTHLY&&(n.subState.plan.productType===v.ProductPlanType.STANDARD||n.subState.plan.productType===v.ProductPlanType.PLUS);return b?i.default.createElement(I.AdminPricedListItemVariant,{key:a.code,isSelected:y,title:e.getBillingItemTitle(r.id),description:e.getScheduleDescription(l,c,u,p,b),price:d,detailsLink:h,onClick:e.changeProductPlanAndScheduleTypeClosure(a.productType,r.id),disableItem:e.isBillingScheduleToChange(),showMontanaPlusMonthlyVariant:b,schedule:r.id,isCurrentSchedule:n.subState.billingSchedule.id===r.id,pricePerMonth:c,pricePerYear:u}):i.default.createElement(N.AdminPricedListItem,{key:a.code,isSelected:y,title:e.getBillingItemTitle(r.id),titleWarningText:void 0,titleSecondaryText:g,description:e.getScheduleDescription(l,c,u,p,b),price:d,detailsLink:h,unit:m,onClick:e.changeProductPlanAndScheduleTypeClosure(a.productType,r.id),disableItem:e.isBillingScheduleToChange(),recommended:E.Experiment(e.props.expMontana).isActive&&r.id===v.ScheduleId.YEARLY})}}}))},t.prototype.renderBillingSection=function(){return i.default.createElement("div",null,i.default.createElement(Y.AdminPricedList,null,this.renderBillingScheduleItems()))},t.prototype.renderPaymentMethod=function(){var e=this.state.paymentMethod;if(e&&!this.isBillingScheduleToChange())return i.default.createElement("div",{className:"upgrade-payment-method-link"},i.default.createElement(_.IndividualInlinePaymentMethodView,{paymentMethod:e,renderUpdateLink:i.default.createElement(g.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo})}))},t.prototype.isPlanScheduledToChange=function(){var e=this.state.subStatus;return!!(e&&e.subState.plan&&e.finalSubState.plan)&&e.subState.plan.productType!==e.finalSubState.plan.productType},t.prototype.isScheduledToChange=function(){return this.isPlanScheduledToChange()||this.isBillingScheduleToChange()||this.isEvhScheduledToChange()},t.prototype.isEvhScheduledToChange=function(){var e=this.state.subStatus;return!(!e||!e.scheduledSubState)&&e.subState.quantityForEvhAddOn()!==e.scheduledSubState.quantityForEvhAddOn()},t.prototype.isBillingScheduleToChange=function(){var e=this.state,t=e.subStatus;return!e.hasLicenseKey&&(!!(t&&t.subState.billingSchedule&&t.finalSubState.billingSchedule)&&t.subState.billingSchedule.id!==t.finalSubState.billingSchedule.id)},t.prototype.getPlanNameWithEvhText=function(e){var t=this.state.subStatus;return t&&t.scheduledSubState&&t.scheduledSubState.quantityForEvhAddOn()>0?e+" "+A.intl.formatMessage({id:"E220wJ",defaultMessage:"+ extended version history"}):e},t.prototype.renderScheduleTransitionText=function(){var e=this.state.subStatus,t=this.getSubChangePlan();if(e&&e.subState.plan){var a=i.default.createElement("a",{href:"#",onClick:this.handleCancelScheduleAction},A.intl.formatMessage({id:"7kgsyk",defaultMessage:"Cancel change"})),n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement("a",{"aria-label":A.intl.formatMessage({id:"lGpNw6",defaultMessage:"CancelLink"}),href:"#",onClick:h.logClickAndRedirect("de_cancel_link_click","/help/billing/cancel-dropbox-plus",{from:"change_billing_modal"})},e)},s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement("a",{"aria-label":A.intl.formatMessage({id:"enHZxv",defaultMessage:"LegalLink"}),href:"#",onClick:h.logClickAndRedirect("de_legal_link_click","/help/billing/plus-refund",{from:"change_billing_modal"})},e)};if(this.isBillingScheduleToChange())return i.default.createElement("span",{className:"plan-transition"},A.intl.formatMessage({id:"V/bVy5",defaultMessage:"You’ve already requested a change to your billing period. If you want to choose a different billing period, first cancel your pending change."})," ",a);if(this.isProfessionalTrialPlan&&!this.hasScheduleChanged)return i.default.createElement("div",null,i.default.createElement("span",{className:"change-summary"},A.intl.formatMessage({id:"bEFfDy",defaultMessage:"Change summary"})),i.default.createElement("p",{className:"plan-transition"},d.getProfessionalTrialScheduleDescription(e)));if((!t||this.isBillingScheduleToChange())&&e.currentBillingSummary){if(this.isScheduledToChange()&&e.scheduledSubState&&e.scheduledSubState.plan){var o=A.intl.formatMessage({id:"1dDPLP",defaultMessage:"Starting on {date}, we’ll bill you once a month for your Dropbox {plan_name} plan. Your new monthly total will be {scheduled_total}."},{plan_name:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,scheduled_total:b.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement("strong",null,e)}});return e.scheduledSubState.billingSchedule.id===v.ScheduleId.YEARLY&&(o=A.intl.formatMessage({id:"UpOwTq",defaultMessage:"Starting on {date}, we’ll bill you once a year for your Dropbox {plan_name} plan. Your new yearly total will be {scheduled_total}."},{plan_name:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,scheduled_total:b.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement("strong",null,e)}})),i.default.createElement("div",null,i.default.createElement("span",{className:"change-summary"},A.intl.formatMessage({id:"bEFfDy",defaultMessage:"Change summary"})),i.default.createElement("p",{className:"plan-transition"},o))}return i.default.createElement("div",null,i.default.createElement("p",{className:"plan-transition"},A.intl.formatMessage({id:"TuIeyv",defaultMessage:"Your Dropbox {plan} plan will renew on {date}. Your current {schedule} total is {recurring_total}."},{plan:this.getPlanNameWithEvhText(e.subState.plan.displayName()),schedule:e.subState.billingSchedule.scheduleDescriptionAdjective,recurring_total:b.Cash.formatWithTaxLabels(e.currentBillingSummary.total,e.currentBillingSummary),date:e.subState.formattedNextBillingDate})))}if(e.scheduledSubState&&e.scheduledSubState.plan){if(!t||!t.finalSubState.plan){o=A.intl.formatMessage({id:"/WbC0r",defaultMessage:"Starting on {date}, we’ll bill you once a month for your Dropbox {plan_name} plan. Your new monthly total will be {scheduled_total}. Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>."},{plan_name:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,scheduled_total:b.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement("strong",null,e)},cancelLink:n,legalLink:s});return e.finalSubState.billingSchedule.id===v.ScheduleId.YEARLY&&(o=A.intl.formatMessage({id:"9UHyvH",defaultMessage:"Starting on {date}, we’ll bill you once a year for your Dropbox {plan_name} plan. Your new yearly total will be {scheduled_total}. Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>."},{plan_name:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,scheduled_total:b.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement("strong",null,e)},cancelLink:n,legalLink:s})),i.default.createElement("div",null,i.default.createElement("span",{className:"change-summary"},A.intl.formatMessage({id:"bEFfDy",defaultMessage:"Change summary"})),i.default.createElement("p",{className:"plan-transition"},o))}return i.default.createElement("div",null,i.default.createElement("span",{className:"change-summary"},A.intl.formatMessage({id:"bEFfDy",defaultMessage:"Change summary"})),i.default.createElement("p",{className:"plan-transition"},A.intl.formatMessage({id:"bVWvlN",defaultMessage:"Starting on {date}, we’ll bill you once a {schedule_noun} for your Dropbox {plan_name} plan. Your new {schedule} total will be {scheduled_total}. Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>."},{plan_name:this.getPlanNameWithEvhText(e.scheduledSubState.plan.displayName()),date:e.subState.formattedNextBillingDate,schedule:t.finalSubState.billingSchedule.scheduleDescriptionAdjective,schedule_noun:t.finalSubState.billingSchedule.scheduleDescriptionNoun,scheduled_total:b.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement("strong",null,e)},cancelLink:n,legalLink:s})))}}},t.prototype.renderFooter=function(){return this.renderScheduleChangeFooter()},t.prototype.renderScheduleChangeFooter=function(){var e,t;return this.isBillingScheduleToChange()||(e=this.renderPaymentMethod()),this.hasCovidPromo&&this.hasScheduleChanged&&(t=i.default.createElement(O.CovidPromoWarning,null)),i.default.createElement("div",{className:"plan-footer u-font-meta"},this.renderScheduleTransitionText(),e,t)},Object.defineProperty(t.prototype,"changesSummaryContent",{get:function(){var e=this,t=this.state,a=t.subStatus,n=t.paymentMethod,s=this.getSubChangePlan();if(a&&a.subState.plan){if(a.subState.plan.scheduleId!==a.finalSubState.plan.scheduleId&&!this.isProfessionalTrialPlan)return A.intl.formatMessage({id:"uGbqz6",defaultMessage:"You’ve already requested a change to your billing period. If you want to choose a different billing period, first cancel your pending change. <cancelChangeLink>Cancel change</cancelChangeLink>"},{cancelChangeLink:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return i.default.createElement(o.Link,{href:"#","aria-label":A.intl.formatMessage({id:"7kgsyk",defaultMessage:"Cancel change"}),className:"change-confirmation-modal__link",onClick:e.handleCancelScheduleAction,variant:"primary",hasNoUnderline:!0},t)}});return A.intl.formatMessage({id:"8JQDHU",defaultMessage:"{IndividualInlinePaymentMethodView}{br}{br}Charges will continue until you <cancelLink>cancel</cancelLink>, and previous charges won’t be refunded <legalLink>unless it’s legally required</legalLink>."},{br:i.default.createElement("br",null),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement("strong",null,e)},cancelLink:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement(o.Link,{href:"#","aria-label":A.intl.formatMessage({id:"A3cCkZ",defaultMessage:"Cancel link"}),onClick:h.logClickAndRedirect("de_cancel_link_click","/help/billing/cancel-dropbox-plus",{from:"change_plan_modal"}),variant:"primary",hasNoUnderline:!0},e)},legalLink:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.default.createElement(o.Link,{href:"#","aria-label":A.intl.formatMessage({id:"5Kyedz",defaultMessage:"Legal link"}),onClick:h.logClickAndRedirect("de_legal_link_click","/help/billing/plus-refund",{from:"change_plan_modal"}),variant:"primary",hasNoUnderline:!0},e)},IndividualInlinePaymentMethodView:i.default.createElement(_.IndividualInlinePaymentMethodView,{paymentMethod:n,renderUpdateLink:i.default.createElement(g.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo}),isRedesignedModal:!0,nextBillingDate:a.subState.formattedNextBillingDate,scheduleId:s.finalSubState.billingSchedule.id,totalPrice:b.Cash.formatWithTaxLabels(s.nextBillingSummary.total,s.nextBillingSummary)})})}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"acceptButtonDisabled",{get:function(){var e=this.state.paymentMethod,t=this.state,a=t.loadingContent,n=t.submitting;return!(!a&&!n&&e)||(!this.hasScheduleChanged||this.isBillingScheduleToChange())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasCovidPromo",{get:function(){return Boolean(this.state.currentCovidPromoInfo)},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e,a,n=this,o=this.state,r=o.subStatus,l=o.schedule,d=o.loadingContent,c=o.submitting,m=o.hasLicenseKey,_=o.open,f=this.props,h=f.transitionPerformed,b=f.paymentInfo,S=f.expMontana,L=f.shouldShowRedesignedModal,T=E.Experiment(S).isActive;if(d)e=i.default.createElement("div",{"data-testid":"loading-indicator",className:"loading-indicator"},i.default.createElement("img",{src:k.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:A.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"})}));else{var D=void 0;if(r&&h&&!this.isProfessionalTrialPlan){M.DBModalStack.clear(),M.DBModalStack.register(u.CHANGE_IND_PLAN_MODAL_UPDATED,(function(){t.showInstance({transitionPerformed:n.transitionPerformedClosure})})),D=i.default.createElement(p.CancellableNotificationsView,{subStatus:r,transitionPerformed:this.transitionPerformedClosure,displaySingleChangeCancellationItem:x.CancellationType.ALL,reOpenModalDialogAfterCancellation:!0,paymentInfo:b,hasLicenseKey:m,displayNewTotal:!1})}e=i.default.createElement("div",null,D,this.renderBillingSection(),this.renderFooter()),a=T&&this.subStatusScheduleId===v.ScheduleId.MONTHLY?A.intl.formatMessage({id:"Fd3jY3",defaultMessage:"Change to yearly billing"}):A.intl.formatMessage({id:"ewZ2I2",defaultMessage:"Change billing period"})}var C=s.default("change-plan-modal",{"change-plan-modal--montana":T});return L?(a=this.isBillingScheduleToChange()&&!this.isProfessionalTrialPlan?A.intl.formatMessage({id:"ewZ2I2",defaultMessage:"Change billing period"}):l===v.ScheduleId.YEARLY?A.intl.formatMessage({id:"z17QUa",defaultMessage:"You’re switching to yearly billing"}):A.intl.formatMessage({id:"/tHQbR",defaultMessage:"You’re switching to monthly billing"}),i.default.createElement("div",{"data-testid":"change-billing-schedule-modal"},i.default.createElement(y.ChangeConfirmationModal,{acceptButtonDisabled:this.acceptButtonDisabled,acceptButtonText:A.intl.formatMessage({id:"BKISIV",defaultMessage:"Confirm"}),dismissButtonText:A.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"}),loadingContent:d,onAccept:this.onAccept,onDismiss:this.onDismissModal,open:_,renderUpdateLink:i.default.createElement(g.UpdateBillingInfo,{updateBillingCTA:this.updateBillingInfo,isRedesignedModal:!0}),text:this.changesSummaryContent,title:a,submitting:c,hasCovidPromo:this.hasCovidPromo}))):i.default.createElement("div",{"data-testid":"change-billing-schedule-modal"},i.default.createElement(w.Modal,{acceptButtonDisabled:this.acceptButtonDisabled,acceptButtonText:A.intl.formatMessage({id:"ZCkVHN",defaultMessage:"Confirm change"}),className:C,dismissButtonText:A.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"}),onDismiss:this.onDismissModal,autoClose:!1,onAccept:this.onAccept,submitting:c,title:a,autoFocusPrimaryInput:!1},e))},t.ChangeScheduleModal=T.requireCssWithComponent(t,["/static/css/teams/admin/widgets/change_plan_modal/change_plan_modal-vfld43tb3.css"]),t})(i.default.Component);t.ChangeScheduleModalView=B})),define("modules/clean/account_page/widgets/plan/views/churn_survey/churn_survey_wrapper",["require","exports","tslib","react","modules/core/i18n","modules/clean/bem","spectrum/button","modules/clean/account_page/widgets/plan/views/churn_survey/churn_survey_reasons_wrapper"],(function(e,t,a,n,i,s,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n);var l=s.bem("churn-survey"),d=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return n.createElement("div",{className:l("")},n.createElement("div",{className:l("header")},i.intl.formatMessage({id:"ylXiLg",defaultMessage:"Before you go"})),n.createElement("div",{className:l("subheader")},i.intl.formatMessage({id:"fpQjLh",defaultMessage:"What’s your main reason for canceling Dropbox?"})),n.createElement(r.ChurnSurveyReasonsWrapper,{reasons:this.props.reasons,selectedReasonVal:this.props.selectedReasonVal,handleSelectReason:this.props.handleSelectReason,onOtherInputChange:this.props.onOtherInputChange,isBiz:this.props.isBiz}),n.createElement("div",{className:l("btns-wrapper")},n.createElement(o.Button,{className:l("btn-skip"),variant:"borderless",onClick:this.props.handleSkipSurvey},i.intl.formatMessage({id:"PaR0U3",defaultMessage:"Skip"})),n.createElement(o.Button,{className:l("btn-submit"),variant:"primary",disabled:void 0===this.props.selectedReasonVal,onClick:this.props.handleSubmitSurvey},i.intl.formatMessage({id:"8rLM9k",defaultMessage:"Continue canceling"}))))},t})(n.PureComponent);t.ChurnSurvey=d})),define("modules/clean/account_page/widgets/plan/views/churn_survey/churn_survey_reasons_wrapper",["require","exports","tslib","react","modules/clean/react/survey/types/survey_types","modules/core/i18n","spectrum/input","spectrum/label","modules/clean/bem","classnames","spectrum/button","modules/core/browser","modules/clean/analytics"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),d=a.__importDefault(d),c=a.__importStar(c);var p=l.bem("churn-survey"),_={reason:s.intl.formatMessage({id:"FwkLsO",defaultMessage:"Other"}),value:"other"},f={reason:s.intl.formatMessage({id:"FwkLsO",defaultMessage:"Other"}),value:i.SurveyReason.OTHER},g=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSupportRedirect=function(){m.ProEventsLogger.log("not_satisfied_modal_click",{cta:"contact_dbx_support"},(function(){c.redirect("/support")}))},t.handlePlansRedirect=function(){m.ProEventsLogger.log("not_satisfied_modal_click",{cta:"compare_plans"},(function(){c.redirect("/plans")}))},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.isBiz?_:f;return n.createElement("div",{className:p("reasons-wrapper")},this.props.reasons.map((function(t){var a=e.props.selectedReasonVal===t.value;return n.createElement("div",{key:t.value},n.createElement(u.Button,{className:d.default(p("reason"),p("reason",t.value),{selected:a,"explicit-unselected":void 0!==e.props.selectedReasonVal&&e.props.selectedReasonVal!==t.value}),variant:"secondary",key:t.value,onClick:e.props.handleSelectReason.bind(e,t.value)},t.reason),t.value===i.SurveyReason.NOT_SATISFIED&&a&&n.createElement("div",{className:p("not-satisfied-response")},s.intl.formatMessage({id:"NmMq9i",defaultMessage:"We can help make things right. <a>Contact Dropbox support</a>"},{a:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return n.createElement("a",{href:"#","aria-label":s.intl.formatMessage({id:"7sXzdF",defaultMessage:"Contact Dropbox support"}),className:p("not-satisfied-response-support"),onClick:e.handleSupportRedirect},t)}}),n.createElement("br",null),s.intl.formatMessage({id:"4SFj0P",defaultMessage:"There may be a better fit. <a>Compare plans</a>"},{a:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return n.createElement("a",{href:"#","aria-label":s.intl.formatMessage({id:"i3dIQL",defaultMessage:"Compare plans"}),className:p("not-satisfied-response-compare"),onClick:e.handlePlansRedirect},t)}})))})),this.props.selectedReasonVal!==t.value&&n.createElement(u.Button,{className:d.default(p("reason"),{"explicit-unselected":void 0!==this.props.selectedReasonVal}),variant:"secondary",key:t.value,onClick:this.props.handleSelectReason.bind(this,t.value)},t.reason),this.props.selectedReasonVal===t.value&&n.createElement("div",{className:p("other-wrapper")},n.createElement(r.Label,{htmlFor:"other-input",className:p("other-subheader")},s.intl.formatMessage({id:"EnsUVh",defaultMessage:"Other"})),n.createElement(o.TextArea,{id:"other-input",className:p("other-input"),placeholder:s.intl.formatMessage({id:"oZzcIv",defaultMessage:"Tell us why you want to cancel (optional)"}),onChange:this.props.onOtherInputChange})))},t})(n.PureComponent);t.ChurnSurveyReasonsWrapper=g})),define("modules/clean/account_page/widgets/plan/views/covid_promo_warning",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/css","modules/constants/trademark"],(function(e,t,a,n,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);t.CovidPromoWarning=s.requireCssWithComponent((function(){return n.default.createElement("div",{className:"covid-promo-warning"},i.intl.formatMessage({id:"Mt641O",defaultMessage:"If you upgrade to {trademark_business} or change your billing cycle, you will lose your promotional offer."},{trademark_business:o.TRADEMARK_BUSINESS}))}),["/static/css/account/pagelet/covid_promo_warning-vfle7Cvsc.css"])})),define("modules/clean/account_page/widgets/plan/views/disband_family_confirmation_modal",["require","exports","tslib","react","dig-components/modal","dig-components/typography","dig-components/controls","modules/core/i18n","modules/clean/react/modal","modules/clean/react/css","dig-components/buttons","modules/constants/trademark"],(function(e,t,a,n,i,s,o,r,l,d,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.DisbandFamilyConfirmationModalView=function(e){var t=n.default.useState(!1),a=t[0],d=t[1],m=n.default.useState(!1),p=m[0],_=m[1],f=n.default.useState(!1),g=f[0],h=f[1],y=function(){l.Modal.close()},M=function(){h(!1)};return n.default.createElement(i.Modal,{open:!0,className:"disband-family-confirmation-modal",overlayClassName:"disband-family-confirmation-modal-overlay",width:"small",onRequestClose:y},n.default.createElement(i.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(s.Title,{isBold:!0},r.intl.formatMessage({id:"I9CTpA",defaultMessage:"Are you sure you want to change plans?"}))),n.default.createElement(i.Modal.Body,null,n.default.createElement(s.Text,null,r.intl.formatMessage({id:"QDkSaP",defaultMessage:"{dropbox_family} will be canceled, and active members of your {family_plan} plan will have their accounts downgraded to {dropbox_basic}"},{dropbox_family:c.DROPBOX_FAMILY,family_plan:c.TRADEMARK_FAMILY,dropbox_basic:c.DROPBOX_BASIC})),n.default.createElement("div",null,n.default.createElement(s.Text,{isBold:!0},r.intl.formatMessage({id:"Md6TJX",defaultMessage:"If you still want to change plans, please acknowledge the following:"}))),n.default.createElement("div",{className:"disband-confirmation-checkbox-container"},n.default.createElement(o.Checkbox,{onChange:function(){d(!a)},checked:a,className:"disband-confirmation-checkbox downgrade-acknowledged"}),n.default.createElement(s.Text,null,r.intl.formatMessage({id:"+E9wLh",defaultMessage:"By proceeding, {family_plan} plan members will be downgraded to a {basic_space_quota} {dropbox_basic} plan."},{family_plan:c.TRADEMARK_FAMILY,dropbox_basic:c.DROPBOX_BASIC,basic_space_quota:e.basicSkuQuotaGb}))),n.default.createElement("div",{className:"disband-confirmation-checkbox-container"},n.default.createElement(o.Checkbox,{onChange:function(){_(!p)},checked:p,className:"disband-confirmation-checkbox over-quota-acknowledged"}),n.default.createElement(s.Text,null,r.intl.formatMessage({id:"zGHPY9",defaultMessage:"If members are using more than {basic_space_quota} of storage, Dropbox will stop syncing, additional files can’t be uploaded, and files can’t be restored to earlier versions."},{basic_space_quota:e.basicSkuQuotaGb}))),n.default.createElement(i.Modal.Footer,null,n.default.createElement(u.Button,{className:"disband-family-confirmation-modal-cancel",disabled:g,variant:"opacity",onClick:y},r.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"})),n.default.createElement(u.Button,{className:"disband-family-confirmation-modal-confirm",variant:"primary",onClick:function(){h(!0),e.confirmChangePlan(M)},disabled:!a||!p||g},r.intl.formatMessage({id:"BKISIV",defaultMessage:"Confirm"})))))},t.DisbandFamilyConfirmationModal=d.requireCssWithComponent(t.DisbandFamilyConfirmationModalView,["/static/css/dig-components/index.web-vfliFNMrU.css","/static/css/account/pagelet/disband_family_confirmation_modal-vflR__jAo.css"]),t.showDisbandModal=function(e){l.Modal.showInstance(n.default.createElement(t.DisbandFamilyConfirmationModal,a.__assign({},e)))}})),define("modules/clean/account_page/widgets/plan/views/downgrade_confirm_with_covid_promo_modal",["require","exports","tslib","react","dig-components/modal","dig-components/typography","modules/core/i18n","modules/clean/react/modal","dig-components/buttons"],(function(e,t,a,n,i,s,o,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.DowngradeConfirmWithCovidPromoModal=function(e){return n.default.createElement(i.Modal,{open:!0,width:"standard",className:"downgrade-confirm-with-covid-promo-modal"},n.default.createElement(i.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(s.Title,{isBold:!0},e.covidPromoInfo.is_monthly?o.intl.formatMessage({id:"mwwpQ0",defaultMessage:"You still have {months_left, plural, one{# month} other{# months}} left on your promotion"},{months_left:e.covidPromoInfo.user_facing_months_left}):o.intl.formatMessage({id:"L6yqMy",defaultMessage:"Are you sure you want to cancel?"}))),n.default.createElement(i.Modal.Body,null,n.default.createElement(s.Text,null,e.covidPromoInfo.is_monthly?o.intl.formatMessage({id:"RJ3JM/",defaultMessage:"If you cancel now, you’ll lose your discounted rate of {percent, number, ::percent} off."},{percent:e.covidPromoInfo.user_facing_discount_percent/100}):o.intl.formatMessage({id:"LZjCB3",defaultMessage:"Your discounted year will start on {next_billing_date} at {percent, number, ::percent} off for {months_left, plural, one{# month} other{# months}}. If you decide to cancel now, you will lose this promotion."},{months_left:e.covidPromoInfo.user_facing_months_left,next_billing_date:e.formattedNextBillingDate,percent:e.covidPromoInfo.user_facing_discount_percent/100}))),n.default.createElement(i.Modal.Footer,{className:"add-promo-confirmation-modal__footer"},n.default.createElement(l.Button,{className:"downgrade-confirm-with-covid-promo-modal__dont-cancel-btn",variant:"opacity",onClick:function(){r.Modal.close()}},o.intl.formatMessage({id:"FgRYiv",defaultMessage:"Don’t cancel"})),n.default.createElement(l.Button,{className:"downgrade-confirm-with-covid-promo-modal__downgrade-btn",variant:"primary",onClick:function(){e.showIndividualCancelSurvey(),r.Modal.close()}},o.intl.formatMessage({id:"VmL8oo",defaultMessage:"Continue canceling"}))))},t.showDowngradeConfirmWithCovidPromoModal=function(e){r.Modal.showInstance(n.default.createElement(t.DowngradeConfirmWithCovidPromoModal,a.__assign({},e)))}})),define("modules/clean/account_page/widgets/plan/views/downgrade_confirmation_modal",["require","exports","tslib","react","dig-components/modal","dig-components/typography","modules/core/i18n","modules/clean/react/modal","dig-components/buttons","dig-components/icons","dig-components/icons/src","dig-components/snackbar","modules/clean/react/snackbar","modules/clean/ajax","modules/core/notify","modules/clean/analytics"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),p=a.__importStar(p),t.DowngradeConfirmationModal=function(e){var t=n.default.useState(!1),a=t[0],c=t[1],h=function(){f.ProEventsLogger.log("have_everything_no_cancel"),r.Modal.close()};return n.default.createElement(i.Modal,{open:!0,width:"standard",onRequestClose:h},n.default.createElement(i.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(s.Title,{isBold:!0},o.intl.formatMessage({id:"3tTB07",defaultMessage:"Have everything you need?"}))),n.default.createElement(i.Modal.Body,null,n.default.createElement(s.Text,null,o.intl.formatMessage({id:"z3XOvk",defaultMessage:"If you cancel today, you’ll be moved to a free plan on <b>{scheduled_downgrade_date},</b> and your storage space will go from <b>{current_plan_space} to {basic_sku_quota}.</b>"},{scheduled_downgrade_date:e.scheduledDowngradeDate,current_plan_space:e.currentPlanSpace,basic_sku_quota:e.basicSkuQuotaGb,b:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("b",null,e)}})),n.default.createElement("div",null,n.default.createElement(s.Text,null,o.intl.formatMessage({id:"DfxERc",defaultMessage:"If you have more than {basic_sku_quota} of files that means:"},{basic_sku_quota:e.basicSkuQuotaGb}))),n.default.createElement("ul",{className:"downgrade-confirmation-modal__benefits-list"},n.default.createElement("li",{className:"downgrade-confirmation-modal__benefits-list-item"},n.default.createElement(d.UIIcon,{className:"downgrade-confirmation-modal__benefits-icon",src:u.CircleSmallFilledFill}),n.default.createElement("div",null,n.default.createElement(s.Text,{isBold:!0},o.intl.formatMessage({id:"PSiO0s",defaultMessage:"You can’t add new files"})),n.default.createElement("div",null,n.default.createElement(s.Text,null,o.intl.formatMessage({id:"mvIg33",defaultMessage:"Save a copy of everything you need before then."}))))),n.default.createElement("li",{className:"downgrade-confirmation-modal__benefits-list-item"},n.default.createElement(d.UIIcon,{className:"downgrade-confirmation-modal__benefits-icon",src:u.CircleSmallFilledFill}),n.default.createElement("div",null,n.default.createElement(s.Text,{isBold:!0},o.intl.formatMessage({id:"dXF2y2",defaultMessage:"You can’t restore deleted files"})),n.default.createElement("div",null,n.default.createElement(s.Text,null,o.intl.formatMessage({id:"niKbzP",defaultMessage:"Double check to make sure there’s nothing important in there."}))))))),n.default.createElement(i.Modal.Footer,null,n.default.createElement(l.Button,{className:"jest-dont-downgrade-individual-plan",variant:"opacity",disabled:a,onClick:h},o.intl.formatMessage({id:"20MNBN",defaultMessage:"Don’t cancel"})),n.default.createElement(l.Button,{className:"jest-downgrade-individual-plan",variant:"primary",disabled:a,onClick:function(){c(!0),f.ProEventsLogger.log("have_everything_confirm_cancel"),p.WebRequest({url:"/downgrade/process",type:"POST",data:{downgrade_reason_id:e.downgradeReasonId,additional_info:e.additionalInfo,should_redirect:!1},dataType:"json",success:function(){e.reloadData(),f.ProEventsLogger.log("cancel_confirmation_view"),m.Snackbar.show(n.default.createElement(g,{nextBillingDate:e.scheduledDowngradeDate})),r.Modal.close()},error:function(){_.Notify.error(o.intl.formatMessage({id:"0OctaV",defaultMessage:"Failed to cancel plan."})),c(!1)}})}},o.intl.formatMessage({id:"U8jC51",defaultMessage:"Confirm cancel"}))))};var g=function(e){var t=n.default.useState(!0),a=t[0],i=t[1];return n.default.createElement("div",{className:"confirmation-snackbar"},n.default.createElement(c.Snackbar,{open:a,onRequestClose:function(){i(!1)}},n.default.createElement(c.Snackbar.Message,null,o.intl.formatMessage({id:"Jatj1V",defaultMessage:"Your paid plan will end on {date}. You won’t be charged again."},{date:e.nextBillingDate}))))};t.showDowngradeConfirmationModal=function(e){f.ProEventsLogger.log("have_everything_modal_view"),r.Modal.showInstance(n.default.createElement(t.DowngradeConfirmationModal,a.__assign({},e)))}})),define("modules/clean/account_page/widgets/plan/views/loading_view",["require","exports","tslib","react","modules/core/i18n","modules/clean/static_urls"],(function(e,t,a,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.LoadingView=function(e){return n.createElement("div",{className:e.className},n.createElement("img",a.__assign({src:s.static_url("/static/images/icons/ajax-loading-small-blue-vflVk_QNP.gif"),alt:i.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"})},e.imageProps)))}})),define("modules/clean/account_page/widgets/plan/views/individual_cancel_survey/individual_cancel_survey",["require","exports","tslib","react","dig-components/modal","dig-components/buttons","modules/clean/analytics","modules/clean/payments/skus/constants","modules/clean/react/survey/types/survey_types","modules/core/exception","modules/core/i18n","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/react/css","modules/clean/ux_analytics_utils","modules/clean/ux_analytics_modal_tracking","dig-components/controls","dig-components/typography","dig-components/text_fields","classnames","dig-components/typography","modules/clean/account_page/widgets/plan/views/individual_cancel_survey/individual_cancel_survey_content","modules/clean/account_page/widgets/plan/views/individual_cancel_survey/types","modules/clean/dropbox_form"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f,g,h,y,M,b,v,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),y=a.__importDefault(y);var L=(function(e){function t(t){var a=e.call(this,t)||this;a.isModal=a.props.type===v.IndividualCancelSurveyType.MODAL,a.state={additionalInfo:"",downgradeReasonId:"",isSubmitting:!1},a.handlePrimaryAction=function(){if(!a.state.isSubmitting){var e=a.state,t=e.additionalInfo,n=e.downgradeReasonId,i=a.surveyContent.getCancelSurveyOption(n);if(i){var s=a.props.onPrimaryAction;s&&s({additionalInfo:t,downgradeReasonId:n,selectedOption:i,planType:a.planType}),a.props.showCovidResponseSurvey||(a.formRef.setFormAction(a.surveyContent.getFormDestinationURI(i)),a.setState({isSubmitting:!0},(function(){a.props.onSurveySubmitResponse({additionalInfo:t,downgradeReasonId:n,planType:a.planType},a.formRef)})))}else d.reportStack("Could not find the selected survey option.",{exc_extra:{selectedOption:n},severity:"critical"})}},a.handleFeedbackChange=function(e){return a.setState({additionalInfo:e.target.value})},a.handleReasonChange=function(e){return a.setState({downgradeReasonId:e.target.value})},a.saveFormRef=function(e){return a.formRef=e},a.renderPrimaryAction=function(){var e=a.state.isSubmitting,t=a.formRef&&a.formRef.checkValidity(),i=!e&&!t&&0===a.state.downgradeReasonId.length;return n.default.createElement(s.Button,{disabled:i,onClick:a.handlePrimaryAction,variant:"primary",className:"individual-cancel-survey__primary-button"},a.surveyContent.primaryButtonText)},a.renderSecondaryAction=function(){return n.default.createElement(s.Button,{className:"individual-cancel-survey__cancel-button",onClick:a.props.onSecondaryAction,variant:"opacity"},a.surveyContent.secondaryButtonText)};var i=t.firstName,o=t.subStatus,r=t.expMontanaActive,l=t.showCovidResponseSurvey;if(a.surveyContent=new b.IndividualCancelSurveyContent(a.isModal,l,r,o.subState.plan,i),r&&!c.MontanaLogger.isInitialized()){var u={billingScheduleId:o.subState.billingSchedule.id,planType:o.subState.plan.productType};c.MontanaLogger.initialize(u)}return a}return a.__extends(t,e),Object.defineProperty(t.prototype,"planType",{get:function(){var e;return null===(e=this.props.subStatus.subState.plan)||void 0===e?void 0:e.productType},enumerable:!0,configurable:!0}),t.prototype.onClickOptionsLink=function(){o.ProEventsLogger.log("individual_cancel_survey_modal_covid_click")},Object.defineProperty(t.prototype,"description",{get:function(){var e=this;if(this.props.showCovidResponseSurvey){var t="https://blog.dropbox.com/topics/company/dropbox--hellosign--asana--salesforce--and-slack-work-together-t";return u.intl.formatMessage({id:"P7sWdL",defaultMessage:"We know times are challenging. If you provide essential services, <optionsLink>we have options</optionsLink>."},{optionsLink:function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return n.default.createElement(M.Link,{className:"jest-covid-options-link",href:t,variant:"monochromatic",onClick:e.onClickOptionsLink},a)}})}return this.surveyContent.description},enumerable:!0,configurable:!0}),t.prototype.renderSkipSurveyButton=function(){return this.props.expMontanaActive?null:n.default.createElement(s.Button,{className:"individual-cancel-survey__skip-button",onClick:this.props.onSkipSurvey,variant:"transparent"},u.intl.formatMessage({id:"t14tE4",defaultMessage:"Skip"}))},t.prototype.renderAdditionalInfoPrompt=function(){return!this.props.showCovidResponseSurvey&&this.state.downgradeReasonId===l.SurveyReason.OTHER&&this.planType!==r.ProductPlanType.FAMILY_PAYER&&this.planType!==r.ProductPlanType.FAMILY_NONPAYER?n.default.createElement(g.Text,{isBold:!0,tagName:"label",htmlFor:"individual_cancel_survey_additional_info"},u.intl.formatMessage({id:"oBo1/X",defaultMessage:"Let us know more about why you’re canceling:"})):null},t.prototype.renderAdditionalInfoTextArea=function(){return this.state.downgradeReasonId===l.SurveyReason.OTHER?n.default.createElement(h.TextArea,{className:"individual-cancel-survey__additional-info",onChange:this.handleFeedbackChange,name:"additional_info",id:"individual_cancel_survey_additional_info",placeholder:this.surveyContent.placeholderTextForUserCancelationExplanation,value:this.state.additionalInfo}):null},t.prototype.renderSurveyForm=function(){var e=this,t=this.props.showCovidResponseSurvey,a=y.default({"covid-response-survey__description":t}),i=y.default({"covid-response-survey__description-text":t});return n.default.createElement(S.DropboxForm,{ref:this.saveFormRef,method:"post",action:""},n.default.createElement("p",{className:a},n.default.createElement(g.Text,{className:i},this.description)),n.default.createElement("p",null,n.default.createElement(g.Text,{isBold:!0},this.surveyContent.surveyPrompt)),n.default.createElement("p",null,this.surveyContent.surveyReasonsToDisplay.map((function(t){var a=t.value,i=t.reason;return n.default.createElement("div",{className:"individual-cancel-survey__radio-survey-option",key:a+"-option"},n.default.createElement(f.RadioButton,{id:a+"-option",key:a+"-option",name:"downgrade_reason_id","aria-checked":e.state.downgradeReasonId===a,checked:e.state.downgradeReasonId===a,onChange:e.handleReasonChange,value:a,required:!0}),n.default.createElement(g.Text,{tagName:"label",htmlFor:a+"-option"},i))}))),n.default.createElement("div",null,this.renderAdditionalInfoPrompt(),this.renderAdditionalInfoTextArea()))},t.prototype.renderSurveyContent=function(){return n.default.createElement(n.default.Fragment,null,n.default.createElement(i.Modal.Header,{hasBottomSpacing:"title-standard"},n.default.createElement(g.Title,null,this.surveyContent.title)),n.default.createElement(i.Modal.Body,null,this.isModal&&n.default.createElement(_.UXAnalyticsModalTracking,{id:"individual-cancel-survey-modal"}),this.renderSurveyForm()),n.default.createElement(i.Modal.Footer,null,this.renderSkipSurveyButton(),this.renderSecondaryAction(),this.renderPrimaryAction()))},t.prototype.render=function(){return this.isModal?n.default.createElement(i.Modal,{className:"individual-cancel-survey-modal",withCloseButton:u.intl.formatMessage({id:"ID6eR4",defaultMessage:"Cancel plan"}),onAfterOpen:p.dispatchModalOpened,onRequestClose:this.props.onCloseAction,open:!0,width:"standard",isCentered:!0},this.renderSurveyContent()):n.default.createElement("div",{className:"individual-cancel-survey-mobile-page"},this.renderSurveyContent())},t})(n.default.Component);t.IndividualCancelSurvey=m.requireCssWithComponent(L,["/static/css/payments/individual_cancel_survey-vfleN8ljC.css"])})),define("modules/clean/account_page/widgets/plan/views/individual_cancel_survey/individual_cancel_survey_content",["require","exports","external/lodash","modules/clean/payments/skus/constants","modules/clean/react/survey/types/survey_types","modules/core/i18n","modules/core/uri","modules/clean/ts_utils","modules/constants/trademark","modules/clean/account_page/constants"],(function(e,t,a,n,i,s,o,r,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=(function(){function e(e,t,a,o,d){var u=this;this.getReasonText=function(e,t){var a,o,d=null!==(o=null===(a=null==t?void 0:t.content)||void 0===a?void 0:a.dropboxDisplayName())&&void 0!==o?o:"",c=u.planType;switch(e){case i.SurveyReason.TOO_EXPENSIVE:switch(c){case n.ProductPlanType.FAMILY_PAYER:return s.intl.formatMessage({id:"6IaH2e",defaultMessage:"Too expensive"});default:return s.intl.formatMessage({id:"LAdUq4",defaultMessage:"I found {current_plan} too expensive for the value I received"},{current_plan:d})}case i.SurveyReason.TECH_ISSUES:switch(c){case n.ProductPlanType.FAMILY_PAYER:case n.ProductPlanType.FAMILY_NONPAYER:return s.intl.formatMessage({id:"hMW3Kx",defaultMessage:"Having issues with the product"});default:return s.intl.formatMessage({id:"Kja738",defaultMessage:"I wasn’t satisfied with or had issues with the features"})}case i.SurveyReason.BETTER_ALTERNATIVE:return s.intl.formatMessage({id:"5MsV0g",defaultMessage:"I found another product I liked better"});case i.SurveyReason.TEMPORARY_NEED:switch(c){case n.ProductPlanType.FAMILY_PAYER:return s.intl.formatMessage({id:"/P1rvT",defaultMessage:"Don’t use it enough"});default:return s.intl.formatMessage({id:"aX5DgY",defaultMessage:"I needed {current_plan} temporarily"},{current_plan:d})}case i.SurveyReason.NOT_SATISFIED:return s.intl.formatMessage({id:"X0uDO4",defaultMessage:"Not satisfied with the product"});case i.SurveyReason.OTHER:return s.intl.formatMessage({id:"cz5EGW",defaultMessage:"Other"});case i.SurveyReason.SWITCH_TO_BUSINESS:return s.intl.formatMessage({id:"Sdxtk3",defaultMessage:"I am switching to {dropbox_business}"},{dropbox_business:l.TRADEMARK_BUSINESS});case i.SurveyReason.MAJOR_LIFE_CHANGE:return s.intl.formatMessage({id:"HNr4Tz",defaultMessage:"I’ve had a major personal or professional life change since initial purchase"});case i.SurveyReason.NEED_DIFFERENT_PLAN:return s.intl.formatMessage({id:"JJdAvv",defaultMessage:"Need different features"});case i.SurveyReason.USING_ANOTHER_SERVICE:return s.intl.formatMessage({id:"2nr+qs",defaultMessage:"Using another service"});case i.SurveyReason.NOT_ENOUGH_STORAGE:return s.intl.formatMessage({id:"EC77h4",defaultMessage:"Using too much of my family’s storage"});case i.SurveyReason.COVID_19:return s.intl.formatMessage({id:"tWra0l",defaultMessage:"Impacted by COVID-19"});default:return r.enforceExhaustive(e)}},this.isModal=e,this.showCovidResponseSurvey=t,this.expMontanaActive=a,this.plan=o,this.firstName=d,this.reasonsMappedByValue=this.getAllReasonsMappedByValue(),this.surveyReasonsToDisplay=this.generateSurveyReasons()}return Object.defineProperty(e.prototype,"planType",{get:function(){var e;return null===(e=this.plan)||void 0===e?void 0:e.productType},enumerable:!0,configurable:!0}),e.prototype.getAllReasonsMappedByValue=function(){var e=this.getReasonText,t=this.plan;return a.keyBy([{value:i.SurveyReason.TOO_EXPENSIVE,reason:e(i.SurveyReason.TOO_EXPENSIVE,t),uri:new o.URI({path:"/downgrade/reply/save-money",query:{next:d.ROOT_DOWNGRADE_URI.toString(),oqa:"SVY_BTN_MNY"}})},{value:i.SurveyReason.TECH_ISSUES,reason:e(i.SurveyReason.TECH_ISSUES,t),uri:new o.URI({path:"/downgrade/reply/tech-issues",query:{next:d.ROOT_DOWNGRADE_URI.toString(),oqa:"SVY_BTN_TECH"}})},{value:i.SurveyReason.BETTER_ALTERNATIVE,reason:e(i.SurveyReason.BETTER_ALTERNATIVE,t),uri:new o.URI({path:"/downgrade/reply/better-alternative",query:{next:d.ROOT_DOWNGRADE_URI.toString(),oqa:"SVY_BTN_ALT"}})},{value:i.SurveyReason.TEMPORARY_NEED,reason:e(i.SurveyReason.TEMPORARY_NEED,t),uri:new o.URI({path:"/downgrade/reply/temporary-need",query:{next:d.ROOT_DOWNGRADE_URI.toString(),oqa:"SVY_BTN_TEMP"}})},{value:i.SurveyReason.NOT_SATISFIED,reason:e(i.SurveyReason.NOT_SATISFIED,t),uri:d.ROOT_DOWNGRADE_URI},{value:i.SurveyReason.OTHER,reason:e(i.SurveyReason.OTHER,t),uri:d.ROOT_DOWNGRADE_URI},{value:i.SurveyReason.SWITCH_TO_BUSINESS,reason:e(i.SurveyReason.SWITCH_TO_BUSINESS,t),uri:new o.URI({path:"/downgrade",query:{oqa:"acc_cancel_107"}})},{value:i.SurveyReason.MAJOR_LIFE_CHANGE,reason:e(i.SurveyReason.MAJOR_LIFE_CHANGE,t),uri:new o.URI({path:"/downgrade",query:{oqa:"acc_cancel_108"}})},{value:i.SurveyReason.NEED_DIFFERENT_PLAN,reason:e(i.SurveyReason.NEED_DIFFERENT_PLAN,t),uri:d.ROOT_DOWNGRADE_URI},{value:i.SurveyReason.USING_ANOTHER_SERVICE,reason:e(i.SurveyReason.USING_ANOTHER_SERVICE,t),uri:d.ROOT_DOWNGRADE_URI},{value:i.SurveyReason.NOT_ENOUGH_STORAGE,reason:e(i.SurveyReason.NOT_ENOUGH_STORAGE,t),uri:d.ROOT_DOWNGRADE_URI},{value:i.SurveyReason.COVID_19,reason:e(i.SurveyReason.COVID_19,t),uri:d.ROOT_DOWNGRADE_URI}],"value")},e.prototype.generateSurveyReasons=function(){var e,t=this;switch(this.planType){case n.ProductPlanType.FAMILY_PAYER:e=a.shuffle([i.SurveyReason.TOO_EXPENSIVE,i.SurveyReason.TEMPORARY_NEED,i.SurveyReason.TECH_ISSUES,i.SurveyReason.NEED_DIFFERENT_PLAN,i.SurveyReason.USING_ANOTHER_SERVICE,i.SurveyReason.COVID_19]).concat(i.SurveyReason.OTHER);break;case n.ProductPlanType.FAMILY_NONPAYER:e=a.shuffle([i.SurveyReason.TECH_ISSUES,i.SurveyReason.NEED_DIFFERENT_PLAN,i.SurveyReason.USING_ANOTHER_SERVICE,i.SurveyReason.NOT_ENOUGH_STORAGE]).concat(i.SurveyReason.OTHER);break;default:e=a.shuffle([i.SurveyReason.TOO_EXPENSIVE,i.SurveyReason.TECH_ISSUES,i.SurveyReason.BETTER_ALTERNATIVE,i.SurveyReason.TEMPORARY_NEED,i.SurveyReason.SWITCH_TO_BUSINESS,i.SurveyReason.MAJOR_LIFE_CHANGE]).concat(i.SurveyReason.OTHER)}return e.map((function(e){return t.reasonsMappedByValue[e]}))},e.prototype.getCancelSurveyOption=function(e){return this.reasonsMappedByValue[e]},e.prototype.getFormDestinationURI=function(e){var t;switch(this.planType){case n.ProductPlanType.FAMILY_PAYER:case n.ProductPlanType.FAMILY_NONPAYER:t=d.ROOT_DOWNGRADE_URI;break;default:t=e.uri}return t.toString()},Object.defineProperty(e.prototype,"title",{get:function(){return this.expMontanaActive?s.intl.formatMessage({id:"TQ69VW",defaultMessage:"Share your thoughts with us"}):this.planType===n.ProductPlanType.FAMILY_NONPAYER?s.intl.formatMessage({id:"sN2nOJ",defaultMessage:"Are you sure you want to leave?"}):this.showCovidResponseSurvey?s.intl.formatMessage({id:"a8G1CY",defaultMessage:"Thanks for using Dropbox"}):s.intl.formatMessage({id:"3puWNW",defaultMessage:"Are you sure you want to cancel?"})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){if(this.firstName){if(this.expMontanaActive)return s.intl.formatMessage({id:"6x35tU",defaultMessage:"Hey {first_name}, would you mind telling us why you canceled your plan today?"},{first_name:this.firstName});switch(this.planType){case n.ProductPlanType.FAMILY_PAYER:return s.intl.formatMessage({id:"fGkg7L",defaultMessage:"Hey {first_name}, we’re sorry you’re thinking of canceling {dropbox_family}. Would you tell us why? We might be able to help."},{first_name:this.firstName,dropbox_family:l.DROPBOX_FAMILY});case n.ProductPlanType.FAMILY_NONPAYER:return s.intl.formatMessage({id:"6V7StD",defaultMessage:"Hey {first_name}, we’re sorry you’re thinking of leaving {dropbox_family}. Would you tell us why? We might be able to help."},{first_name:this.firstName,dropbox_family:l.DROPBOX_FAMILY});default:return s.intl.formatMessage({id:"XjTkfW",defaultMessage:"Hey {first_name}, we’re sorry you’re thinking of leaving us. Would you tell us why? We might be able to help!"},{first_name:this.firstName})}}return s.intl.formatMessage({id:"N3ZFxq",defaultMessage:"Hey, we’re sorry you’re thinking of leaving us. Would you tell us why? We might be able to help!"})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholderTextForUserCancelationExplanation",{get:function(){switch(this.planType){case n.ProductPlanType.FAMILY_PAYER:return s.intl.formatMessage({id:"+rIarA",defaultMessage:"I’m canceling because…"});case n.ProductPlanType.FAMILY_NONPAYER:return s.intl.formatMessage({id:"LGwQ4n",defaultMessage:"I’m leaving because…"});default:return s.intl.formatMessage({id:"7Iw06C",defaultMessage:"Reason for canceling (optional)"})}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"surveyPrompt",{get:function(){switch(this.planType){case n.ProductPlanType.FAMILY_PAYER:return s.intl.formatMessage({id:"Bq65fh",defaultMessage:"Please select a reason for canceling:"});case n.ProductPlanType.FAMILY_NONPAYER:return s.intl.formatMessage({id:"+BiebH",defaultMessage:"Please select a reason for leaving:"});default:return this.showCovidResponseSurvey?s.intl.formatMessage({id:"yYMBIr",defaultMessage:"Would you mind sharing why you’re canceling?"}):s.intl.formatMessage({id:"vfmSkZ",defaultMessage:"Please select one reason for canceling"})}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"primaryButtonText",{get:function(){return this.expMontanaActive?s.intl.formatMessage({id:"3Jf4H6",defaultMessage:"Submit"}):this.planType===n.ProductPlanType.FAMILY_NONPAYER?this.isModal?s.intl.formatMessage({id:"9xHDZe",defaultMessage:"Continue leaving"}):s.intl.formatMessage({id:"Us8RQ2",defaultMessage:"Continue"}):this.isModal?s.intl.formatMessage({id:"ns0ERj",defaultMessage:"Continue canceling"}):s.intl.formatMessage({id:"NhtmWc",defaultMessage:"Continue"})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondaryButtonText",{get:function(){return this.expMontanaActive?s.intl.formatMessage({id:"q+ijnm",defaultMessage:"Skip"}):this.planType===n.ProductPlanType.FAMILY_NONPAYER?s.intl.formatMessage({id:"PfRcC6",defaultMessage:"Don’t leave"}):s.intl.formatMessage({id:"zqrZiY",defaultMessage:"Don’t cancel"})},enumerable:!0,configurable:!0}),e})();t.IndividualCancelSurveyContent=u})),define("modules/clean/account_page/widgets/plan/views/individual_cancel_survey/individual_cancel_survey_modal",["require","exports","tslib","react","modules/clean/analytics","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/account_page/widgets/plan/views/individual_cancel_survey/types","modules/clean/account_page/widgets/plan/views/individual_cancel_survey/individual_cancel_survey","modules/clean/ux_analytics_utils","modules/core/browser","modules/clean/account_page/constants","modules/clean/account_page/widgets/plan/views/add_covid_promo_modal","modules/clean/react/survey/types/survey_types","modules/clean/stormcrow/stormcrow_exposure_logger","modules/clean/account_page/widgets/plan/views/individual_cancel_survey/utils","modules/clean/hql/index","dropbox/proto/hql_events/retention/retention"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),d=a.__importStar(d),t.IndividualCancelSurveyModalProps=o.IndividualCancelSurveyModalProps;var h=(function(e){function t(t){var a=e.call(this,t)||this;a.state={isOpen:!0},a.onSkipSurvey=function(){f.logEvent({eventMessageName:"SelectSkip",event:g.hql_events.SelectSkip.create({})}),i.ProEventsLogger.log("individual_cancel_survey_modal_skip",{},(function(){a.shouldOfferCovidPromo?(c.showAddPromoConfirmationModal({subStatus:a.props.subStatus,basicSkuQuotaGb:a.props.basicSkuQuotaGb,endPromoDate:a.props.endPromoDate,reloadData:a.props.reloadData}),a.closeModal()):d.redirect(u.ROOT_DOWNGRADE_URI.setQuery({skip_survey:"true"}))}))},a.onSecondaryAction=function(){a.props.expMontanaActive?s.MontanaLogger.logEvent("cancel_dismiss",{featureType:"survey",cta:"skip"}):(i.ProEventsLogger.log("individual_cancel_survey_modal_close"),f.logEvent({eventMessageName:"SelectExitButton",event:g.hql_events.SelectExitButton.create({})})),a.closeModal()},a.onSurveySubmitResponse=function(e,t){var n=e.additionalInfo,o=e.downgradeReasonId,r=e.planType;a.props.expMontanaActive?(s.MontanaLogger.logEvent("cancel_click",{featureType:"survey",cta:"submit"}),_.submitSurveyResponse({additionalInfo:n,downgradeReasonId:o},(function(){return a.closeModal()}))):(f.logEvent({eventMessageName:"SelectSubmit",event:g.hql_events.SelectSubmit.create({additionalInfo:n,downgradeReasonId:o,currentProductPlanType:r})}),i.ProEventsLogger.log("individual_cancel_survey_modal_submit",{additionalInfo:n,downgradeReasonId:o,current_product_plan_type:r},t.triggerSubmit))},a.onPrimaryAction=function(e){var t=e.additionalInfo,n=e.downgradeReasonId,s=e.selectedOption,o=e.planType;s.value!==m.SurveyReason.TOO_EXPENSIVE&&s.value!==m.SurveyReason.MAJOR_LIFE_CHANGE&&s.value!==m.SurveyReason.OTHER||!a.shouldOfferCovidPromo||(i.ProEventsLogger.log("individual_cancel_survey_modal_submit",{additionalInfo:t,downgradeReasonId:n,current_product_plan_type:o}),f.logEvent({eventMessageName:"SelectSubmit",event:g.hql_events.SelectSubmit.create({additionalInfo:t,downgradeReasonId:n,currentProductPlanType:o})}),c.showAddPromoConfirmationModal({downgradeReasonId:n,additionalInfo:t,subStatus:a.props.subStatus,basicSkuQuotaGb:a.props.basicSkuQuotaGb,endPromoDate:a.props.endPromoDate,reloadData:a.props.reloadData}),a.closeModal())},a.onCloseAction=function(){a.props.expMontanaActive?s.MontanaLogger.logEvent("cancel_dismiss",{featureType:"survey"}):(i.ProEventsLogger.log("individual_cancel_survey_modal_close"),f.logEvent({eventMessageName:"SelectExitButton",event:g.hql_events.SelectExitButton.create({})})),a.closeModal()},a.closeModal=function(){l.dispatchModalClosed(),a.setState({isOpen:!1},(function(){var e=a.props,t=e.expMontanaActive,n=e.onClose,i=e.exitModalFlow;!t&&n&&n(),t&&i&&(i(),d.redirect("/account/plan"))}))},a.getInvidiuialCancelSurveyProps=function(){var e=a.props;return{firstName:e.firstName,subStatus:e.subStatus,expMontanaActive:e.expMontanaActive,type:o.IndividualCancelSurveyType.MODAL,onSkipSurvey:a.onSkipSurvey,onSecondaryAction:a.onSecondaryAction,onPrimaryAction:a.onPrimaryAction,onCloseAction:a.onCloseAction,showCovidResponseSurvey:a.showCovidResponseSurvey,onSurveySubmitResponse:a.onSurveySubmitResponse,isModalOpen:a.state.isOpen}};var n=t.expMontanaActive;return a.showCovidResponseSurvey="V1"===a.props.expRetentionCovidPromo&&!Boolean(n),Boolean(n)||p.logVariantExposure("growth_covid_promo",a.props.expRetentionCovidPromo),a}return a.__extends(t,e),Object.defineProperty(t.prototype,"shouldOfferCovidPromo",{get:function(){return Boolean(this.props.endPromoDate&&this.showCovidResponseSurvey&&!this.props.hasOrHadCovidPromo&&this.props.basicSkuQuotaGb&&this.props.reloadData)},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.getInvidiuialCancelSurveyProps();return n.default.createElement(r.IndividualCancelSurvey,a.__assign({},e))},t})(n.default.Component);t.IndividualCancelSurveyModal=h})),define("modules/clean/account_page/widgets/plan/views/individual_cancel_survey/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.MODAL="modal",e.MOBILE_PAGE="mobile-page"})(t.IndividualCancelSurveyType||(t.IndividualCancelSurveyType={}))})),define("modules/clean/account_page/widgets/plan/views/individual_cancel_survey/utils",["require","exports","modules/clean/api_v2/user_client","modules/clean/account_page/util","modules/core/exception","modules/core/notify","modules/core/i18n"],(function(e,t,a,n,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.submitSurveyResponse=function(e,t){var r=e.additionalInfo,l=e.downgradeReasonId;(new a.UserApiV2Client).ns("montana").rpc("submit_cancel_survey_response",{additional_info:r,downgrade_reason_id:l},{subjectUserId:n.getCurrentUser().id}).then(t,(function(e){i.reportStack("There was an issue submit cancel survey response.",{exc_extra:{selectedOption:l,err:e},severity:"critical"}),s.Notify.error(o.intl.formatMessage({id:"341c9V",defaultMessage:"There was an issue, please contact Customer Support."}))}))}})),define("modules/clean/account_page/widgets/plan/views/individual_inline_payment_method",["require","exports","tslib","react","modules/core/i18n","modules/clean/account_page/widgets/billing/payment_method_constants","modules/clean/payments/skus/constants"],(function(e,t,a,n,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.renderCreditCard=function(){var e=this.props,t=e.paymentMethod,a=e.isRedesignedModal,s=e.nextBillingDate,r=e.scheduleId,l=e.totalPrice;if(t){var d=t.account.slice(-4),u=void 0;return a?(u=r===o.ScheduleId.YEARLY?i.intl.formatMessage({id:"IK0bTU",defaultMessage:"Starting <strong>{date}</strong>, we’ll charge you <strong>{scheduled_total}</strong> per year on your card ending in <strong>{last4}</strong>."},{last4:d,date:s,scheduled_total:l,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}):i.intl.formatMessage({id:"QRWsYu",defaultMessage:"Starting <strong>{date}</strong>, we’ll charge you <strong>{scheduled_total}</strong> per month on your card ending in <strong>{last4}</strong>."},{last4:d,date:s,scheduled_total:l,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}),n.default.createElement("span",null,u," ")):(u=i.intl.formatMessage({id:"GK+TXw",defaultMessage:"We’ll charge your card ending in {last4}."},{last4:d}),n.default.createElement("span",null,u," ",this.props.renderUpdateLink))}return n.default.createElement("span",null)},t.prototype.renderDirectDebit=function(){var e=this.props,t=e.paymentMethod,a=e.isRedesignedModal,s=e.nextBillingDate,r=e.scheduleId,l=e.totalPrice;if(t){var d=t.account.slice(-4),u=void 0;return a?(u=r===o.ScheduleId.YEARLY?i.intl.formatMessage({id:"5ZcdXx",defaultMessage:"Starting <strong>{date}</strong>, we’ll charge you <strong>{scheduled_total}</strong> per year on your IBAN ending in <strong>{last4}</strong>."},{last4:d,date:s,scheduled_total:l,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}):i.intl.formatMessage({id:"j+Ib+Z",defaultMessage:"Starting <strong>{date}</strong>, we’ll charge you <strong>{scheduled_total}</strong> per month on your IBAN ending in <strong>{last4}</strong>."},{last4:d,date:s,scheduled_total:l,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}),n.default.createElement("span",null,u," ")):(u=i.intl.formatMessage({id:"RFtAL9",defaultMessage:"We’ll charge your IBAN ending in {last4}."},{last4:d}),n.default.createElement("span",null,u," ",this.props.renderUpdateLink))}return n.default.createElement("span",null)},t.prototype.renderPaypal=function(){var e=this.props,t=e.renderUpdateLink,a=e.isRedesignedModal,s=e.nextBillingDate,r=e.scheduleId,l=e.totalPrice;if(a){var d=r===o.ScheduleId.YEARLY?i.intl.formatMessage({id:"8pjZ0l",defaultMessage:"Starting <strong>{date}</strong>, we’ll charge you <strong>{scheduled_total}</strong> per year on your Paypal account."},{date:s,scheduled_total:l,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}):i.intl.formatMessage({id:"OcF6CB",defaultMessage:"Starting <strong>{date}</strong>, we’ll charge you <strong>{scheduled_total}</strong> per month on your Paypal account."},{date:s,scheduled_total:l,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}});return n.default.createElement("span",null,d," ")}return n.default.createElement("span",null,i.intl.formatMessage({id:"fwn0rp",defaultMessage:"We’ll charge your PayPal account."})," ",t)},t.prototype.render=function(){var e=this.props,t=e.paymentMethod,a=e.paymentErrorMessage;if(!t&&a)return n.default.createElement("span",null,a," ",this.props.renderUpdateLink);if(!t)return n.default.createElement("span",null);switch(t.gateway_id){case s.BRAINTREE:return this.renderCreditCard();case s.ADYEN_SEPA_GATEWAY:return this.renderDirectDebit();case s.PAYPAL:case s.PAYPAL_REFERENCE_TRANSACTION:return this.renderPaypal();default:return n.default.createElement("span",null)}},t})((n=a.__importDefault(n)).default.Component);t.IndividualInlinePaymentMethodView=r})),define("modules/clean/account_page/widgets/plan/views/npt_billing_schedule_items",["require","exports","tslib","react","modules/core/i18n","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item","modules/clean/payments/skus/constants","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list"],(function(e,t,a,n,i,s,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.changeProductScheduleTypeClosure=function(e){var t=this;return function(){t.props.changeProductScheduleType(e)}},t.prototype.getScheduleDescription=function(e,t,a,n){switch(e){case o.ScheduleId.YEARLY:return i.intl.formatMessage({id:"Fd23KZ",defaultMessage:"{plan_name} is {price_per_year} per year. You’ll save {savePercentage} over monthly billing."},{plan_name:this.props.planName,price_per_year:a,savePercentage:n});case o.ScheduleId.MONTHLY:return i.intl.formatMessage({id:"XD9xb9",defaultMessage:"{plan_name} is {price_per_month} per month. You’ll spend {price_per_year} per year."},{plan_name:this.props.planName,price_per_month:t,price_per_year:a})}return""},t.prototype.getBillingItemTitle=function(e){switch(e){case o.ScheduleId.YEARLY:return i.intl.formatMessage({id:"onubGk",defaultMessage:"Billed yearly"});case o.ScheduleId.MONTHLY:return i.intl.formatMessage({id:"ytUb1D",defaultMessage:"Billed monthly"})}return""},t.prototype.render=function(){var e=this,t=this.props,a=t.trialPriceConversions,l=t.finalBillingScheduleId;return n.default.createElement(r.AdminPricedList,null,Object.keys(a).map((function(t){var r=parseInt(t,10),d=r===l,u=a[t],c=u.advertised_monthly_price,m=i.intl.formatMessage({id:"0OYZsq",defaultMessage:"per month"});return r===o.ScheduleId.YEARLY&&(c=u.advertised_yearly_price,m=i.intl.formatMessage({id:"1BL+ll",defaultMessage:"per year"})),n.default.createElement(s.AdminPricedListItem,{key:u.conversion_token.plan_sku_code,isSelected:d,title:e.getBillingItemTitle(r),titleWarningText:void 0,titleSecondaryText:void 0,description:e.getScheduleDescription(r,u.advertised_monthly_price,u.advertised_yearly_price,u.advertised_yearly_price_savings),price:void 0,priceString:c,detailsLink:void 0,unit:m,onClick:e.changeProductScheduleTypeClosure(r),disableItem:!1,recommended:r===o.ScheduleId.YEARLY})})))},t})((n=a.__importDefault(n)).default.Component);t.NptBillingScheduleItems=l})),define("modules/clean/account_page/widgets/plan/views/plan_card",["require","exports","tslib","react","modules/core/i18n","modules/clean/bem","classnames","spectrum/button","dig-components/buttons","modules/clean/static_urls"],(function(e,t,a,n,i,s,o,r,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),o=a.__importDefault(o);var u=s.bem("plan-card");t.PlanCard=function(e){var t,a,s,c;return e.isInSwitchPlanModal?(a=d.static_url("/static/images/growth/checkmark-vfljJCDEB.svg"),s=d.static_url("/static/images/growth/cross-vflscuyg9.svg"),c=e.primaryCta?n.createElement(l.Button,{className:u("btn-primary"),variant:"primary",onClick:e.primaryCta.onClick},e.primaryCta.primaryText):n.createElement(l.Button,{className:u("btn-primary"),variant:"outline",disabled:!0},i.intl.formatMessage({id:"7Fz7qP",defaultMessage:"Current plan"}))):(a=d.static_url("/static/images/payments/plans/check-blue-vflIlMMsE.svg"),s=d.static_url("/static/images/payments/plans/cross-gray-vflwIK7NX.svg"),c=e.primaryCta?n.createElement(r.Button,{className:u("btn-primary"),variant:"primary",onClick:e.primaryCta.onClick},e.primaryCta.primaryText):null),n.createElement("div",{className:o.default(u(""),{highlighted:e.isHighlighted})},n.createElement("div",{className:o.default(u("highlight-bar"),{unhighlighted:!e.isHighlighted})}),n.createElement("div",{className:u("wrapper")},n.createElement("div",{className:u("content")},n.createElement("div",{className:u("plan-display-name")},e.planDisplayName),n.createElement("div",{className:o.default(u("price"),(t={},t[u("price","not-billed")]=e.isNotBilled,t))},e.pricePerMonth),!e.isNotBilled&&n.createElement(n.Fragment,null,n.createElement("div",{className:u("per-month")},e.isBusiness?i.intl.formatMessage({id:"Yb0Rbj",defaultMessage:"per person per month"}):i.intl.formatMessage({id:"FCHtXU",defaultMessage:"per month"})),n.createElement("div",{className:u("billing-period")},e.isBilledMonthly?i.intl.formatMessage({id:"u3pjgR",defaultMessage:"billed monthly"}):i.intl.formatMessage({id:"ZH8HM5",defaultMessage:"billed yearly"}))),n.createElement("div",{className:u("feature-wrapper")},e.features.map((function(e,t){return n.createElement("div",{className:u("feature-row"),key:t},e.is_included?n.createElement("img",{className:u("check-icon"),src:a,alt:i.intl.formatMessage({id:"PixXBA",defaultMessage:"Included"})}):n.createElement("img",{className:u("cross-icon"),src:s,alt:i.intl.formatMessage({id:"v8ozDO",defaultMessage:"Not included"})}),e.display_text)})))),c))}})),define("modules/clean/account_page/widgets/plan/views/plan_status",["require","exports","tslib","modules/core/browser","react","modules/clean/viewer","modules/core/uri","modules/core/i18n","modules/clean/account_page/components/button_block","modules/core/exception","modules/core/exception","modules/clean/react/payments/update_individual_billing/update_individual_billing_modal_loader","modules/clean/account_page/widgets/billing/payment_methods_util","modules/clean/account_page/widgets/billing/payment_method_constants","modules/clean/static_urls","modules/clean/react/payments/error/browser_update_required_modal","modules/clean/payments/cash","modules/clean/account_page/widgets/plan/views/change_plan_modal","modules/clean/account_page/widgets/plan/views/change_schedule_modal","modules/clean/account_page/widgets/plan/views/cancel_subs_warning_modal","modules/clean/payments/skus/constants","modules/clean/analytics","modules/constants/trademark","classnames","spectrum/button","spectrum/tertiary_link","modules/clean/stormcrow/experiment","modules/clean/api_v2/user_client","modules/clean/account_page/util","modules/clean/payments/skus/sku_content","modules/clean/account_page/widgets/plan/views/basic_plan_status","modules/clean/ts_utils","modules/clean/stormcrow/stormcrow_exposure_logger","modules/core/notify"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f,g,h,y,M,b,v,S,L,T,w,D,C,P,k,E,Y,N,I){"use strict";var A,x;Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importDefault(i),d=a.__importStar(d),L=a.__importDefault(L),(function(e){e[e.Cancel=0]="Cancel",e[e.Change=1]="Change",e[e.Manage=2]="Manage",e[e.Upgrade=3]="Upgrade"})(A||(A={})),(function(e){e.BUTTON="button",e.QUERY_PARAM="query_param"})(x||(x={}));var R=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isOverQuota=function(){return t.usage>t.quota},t.logSeePlanDetails=function(){v.ProEventsLogger.log("de_plan_tab_details_click")},t.cancelPlanClick=function(){t.props.isPersonalUser?n.redirect("/account/plan?modal=individual_cancel_survey"):n.redirect("/team/cancel")},t.openChangeBillingPeriodModal=function(e){return function(a){a&&a.preventDefault();var n=t.props,i=n.browserUpdateRequired,s=n.expMontana,o=n.onUpdate,r=n.paymentInfo,l=n.scheduledForDowngrade,d=n.subStatus,u=n.shouldShowRedesignedModal;N.logVariantExposure("growth_retention_account_changes",t.props.expRetentionAccountChanges),l?M.CancelChangesModalConfirmation.showInstance({transitionPerformed:o,subStatus:d,shouldShowRedesignedModal:u}):(y.ChangeScheduleModalView.showInstance({transitionPerformed:o,paymentInfo:r,browserUpdateRequired:i,expMontana:s,shouldShowRedesignedModal:u}),v.ProEventsLogger.log(e))}},t.onChangeBillingPeriodClick=t.openChangeBillingPeriodModal("de_plan_tab_change_billing_open_modal"),t.onSwitchToYearlyBillingClick=t.openChangeBillingPeriodModal("click_savings_banner"),t.onSavingsBannerClose=function(e){e.preventDefault(),(new C.UserApiV2Client).ns("montana").rpc("mark_savings_banner_as_dismissed",void 0,{subjectUserId:P.getCurrentUser().id}).then((function(){v.ProEventsLogger.log("dismiss_savings_banner"),t.props.onSavingsBannerDismissed()}))},t.onUpdateBillingClick=function(e){e.preventDefault(),t.props.browserUpdateRequired?f.BrowserUpdateModalLoader.showInstance():c.IndividualUpdateBillingModalLoader.showInstance()},t.redirectToUpgrade=function(){v.ProEventsLogger.log("de_plan_tab_upgrade_to_plus_click");var e=t.isOverQuota()?"acc_plan_upgrade_overquota_btn":"acc_plan_upgrade",a=new o.URI({path:"/upgrade",query:{oqa:e}}).toString();n.redirect(a)},t.purchaseNowClick=function(){v.ProEventsLogger.log("de_plan_tab_purchase_now_click"),n.redirect("/pro/convert")},t.cancelTrialClick=function(){v.ProEventsLogger.log("de_plan_tab_cancel_trial_click");var e=t.props.modalCallbacks;if(e&&e.openIndividualCancelSurvey)return e.openIndividualCancelSurvey();n.redirect("/account/plan?modal=individual_cancel_survey")},t.contactSupportClick=function(){v.ProEventsLogger.log("de_plan_tab_contact_support_click"),n.redirect("/support")},t.addPaymentClick=function(){v.ProEventsLogger.log("de_plan_tab_add_payment_method_click"),c.IndividualUpdateBillingModalLoader.showInstance()},t.logOpenChangePlanModal=function(){var e,a=t.props.subStatus;if((null===(e=null==a?void 0:a.subState.plan)||void 0===e?void 0:e.productClass)===b.ProductClass.PLAN){var n=a.subState.plan.productType;v.ProEventsLogger.log("change_plan_modal_view",{current_product_plan_type:n})}else d.reportException({err:new Error("Change plan modal opened without a plan"),severity:"non-critical"})},t.openChangePlanModal=function(e,a){void 0===a&&(a=x.BUTTON),e&&e.preventDefault(),t.props.isLoggedInUser||(t.props.isPersonalUser?n.redirect("/account/plan"):n.redirect("/team/admin/billing/manage"));var i=t.props,s=i.browserUpdateRequired,o=i.scheduledForDowngrade,r=i.paymentInfo,l=i.modalCallbacks,d=i.shouldShowRedesignedModal;if(o)M.CancelChangesModalConfirmation.showInstance({transitionPerformed:t.props.onUpdate,subStatus:t.props.subStatus,userIdOverride:t.getUserForModal(),shouldShowRedesignedModal:d});else{if(a===x.BUTTON&&N.logVariantExposure("growth_retention_account_changes",t.props.expRetentionAccountChanges),a!==x.QUERY_PARAM&&d&&l&&l.openSwitchPlanModal)return l.openSwitchPlanModal();h.ChangePlanModalView.showInstance({browserUpdateRequired:s,transitionPerformed:t.props.onUpdate,paymentInfo:r,userIdOverride:t.getUserForModal(),expMontana:t.props.expMontana}),t.logOpenChangePlanModal()}},t.renderContactSupportLink=function(){return i.default.createElement("div",{className:"plan-status-section__contact_support_link"},i.default.createElement("a",{href:"#",onClick:t.contactSupportClick},r.intl.formatMessage({id:"NYuVLU",defaultMessage:"Contact support to change plan"})))},t.renderPlanDetailsButton=function(){var e=t.props,a=e.handlePlanDetailsExpand,n=e.shouldShowPlanDetails?r.intl.formatMessage({id:"seJP/g",defaultMessage:"Hide details"}):r.intl.formatMessage({id:"9oH1f/",defaultMessage:"What’s included?"});return i.default.createElement(w.TertiaryLink,{onClick:a},n)},t.renderPlanDetailsList=function(){var e=t.props,a=e.plusSkuContent,n=e.subStatus;if(a&&n){var s=k.SkuContentClient.deserialize(a),o=[r.intl.formatMessage({id:"P76MGq",defaultMessage:"{storage_space} of storage"},{storage_space:s.spaceLongFormRounded()}),r.intl.formatMessage({id:"i3a4SM",defaultMessage:"{count, plural, one{{count}-day version history and file recovery} other{{count}-day version history and file recovery}}"},{count:n.vacuumingPolicyMaxDays}),r.intl.formatMessage({id:"x85JHf",defaultMessage:"Sync all your files automatically across all your devices"})].map((function(e,t){return i.default.createElement("li",{className:"feature-item",key:t},e)}));return i.default.createElement("ul",{className:"features-list"},o)}},t.renderBillingDisabledMessage=function(){var e=t.props,a=e.paymentInfo,n=e.scheduledForDowngrade,s=e.hasUnusedLicenseKey,o=e.showChangeBillingPeriod;if(a&&o&&!s){var r=a.gateway_id,l=a.is_reseller_billing,d=a.end_date,u=a.deactivated,c=a.is_on_trial,p=a.reseller_name,_=a.reseller_link;if((!a.schedule_switchable&&!n||m.shouldHideBillingChange(r,l))&&!t.isTrialPlan()){var f=m.getBillingDisabledMessage({gatewayId:r,isResellerBilling:l,resellerName:p,resellerLink:_,dropboxPlan:S.TRADEMARK_PLUS,endDate:d,deactivated:u,isOnTrial:c});return i.default.createElement("span",{className:"plan-status-section__message"},f)}}},t.renderPlanStatusExpWayfinding=function(e,a,n){return i.default.createElement("div",{className:"plan-status__exp-retention-account-wayfinding"},i.default.createElement("div",{className:"current-plan-badge"},r.intl.formatMessage({id:"oC+wBh",defaultMessage:"CURRENT PLAN"})),i.default.createElement("div",{className:"plan-status-section"},t.renderDropboxLogo(),i.default.createElement("div",{className:"plan-status-section__description"},i.default.createElement("h1",{className:"plan-status-section__title"},e),n,t.renderBillingDisabledMessage(),t.renderPlanDetailsButton()),a),t.props.shouldShowPlanDetails&&t.renderPlanDetailsList())},t.renderBillingPeriod=function(){var e=t.props,a=e.paymentInfo,n=e.scheduledForDowngrade,s=e.hasUnusedLicenseKey;if(!t.isFamilyNonPayerPlan()&&a&&t.props.showChangeBillingPeriod&&!s){var o=a.gateway_id,l=a.is_reseller_billing,d=a.end_date,u=a.deactivated,c=a.is_on_trial,p=a.reseller_name,_=a.reseller_link;if(!a.schedule_switchable&&!n&&!t.isProfessionalTrial()||m.shouldHideBillingChange(o,l)){var f=m.getBillingDisabledMessage({gatewayId:o,isResellerBilling:l,resellerName:p,resellerLink:_,dropboxPlan:S.TRADEMARK_PLUS,endDate:d,deactivated:u,isOnTrial:c});return i.default.createElement("span",{className:"plan-status-section__message"},f)}if(!t.isPlusTrial())return a.is_in_grace_period?i.default.createElement("a",{href:"#",className:"plan-status-section__link",onClick:t.onUpdateBillingClick},r.intl.formatMessage({id:"iq/tnl",defaultMessage:"Please update your billing information"})):i.default.createElement("a",{href:"#",className:"plan-status-section__link","data-test":"change-billing-link",onClick:t.onChangeBillingPeriodClick},r.intl.formatMessage({id:"Cfhoeq",defaultMessage:"Change billing period"}))}},t.changePlanClick=function(){t.props.subStatus.subState.plan.isEnterprise?n.redirect("/team/admin/help?role=work"):n.redirect("/team/admin/billing/manage?show_switch_plan")},t.managePlanClick=function(){n.redirect("/team/admin/billing/manage")},t.createTrialCtaButtons=function(e,a){return void 0===e&&(e=!0),void 0===a&&(a=!1),a?i.default.createElement("div",{className:"plan-status-section__upgrade_btn trial-cta"},i.default.createElement("button",{className:"mc-button mc-button-secondary cancel-button",onClick:t.cancelTrialClick},r.intl.formatMessage({id:"QJ3PjI",defaultMessage:"Cancel trial"}))):e?i.default.createElement("div",{className:"plan-status-section__upgrade_btn trial-cta"},i.default.createElement("button",{className:"button-primary purchase-button",onClick:t.purchaseNowClick},r.intl.formatMessage({id:"rki01J",defaultMessage:"Purchase Now"})),i.default.createElement("button",{className:"mc-button mc-button-secondary cancel-button",onClick:t.cancelTrialClick},r.intl.formatMessage({id:"QJ3PjI",defaultMessage:"Cancel trial"}))):i.default.createElement("div",{className:"plan-status-section__upgrade_btn trial-cta"},i.default.createElement("button",{className:"button-primary purchase-button",onClick:t.purchaseNowClick},r.intl.formatMessage({id:"rki01J",defaultMessage:"Purchase Now"})))},t.redirectToPlansPage=function(){v.ProEventsLogger.log("de_plan_tab_see_other_plans_family_member_click"),n.redirect(t.plansURL)},t.logUpgradeOverquotaBtn=function(e){v.GrowthEventsLogger.log("acc_plan_upgrade_overquota_btn",{action:e,button_text:"Upgrade now",destination_url:"http://www.dropbox.com/upgrade",location:"in_product",quota_status:"over",upsell_type:"modal"})},t.onUpgradePlanButtonClick=function(){t.logUpgradeOverquotaBtn("click"),t.redirectToUpgrade()},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=o.URI.parse(n.get_href()).getQuery().modal;e&&("plan"===e?this.isChangePlanSupported()?this.openChangePlanModal(void 0,x.QUERY_PARAM):I.Notify.error(r.intl.formatMessage({id:"Ruu9sN",defaultMessage:"You cannot change plans at this time."})):"downgrade"===e&&this.props.scheduledForDowngrade&&M.CancelChangesModalConfirmation.showInstance({transitionPerformed:this.props.onUpdate,subStatus:this.props.subStatus,userIdOverride:this.getUserForModal()}))},t.prototype.cantTransitionDueToCovidPromo=function(){var e,t=this.props,a=t.hasUnappliedMonthlyCovidPromo,n=t.subStatus,i=null===(e=null==n?void 0:n.subState.plan)||void 0===e?void 0:e.productType;return Boolean(a&&i&&(i===b.ProductPlanType.PLUS||i===b.ProductPlanType.STANDARD))},t.prototype.isChangePlanSupported=function(){var e,t=this.props,a=t.subStatus,n=t.eligibleFor1tb,i=t.isExternallyBilled,s=t.paymentInfo;if(!this.isInStandardSchedule())return!1;if(n)return!1;if(this.cantTransitionDueToCovidPromo())return!1;if(s&&(null===(e=null==a?void 0:a.subState.plan)||void 0===e?void 0:e.productClass)===b.ProductClass.PLAN){var o=a.subState.plan.productType;if(m.shouldHideBillingChange(s.gateway_id,i))return!1;switch(o){case b.ProductPlanType.PROFESSIONAL:case b.ProductPlanType.PLUS:case b.ProductPlanType.STANDARD:case b.ProductPlanType.FAMILY_PAYER:return!0;case b.ProductPlanType.FAMILY_NONPAYER:case b.ProductPlanType.FREE:case b.ProductPlanType.BASIC:case b.ProductPlanType.TRIAL:case b.ProductPlanType.PLUS_TRIAL:case b.ProductPlanType.PLUS_WITH_SS:case b.ProductPlanType.PLUS_WITH_SS_TRIAL:case b.ProductPlanType.PROFESSIONAL_TRIAL:case b.ProductPlanType.NEW_STANDARD:case b.ProductPlanType.STANDARD_TRIAL:case b.ProductPlanType.ADVANCED:case b.ProductPlanType.ADVANCED_TRIAL:case b.ProductPlanType.LEGACY:case b.ProductPlanType.BASIC_PLUS:case b.ProductPlanType.ENTERPRISE:case b.ProductPlanType.MOBILE:case b.ProductPlanType.PREMIUM:case b.ProductPlanType.SERVER:case b.ProductPlanType.SERVER_TRIAL:case b.ProductPlanType.STARTER:return!1;default:Y.enforceExhaustive(o)}}return!1},Object.defineProperty(t.prototype,"usage",{get:function(){return this.props.usageBreakdown.usage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quota",{get:function(){return this.props.usageBreakdown.quota||.01},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plansURL",{get:function(){var e=this.props,t=e.isLoggedInUser,a={oqa:"acc_plan_upgrade"};return e.isTransactionInformationPage&&!t&&(a.trigger="nr"),new o.URI({path:"/plans",query:a}).toString()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"evhDisplayName",{get:function(){var e=this.props.evhInfo;return e.purchased?e.is_unlimited_evh?r.intl.formatMessage({id:"y3dl6B",defaultMessage:"unlimited version history"}):r.intl.formatMessage({id:"9fMG6q",defaultMessage:"extended version history"}):""},enumerable:!0,configurable:!0}),t.prototype.renderCancelPlanButton=function(){return this.props.isLoggedInUser&&!this.props.isLoggedInAsTransactionOwner?this.renderLoginInstructions(A.Cancel):i.default.createElement("div",{className:"plan-status-section__upgrade_btn"},i.default.createElement("button",{className:"mc-button-secondary",onClick:this.cancelPlanClick},r.intl.formatMessage({id:"vQndaY",defaultMessage:"Cancel plan"})))},t.prototype.isPlusPlan=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&(e.subState.plan.productType===b.ProductPlanType.STANDARD||e.subState.plan.productType===b.ProductPlanType.PLUS)},t.prototype.isProfessionalPlan=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&(e.subState.plan.productType===b.ProductPlanType.PROFESSIONAL||e.subState.plan.productType===b.ProductPlanType.PROFESSIONAL_TRIAL)},t.prototype.isFamilyPayerPlan=function(){var e,t;return(null===(t=null===(e=this.props.subStatus)||void 0===e?void 0:e.subState.plan)||void 0===t?void 0:t.productType)===b.ProductPlanType.FAMILY_PAYER},t.prototype.isFamilyNonPayerPlan=function(){var e,t;return(null===(t=null===(e=this.props.subStatus)||void 0===e?void 0:e.subState.plan)||void 0===t?void 0:t.productType)===b.ProductPlanType.FAMILY_NONPAYER},t.prototype.isFamilyPlan=function(){return this.isFamilyPayerPlan()||this.isFamilyNonPayerPlan()},t.prototype.isFreePlusPlan=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&e.subState.plan.productType===b.ProductPlanType.FREE},t.prototype.isInStandardSchedule=function(){var e=this.props.subStatus;if(e&&e.subState&&e.subState.billingSchedule){var t=e.subState.billingSchedule.id;return t===b.ScheduleId.MONTHLY||t===b.ScheduleId.YEARLY}return!1},t.prototype.pendingScheduledChange=function(){return this.isPlanScheduledToChange()||this.isBillingScheduleToChange()||this.isEvhScheduledToChange()},t.prototype.isTaurusPlan=function(){var e=this.props.subStatus;if(e&&e.subState.plan){var t=e.subState.plan.productType;return t===b.ProductPlanType.PLUS||t===b.ProductPlanType.PLUS_TRIAL||t===b.ProductPlanType.PROFESSIONAL||t===b.ProductPlanType.PROFESSIONAL_TRIAL||t===b.ProductPlanType.PLUS_WITH_SS||t===b.ProductPlanType.PLUS_WITH_SS_TRIAL}return!1},t.prototype.isPlanScheduledToChange=function(){var e=this.props,t=e.subStatus;return!!e.scheduledForDowngrade||!!(t&&t.subState.plan&&t.finalSubState.plan)&&t.subState.plan.productType!==t.finalSubState.plan.productType},t.prototype.isEvhScheduledToChange=function(){var e=this.props.subStatus;return!(!e||!e.scheduledSubState)&&e.subState.quantityForEvhAddOn()!==e.scheduledSubState.quantityForEvhAddOn()},t.prototype.isBillingScheduleToChange=function(){var e=this.props.subStatus;return!!(e&&e.subState.billingSchedule&&e.finalSubState.billingSchedule)&&e.subState.billingSchedule.id!==e.finalSubState.billingSchedule.id},t.prototype.shouldDisplayChangePlan=function(){var e=this.getGatewayId();return e!==p.NOT_APPLICABLE&&!m.shouldHidePaymentMethod(e)&&!this.props.hasUnusedLicenseKey&&!this.cantTransitionDueToCovidPromo()},t.prototype.getGatewayId=function(){var e=this.props.paymentInfo;return e?e.gateway_id:p.NOT_APPLICABLE},t.prototype.isTrialPlan=function(){return this.isPlusTrial()||this.isProfessionalTrial()},t.prototype.isPlusTrial=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&(e.subState.plan.productType===b.ProductPlanType.TRIAL||e.subState.plan.productType===b.ProductPlanType.PLUS_TRIAL)},t.prototype.isProfessionalTrial=function(){var e=this.props.subStatus;return!(!e||!e.subState.plan)&&e.subState.plan.productType===b.ProductPlanType.PROFESSIONAL_TRIAL},t.prototype.isLicensePlan=function(){var e=this.props,t=e.hasLicenseKey,a=e.paymentInfo;return!!a&&(t||m.isLicenseKey(a.gateway_id))},t.prototype.renderLoginInstructions=function(e){var t,a;return a=this.props.userEmail?this.props.userEmail:r.intl.formatMessage({id:"fZ1ZfV",defaultMessage:"the account user"}),t=e===A.Cancel?r.intl.formatMessage({id:"diOSTv",defaultMessage:"Please login as {email}{br}to cancel your plan."},{br:i.default.createElement("br",null),email:a}):e===A.Change?r.intl.formatMessage({id:"7/qGqI",defaultMessage:"Please login as {email}{br}to change your plan."},{br:i.default.createElement("br",null),email:a}):e===A.Manage?r.intl.formatMessage({id:"yHAcZL",defaultMessage:"Please login as {email}{br}to manage your plan."},{br:i.default.createElement("br",null),email:a}):e===A.Upgrade?r.intl.formatMessage({id:"EYQ0Wr",defaultMessage:"Please login as {email}{br}to upgrade your plan."},{br:i.default.createElement("br",null),email:a}):r.intl.formatMessage({id:"wBh1Uk",defaultMessage:"Please login as {email}."},{email:a}),i.default.createElement("div",{className:"plan-status-section__login-msg"},t)},t.prototype.getUserForModal=function(){var e=this.props,t=e.isPersonalUser,a=e.useSpecifiedRole,n=e.isLoggedInAsTransactionOwner,i=null;if(a&&n){var o=s.Viewer.get_viewer();i=t?o.personal_user?o.personal_user.id:null:o.work_user?o.work_user.id:null,u.assert(null!=i,"Could not find user for specified role; modal will fail")}return i},t.prototype.renderDropboxLogo=function(){return i.default.createElement("div",{className:"plan-status-section__icon u-mar-right-s"},i.default.createElement("img",{src:_.static_url("/static/images/logo_catalog/dropbox-business-icon_m1-vflczuza3.svg"),alt:""}))},t.prototype.getTeamName=function(){return this.props.isLoggedInAsTransactionOwner&&s.Viewer.get_viewer().team_name?s.Viewer.get_viewer().team_name:this.props.teamName?this.props.teamName:null},t.prototype.renderChangePlanButton=function(e){var t=this.props.paymentInfo;if(this.props.isLoggedInUser&&!this.props.isLoggedInAsTransactionOwner)return this.renderLoginInstructions(A.Change);var a=this.isFamilyNonPayerPlan()?r.intl.formatMessage({id:"I9CJF0",defaultMessage:"See other plans"}):r.intl.formatMessage({id:"w1kkK2",defaultMessage:"Change plan"});return i.default.createElement("div",{className:"plan-status-section__upgrade_btn"},i.default.createElement(T.Button,{className:"jest-change-plan-button",variant:"primary",onClick:e,disabled:t&&t.is_in_grace_period},a))},t.prototype.renderManagePlanButton=function(){return this.props.isLoggedInUser&&!this.props.isLoggedInAsTransactionOwner?this.renderLoginInstructions(A.Manage):i.default.createElement("div",{className:"plan-status-section__upgrade_btn"},i.default.createElement("button",{className:"button-tertiary",onClick:this.managePlanClick},r.intl.formatMessage({id:"RBsGH7",defaultMessage:"Manage plan"})))},t.prototype.renderBusinessPlanSection=function(){var e=this.props,t=e.subStatus,a=e.isTeamAdmin,n=e.scheduledForDowngrade,o=e.showCancelButton;if(t&&t.subState.isDeactivatedTeam)return this.renderBasicPlanSection();if(t&&t.subState.plan){var l=t.subState.plan.productType===b.ProductPlanType.STANDARD,d=t.subState.plan.displayName(!1,l);l||(d=r.intl.formatMessage({id:"15/NF/",defaultMessage:"{trade_mark} {plan_title}"},{trade_mark:S.TRADEMARK_BUSINESS,plan_title:d}));var u,c,m="",p=this.getTeamName();p&&(a?(m=r.intl.formatMessage({id:"TcIDqw",defaultMessage:"You’re an admin of the {team_name} Dropbox account."},{team_name:p}),this.props.isLoggedInAsTransactionOwner||(m=r.intl.formatMessage({id:"J98s/Q",defaultMessage:"This account is an admin of the {team_name} Dropbox account."},{team_name:p}))):(m=r.intl.formatMessage({id:"jgGyr5",defaultMessage:"You’re a member of the {team_name} Dropbox account."},{team_name:p}),this.props.isLoggedInAsTransactionOwner||(m=r.intl.formatMessage({id:"2c6DhA",defaultMessage:"This account is a member of the {team_name} Dropbox account."},{team_name:p}))));var _=s.Viewer.get_viewer();if(this.props.isLoggedInUser&&!this.props.isLoggedInAsTransactionOwner)u=this.renderLoginInstructions(),c=null;else if(a||!this.props.isLoggedInUser){var f=t.subState.plan.productType;if(f===b.ProductPlanType.STANDARD||f===b.ProductPlanType.NEW_STANDARD||f===b.ProductPlanType.STANDARD_TRIAL?u=this.renderChangePlanButton(this.changePlanClick):f!==b.ProductPlanType.ADVANCED&&f!==b.ProductPlanType.ADVANCED_TRIAL||(u=this.renderManagePlanButton()),o&&(u=n?this.renderManagePlanButton():this.renderCancelPlanButton()),!t.subState.plan.isEnterprise){var g=r.intl.formatMessage({id:"pHsXLD",defaultMessage:"Manage your team in the Admin Console"});this.props.isLoggedInAsTransactionOwner||(g=r.intl.formatMessage({id:"FbWoPF",defaultMessage:"Manage this team in the Admin Console"})),c=i.default.createElement("p",null,i.default.createElement("a",{className:"plan-status-section__link",href:"/team/admin/billing/manage"},g))}}else!a&&_.is_paired&&(c=i.default.createElement("p",null,r.intl.formatMessage({id:"7bN4Js",defaultMessage:"Looking for details on another plan?"})," ",i.default.createElement("a",{className:"plan-status-section__link plan-status-section__link--inline",href:"/account/plan?role=personal"},r.intl.formatMessage({id:"JejsPF",defaultMessage:"Visit your personal account page."}))));var h="";this.props.showTeamScheduledForDowngrade&&n&&(h=r.intl.formatMessage({id:"D26Tzh",defaultMessage:"Any active members of your {plan} team will be downgraded to Dropbox Basic accounts on {date}."},{plan:d,date:t.formattedNextBillingDate}),this.props.isLoggedInAsTransactionOwner||(h=r.intl.formatMessage({id:"fBp3Tk",defaultMessage:"Any active members of the {plan} team will be downgraded to Dropbox Basic accounts on {date}."},{plan:d,date:t.formattedNextBillingDate})));var y=L.default({"plan-status-section":!0,"is-merged-tab":this.props.isMergedTab});return i.default.createElement("div",{className:y},this.renderDropboxLogo(),i.default.createElement("div",{className:"plan-status-section__description"},i.default.createElement("h1",{className:"plan-status-section__title"},d),i.default.createElement("span",null,m),i.default.createElement("br",null),i.default.createElement("span",null,h),c),u)}},t.prototype.showBasicPlanWithTrial=function(){var e=this.props.trialsConfig;return e&&e.trialBanner&&e.currentPlan&&e.currentPlan.skuContent&&e.currentPlan.skuContent.name===S.TRADEMARK_BASIC},t.prototype.renderUpgradePlanButton=function(e,t,a){if(this.props.trialsConfig&&this.props.trialsConfig.trialBanner)return i.default.createElement("div",null);if(this.props.isLoggedInUser&&!this.props.isLoggedInAsTransactionOwner)return this.renderLoginInstructions(A.Upgrade);this.isOverQuota()&&this.logUpgradeOverquotaBtn("view");var n=t||this.onUpgradePlanButtonClick,s=a?function(){a(),n()}:void 0;return i.default.createElement("div",{className:"plan-status-section__upgrade_btn"},i.default.createElement("button",{className:"button-primary",onClick:s||n},e))},t.prototype.renderBasicPlanSection=function(){var e=this.props,t=e.subStatus,a=e.isLimitedTeam,n=e.modalCallbacks,s=e.expRetentionAccountChangesBasic,o=e.paymentInfo,l=e.isExternallyBilled,d=S.DROPBOX_BASIC;if(t){!this.showBasicPlanWithTrial()&&t.subState.plan&&(d=t.subState.plan.displayName());var u=void 0;if(a||t.subState.isDeactivatedTeam){var c=this.getTeamName(),p=r.intl.formatMessage({id:"jgGyr5",defaultMessage:"You’re a member of the {team_name} Dropbox account."},{team_name:c});this.props.isLoggedInAsTransactionOwner||(p=r.intl.formatMessage({id:"2c6DhA",defaultMessage:"This account is a member of the {team_name} Dropbox account."},{team_name:c})),u=i.default.createElement("p",{className:"plan-status-section__team_desc"},p)}var _=!1;o&&m.shouldHideBillingChange(o.gateway_id,l)&&(_=!0);var f,g=this.isOverQuota()?r.intl.formatMessage({id:"F2lDMN",defaultMessage:"Upgrade now"}):r.intl.formatMessage({id:"IqV88I",defaultMessage:"Upgrade"}),h=function(){N.logVariantExposure("growth_retention_account_changes_basic",s)};return f=D.Experiment(s).isActive&&n?this.renderUpgradePlanButton(g,n.openSwitchPlanModal,h):this.renderUpgradePlanButton(g,void 0,h),i.default.createElement(E.BasicPlanStatusSection,{planName:d,plansUrl:this.plansURL,limitedTeam:u,upgradePlanButton:f,expRetentionAccountChangesBasic:s,hidePlansLink:_})}},t.prototype.renderResellerPlan=function(){var e=r.intl.formatMessage({id:"mAtx6/",defaultMessage:"Dropbox {plus} 1TB"},{plus:S.TRADEMARK_PLUS});return i.default.createElement("div",{className:"plan-status-section"},this.renderDropboxLogo(),i.default.createElement("div",{className:"plan-status-section__description"},i.default.createElement("h1",{className:"plan-status-section__title"},e),i.default.createElement("p",{className:"plan-status-section__title_description"},this.renderBillingPeriod())))},t.prototype.renderPaidPlanSection=function(){var e=this.props,t=e.subStatus,a=e.evhInfo,n=e.isLimitedTeam,s=e.hasUnusedLicenseKey,o=e.paymentInfo,l=e.scheduledForDowngrade,d=e.hideSavingsBanner,u=e.expRetentionAccountWayfinding,c=e.isLoggedInAsTransactionOwner,p=e.showCancelButton;if(t&&t.scheduledSubState&&t.subState.plan){var _,f=t.subState.plan;if(1024===f.specQuotaGb){var h=this.getGatewayId(),y=t.subState.plan.displayName(!1,!1,h);_=a.purchased?r.intl.formatMessage({id:"L+nrMM",defaultMessage:"Dropbox {plus} + {evh}"},{plus:y,evh:this.evhDisplayName}):r.intl.formatMessage({id:"625HOw",defaultMessage:"Dropbox {plus}"},{plus:y})}else this.isFamilyPlan()?_=r.intl.formatMessage({id:"Sizjus",defaultMessage:"Dropbox {family}"},{family:f.displayName()}):(_=t.subState.plan.displayName(!0),a.purchased&&(_=r.intl.formatMessage({id:"5bCD2a",defaultMessage:"{plus} + {evh}"},{plus:_,evh:this.evhDisplayName})));var M,v=void 0,S=void 0,T="",w=t.subState&&t.subState.plan&&t.subState.plan.productType&&t.subState.plan.productType===b.ProductPlanType.PLUS&&t.subState.billingSchedule&&t.subState.billingSchedule.id===b.ScheduleId.MONTHLY;if(o&&m.shouldHideBillingSummary(o.gateway_id,t.subState.plan.productType)?T="":t.nextBillingSummary&&t.finalSubState.billingSchedule&&(T=r.intl.formatMessage({id:"sWfgaw",defaultMessage:"{total} per {period}."},{total:g.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary),period:t.finalSubState.billingSchedule.scheduleDescriptionNoun})),s&&(T=r.intl.formatMessage({id:"E5PyhP",defaultMessage:"Your license key will be activated and no charge made to your payment method on file."}),c||(T=r.intl.formatMessage({id:"Yutfxu",defaultMessage:"This account’s license key will be activated and no charge made to the payment method on file."}))),o&&!m.shouldHideBillingChange(o.gateway_id,o.is_reseller_billing)){var C="";if(this.pendingScheduledChange()&&t.scheduledSubState&&t.scheduledSubState.plan&&t.scheduledSubState.billingSchedule){var P=void 0;if(1024===t.scheduledSubState.plan.specQuotaGb){y=t.scheduledSubState.plan.displayName(!1);P=a.purchased&&!a.scheduled_to_remove?r.intl.formatMessage({id:"L+nrMM",defaultMessage:"Dropbox {plus} + {evh}"},{plus:y,evh:this.evhDisplayName}):r.intl.formatMessage({id:"625HOw",defaultMessage:"Dropbox {plus}"},{plus:y})}else P=t.scheduledSubState.plan.displayName(!0),a.purchased&&!a.scheduled_to_remove&&(P=r.intl.formatMessage({id:"5bCD2a",defaultMessage:"{plus} + {evh}"},{plus:P,evh:this.evhDisplayName}));C=r.intl.formatMessage({id:"HLknNq",defaultMessage:"Starting on {date}, we’ll bill you once a {new_period_noun} for your {plan} plan. Your new {new_period_adj} total will be {new_amount}."},{date:t.formattedNextBillingDate,new_period_noun:t.scheduledSubState.billingSchedule.scheduleDescriptionNoun,plan:P,new_period_adj:t.scheduledSubState.billingSchedule.scheduleDescriptionAdjective,new_amount:g.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary)}),c||(C=r.intl.formatMessage({id:"c9VDND",defaultMessage:"Starting on {date}, we’ll bill this account once a {new_period_noun} for the {plan} plan. This account’s new {new_period_adj} total will be {new_amount}."},{date:t.formattedNextBillingDate,new_period_noun:t.scheduledSubState.billingSchedule.scheduleDescriptionNoun,plan:P,new_period_adj:t.scheduledSubState.billingSchedule.scheduleDescriptionAdjective,new_amount:g.Cash.formatWithTaxLabels(t.nextBillingSummary.total,t.nextBillingSummary)}))}else w?(C=i.default.createElement("span",null,r.intl.formatMessage({id:"2Dd+Nl",defaultMessage:"You’ve got: {quota} of storage | Dropbox Smart Sync | Dropbox Rewind"},{quota:t.subState.plan.longFormSpecQuotaGb}),i.default.createElement("br",null),r.intl.formatMessage({id:"VBWN4P",defaultMessage:"Next billing date: {date}"},{date:t.formattedNextBillingDate}),i.default.createElement("br",null),r.intl.formatMessage({id:"qa8yDr",defaultMessage:"{billing_summary}"},{billing_summary:T})),c||(C=i.default.createElement("span",null,r.intl.formatMessage({id:"r0rpOQ",defaultMessage:"This account’s got: {quota} of storage | Dropbox Smart Sync | Dropbox Rewind"},{quota:t.subState.plan.longFormSpecQuotaGb}),i.default.createElement("br",null),r.intl.formatMessage({id:"VBWN4P",defaultMessage:"Next billing date: {date}"},{date:t.formattedNextBillingDate}),i.default.createElement("br",null),r.intl.formatMessage({id:"qa8yDr",defaultMessage:"{billing_summary}"},{billing_summary:T})))):this.isFamilyPayerPlan()?C=r.intl.formatMessage({id:"X5Qv9O",defaultMessage:"You’re the manager of the {family} plan."},{family:f.displayName()}):this.isFamilyNonPayerPlan()?C=r.intl.formatMessage({id:"w5oksG",defaultMessage:"You’re a member of the {family} plan."},{family:f.displayName()}):(C=r.intl.formatMessage({id:"pO8IP6",defaultMessage:"Your {plan} plan will renew on {date}. {billing_summary}"},{plan:_,date:t.formattedNextBillingDate,billing_summary:T}),c||(C=r.intl.formatMessage({id:"Ofo1Y4",defaultMessage:"This account’s {plan} plan will renew on {date}. {billing_summary}"},{plan:_,date:t.formattedNextBillingDate,billing_summary:T})));v=i.default.createElement("span",{className:"plan-status-section__description-content"},C," ")}if(l){var k=r.intl.formatMessage({id:"DbT6E7",defaultMessage:"Your {plan} will downgrade to Dropbox Basic on {date}."},{plan:_,date:t.formattedNextBillingDate});c||(k=r.intl.formatMessage({id:"KxyGh1",defaultMessage:"This account’s {plan} will downgrade to Dropbox Basic on {date}."},{plan:_,date:t.formattedNextBillingDate})),v=i.default.createElement("span",null,k," ")}if(n){var E=this.getTeamName(),Y=r.intl.formatMessage({id:"X0wsLF",defaultMessage:"You’re a member of the {team_name} Dropbox account."},{team_name:E});c||(Y=r.intl.formatMessage({id:"/IIBtR",defaultMessage:"This account is a member of the {team_name} Dropbox account."},{team_name:E})),S=i.default.createElement("p",{className:"plan-status-section__team_desc"},Y)}!o||m.shouldHideBillingChange(o.gateway_id,o.is_reseller_billing)||this.isInStandardSchedule()||(M=this.renderContactSupportLink()),this.shouldDisplayChangePlan()&&this.isInStandardSchedule()&&!this.isTrialPlan()&&(this.isFamilyNonPayerPlan()?M=this.renderChangePlanButton(this.redirectToPlansPage):(this.isPlusPlan()||this.isProfessionalPlan()||this.isFamilyPayerPlan())&&(M=this.renderChangePlanButton(this.openChangePlanModal))),p&&!l&&(M=this.renderCancelPlanButton()),(this.isFreePlusPlan()||s)&&(M=this.renderContactSupportLink());var N=L.default("plan-status-section",{"plan-status-section--is-plus-monthly":w}),I=w&&!d&&!(o&&m.shouldHideBillingChange(o.gateway_id,o.is_reseller_billing));return D.Experiment(u).isActive?this.renderPlanStatusExpWayfinding(_,M):i.default.createElement("div",null,i.default.createElement("div",{className:N},this.renderDropboxLogo(),i.default.createElement("div",{className:"plan-status-section__description"},i.default.createElement("h1",{className:"plan-status-section__title"},_),S,i.default.createElement("p",{className:"plan-status-section__title_description"},v,!s&&this.renderPlanDetails(),i.default.createElement("br",null),!w&&this.renderBillingPeriod())),M),I&&this.renderSavingsBanner(),w&&this.renderYourNextCharge())}},t.prototype.renderPlanDetails=function(){var e;return e=this.isTaurusPlan()?r.intl.formatMessage({id:"RuKlo2",defaultMessage:"See plan details"}):this.isFamilyPlan()?r.intl.formatMessage({id:"GPqIVb",defaultMessage:"What’s included?"}):r.intl.formatMessage({id:"VEb96o",defaultMessage:"See available plans"}),i.default.createElement("a",{className:"plan-status-section__link",onClick:this.logSeePlanDetails,href:this.plansURL,target:"_blank",rel:"noopener noreferrer"},e)},t.prototype.renderSavingsBanner=function(){var e=this;return v.ProEventsLogger.log("view_savings_banner"),i.default.createElement("div",{className:"savings-banner"},r.intl.formatMessage({id:"Oq3ePo",defaultMessage:"Save up to {save_percentage, number, ::percent .##} when you <a>switch to yearly billing.</a>"},{save_percentage:.17,a:function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return i.default.createElement("a",{href:"#","data-test":"yearly-billing-switch",onClick:e.onSwitchToYearlyBillingClick},t)}}),i.default.createElement("button",{"aria-label":r.intl.formatMessage({id:"Gr+rrZ",defaultMessage:"Dismiss Banner"}),className:"savings-banner__dismiss-btn",onClick:this.onSavingsBannerClose}))},t.prototype.renderYourNextCharge=function(){var e=this.props.subStatus;return e&&e.nextBillingSummary&&e.finalSubState.billingSchedule?i.default.createElement(l.ButtonBlock,{label:r.intl.formatMessage({id:"j+4fzB",defaultMessage:"Your next charge"}),subtext:r.intl.formatMessage({id:"WlIdtS",defaultMessage:"Your Dropbox Plus plan will renew on {date} for {total} per {period}."},{date:e.formattedNextBillingDate,total:g.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),period:e.finalSubState.billingSchedule.scheduleDescriptionNoun}),buttonText:r.intl.formatMessage({id:"k4jW5/",defaultMessage:"Switch to yearly"}),kind:"secondary",buttonAction:{kind:"function",handler:this.onChangeBillingPeriodClick},"data-test":"yearly-billing-switch"}):null},t.prototype.renderTrialSection=function(){var e=this.props,t=e.subStatus,a=e.paymentInfo,n=e.expRetentionAccountWayfinding;if(t&&t.subState&&t.subState.plan&&a){var s=a.gateway_id,o=a.trial_info;if(o){var l=i.default.createElement("noscript",null);m.isIOS(s)||(l=this.createTrialCtaButtons(!o.is_trial_overdue,this.isProfessionalTrial()));var d,u=r.intl.formatMessage({id:"625HOw",defaultMessage:"Dropbox {plus}"},{plus:t.subState.plan.displayName(!1,!1,s)});return o.is_trial_overdue&&(u+=" "+r.intl.formatMessage({id:"yI+MEC",defaultMessage:"(Expired)"})),d=this.isProfessionalTrial()?m.getProfessionalTrialPlanDescription(t):m.getTrialDescription(s,o,t.formattedNextBillingDate),D.Experiment(n).isActive?this.renderPlanStatusExpWayfinding(u,l,d):i.default.createElement("div",{className:"plan-status-section"},this.renderDropboxLogo(),i.default.createElement("div",{className:"plan-status-section__description"},i.default.createElement("h1",{className:"plan-status-section__title"},u),i.default.createElement("p",{className:"plan-status-section__title_description"},d," ",this.isProfessionalTrial()&&i.default.createElement("span",null,this.renderPlanDetails(),i.default.createElement("br",null),this.renderBillingPeriod()))),l)}}},Object.defineProperty(t.prototype,"hasSelfServablePaymentAfterLicensekey",{get:function(){var e=this.props.paymentInfo;return e&&!m.isLicenseKey(e.gateway_id)&&!m.shouldHidePaymentMethod(e.gateway_id)},enumerable:!0,configurable:!0}),t.prototype.renderLicensePlanSection=function(){var e=this.props.subStatus;if(!e||!e.subState||!e.subState.plan)return i.default.createElement("noscript",null);var t=r.intl.formatMessage({id:"625HOw",defaultMessage:"Dropbox {plus}"},{plus:e.subState.plan.displayName()}),a=i.default.createElement("noscript",null);if(this.props.hasUnusedLicenseKey){var n=r.intl.formatMessage({id:"jQ1eDP",defaultMessage:"Your Dropbox {plus} plan was activated with a license key. Your next license key will be activated on {date}."},{plus:S.TRADEMARK_PLUS,date:e.formattedNextBillingDate});this.props.isLoggedInAsTransactionOwner||(n=r.intl.formatMessage({id:"yXjZBq",defaultMessage:"This Dropbox {plus} plan was activated with a license key. The next license key will be activated on {date}."},{plus:S.TRADEMARK_PLUS,date:e.formattedNextBillingDate}));var s=i.default.createElement("noscript",null);if(this.hasSelfServablePaymentAfterLicensekey)s=i.default.createElement("div",null,r.intl.formatMessage({id:"flOh9z",defaultMessage:"No charge made to your payment method on file."})),this.props.isLoggedInAsTransactionOwner||(s=i.default.createElement("div",null,r.intl.formatMessage({id:"c1bGK9",defaultMessage:"No charge made to the payment method on file."})));else{var o=r.intl.formatMessage({id:"nswDHh",defaultMessage:"You can add your payment information now to have your subscription automatically renew when your keys expire."});this.props.isLoggedInAsTransactionOwner||(o=r.intl.formatMessage({id:"/Xs7Nm",defaultMessage:"The account owner can add payment information now to have this subscription automatically renew when the keys expire."})),s=i.default.createElement("div",null,o,i.default.createElement("br",null),i.default.createElement("a",{href:"#",onClick:this.addPaymentClick},r.intl.formatMessage({id:"2zkZ/z",defaultMessage:"Add payment method."})))}a=i.default.createElement("div",null,n,i.default.createElement("br",null),s)}else if(this.hasSelfServablePaymentAfterLicensekey&&!this.props.scheduledForDowngrade){var l=e.scheduledSubState.billingSchedule.scheduleDescriptionNoun,d=r.intl.formatMessage({id:"QoelR9",defaultMessage:"Your Dropbox {plus} plan was activated with a license key. The plan will renew on {date}."},{plus:S.TRADEMARK_PLUS,date:e.formattedNextBillingDate}),u=r.intl.formatMessage({id:"DrEa0N",defaultMessage:"{new_total} per {new_period} will be charged to your payment method on file."},{new_total:g.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),new_period:l});this.props.isLoggedInAsTransactionOwner||(d=r.intl.formatMessage({id:"kQDw1e",defaultMessage:"This Dropbox {plus} plan was activated with a license key. The plan will renew on {date}."},{plus:S.TRADEMARK_PLUS,date:e.formattedNextBillingDate}),u=r.intl.formatMessage({id:"xhxvHj",defaultMessage:"{new_total} per {new_period} will be charged to the payment method on file."},{new_total:g.Cash.formatWithTaxLabels(e.nextBillingSummary.total,e.nextBillingSummary),new_period:l})),a=i.default.createElement("div",null,d,i.default.createElement("br",null),u,i.default.createElement("br",null),this.renderBillingPeriod())}else{d=r.intl.formatMessage({id:"6ejtCb",defaultMessage:"Your Dropbox {plus} plan was activated with a license key. The plan is active until {date}."},{plus:S.TRADEMARK_PLUS,date:e.formattedNextBillingDate});var c=r.intl.formatMessage({id:"vNTGeR",defaultMessage:"You can add your payment information now to have your subscription automatically renew when it expires."});this.props.isLoggedInAsTransactionOwner||(d=r.intl.formatMessage({id:"uTD2X0",defaultMessage:"This account’s Dropbox {plus} plan was activated with a license key. The plan is active until {date}."},{plus:S.TRADEMARK_PLUS,date:e.formattedNextBillingDate}),c=r.intl.formatMessage({id:"fEZEwT",defaultMessage:"The account owner can add payment information now to have this subscription automatically renew when it expires."})),a=i.default.createElement("div",null,d,i.default.createElement("br",null),c,i.default.createElement("br",null),i.default.createElement("a",{href:"#",onClick:this.addPaymentClick},r.intl.formatMessage({id:"fSZaj1",defaultMessage:"Add payment method."})))}return i.default.createElement("div",{className:"plan-status-section"},this.renderDropboxLogo(),i.default.createElement("div",{className:"plan-status-section__description"},i.default.createElement("h1",{className:"plan-status-section__title"},t),i.default.createElement("p",{className:"plan-status-section__title_description"},a)),this.renderContactSupportLink())},t.prototype.render1TBChangeablePlan=function(){var e=this.props,t=e.subStatus,a=e.paymentInfo,n=e.scheduledForDowngrade;if(!t||!t.subState||!t.subState.plan)return i.default.createElement("noscript",null);var s=t.subState.plan.displayName(!0),o="";t.subState.billingSchedule&&t.subState.billingSchedule.scheduleDescriptionNoun&&t.currentBillingSummary&&t.currentBillingSummary.total&&(o=r.intl.formatMessage({id:"fRlyEz",defaultMessage:"{total} per {period}."},{total:g.Cash.formatWithTaxLabels(t.currentBillingSummary.total,t.currentBillingSummary),period:t.subState.billingSchedule.scheduleDescriptionNoun}));var l=i.default.createElement("noscript",null);if(a&&!m.shouldHideBillingChange(a.gateway_id,a.is_reseller_billing)){var d=r.intl.formatMessage({id:"BIh4SD",defaultMessage:"Your {plan} plan will renew on {date}. {billing_summary}"},{plan:s,date:t.formattedNextBillingDate,billing_summary:o});this.props.isLoggedInAsTransactionOwner||(d=r.intl.formatMessage({id:"E6SULc",defaultMessage:"This account’s {plan} plan will renew on {date}. {billing_summary}"},{plan:s,date:t.formattedNextBillingDate,billing_summary:o})),l=i.default.createElement("span",null,d)}if(n){var u=r.intl.formatMessage({id:"Ul0kIv",defaultMessage:"Your {plan} will downgrade to Dropbox Basic on {date}. {billing_summary}"},{plan:s,date:t.formattedNextBillingDate,billing_summary:o});this.props.isLoggedInAsTransactionOwner||(u=r.intl.formatMessage({id:"+pnXuI",defaultMessage:"This account’s {plan} will downgrade to Dropbox Basic on {date}. {billing_summary}"},{plan:s,date:t.formattedNextBillingDate,billing_summary:o})),l=i.default.createElement("span",null,u)}var c=this.renderContactSupportLink();return i.default.createElement("div",{className:"plan-status-section"},this.renderDropboxLogo(),i.default.createElement("div",{className:"plan-status-section__description"},i.default.createElement("h1",{className:"plan-status-section__title"},s),i.default.createElement("p",{className:"plan-status-section__title_description"},l,i.default.createElement("br",null),this.renderBillingPeriod())),c)},t.prototype.renderPlanSection=function(){var e=this.props,t=e.subStatus,a=e.isExternallyBilled,n=e.paymentInfo,i=e.isLimitedTeam,s=e.eligibleFor1tb;return this.showBasicPlanWithTrial()?this.renderBasicPlanSection():s?this.render1TBChangeablePlan():a&&void 0!==n&&null!==n.reseller_name?this.renderResellerPlan():a&&i&&void 0!==n&&n.gateway_id===p.NOT_APPLICABLE?void 0:t&&t.subState.plan&&[b.ProductFamily.PRO,b.ProductFamily.FAMILY].includes(t.subState.plan.productFamily)?this.isTrialPlan()?this.renderTrialSection():this.isLicensePlan()?this.renderLicensePlanSection():this.renderPaidPlanSection():this.renderBasicPlanSection()},t.prototype.render=function(){var e=this.props,t=e.isPersonalUser,a=e.isLimitedTeam,n=t||a?this.renderPlanSection():this.renderBusinessPlanSection();return i.default.createElement("div",{className:"plan-status"},n)},t})(i.default.Component);t.PlanStatus=R})),define("modules/clean/account_page/widgets/plan/views/update_billing_info_link",["require","exports","tslib","react","modules/core/i18n","dig-components/buttons"],(function(e,t,a,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updateBillingInfo=function(e){var a=t.props.updateBillingCTA;e.stopPropagation(),e.preventDefault(),a(e)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.className;return e.isRedesignedModal?n.default.createElement(s.Button,{variant:"transparent",onClick:this.updateBillingInfo},i.intl.formatMessage({id:"LcZnrF",defaultMessage:"Update billing info"})):n.default.createElement("a",{key:"updateBillingInfo",className:t||"",href:"#",onClick:this.updateBillingInfo},i.intl.formatMessage({id:"ipgitK",defaultMessage:"Update billing information"}))},t})((n=a.__importDefault(n)).default.Component);t.UpdateBillingInfo=o})),define("modules/clean/account_page/widgets/plan/views/retention_policy_modal",["require","exports","tslib","react","spectrum/button","modules/clean/react/image","modules/clean/bem","modules/clean/react/css","classnames"],(function(e,t,a,n,i,s,o,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),l=a.__importDefault(l);var d=o.bem("other-options-modal"),u=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.description,o=e.imageAlt,r=e.src,u=e.srcHiRes,c=e.primaryAction,m=e.secondaryAction,p=e.onPrimaryAction,_=e.onSecondaryAction,f=e.valuePropositions,g=e.tagline;return n.default.createElement("div",{className:d("container")},n.default.createElement(s.Image,{alt:o,className:d("image"),src:r,srcHiRes:u}),n.default.createElement("h1",{className:l.default(d("title"))},t),n.default.createElement("p",{className:d("description")},a),n.default.createElement("ul",{className:d("value-propositions")},f.map((function(e,t){return n.default.createElement("li",{key:"value-prop-"+t,className:d("value-proposition")},e)}))),g&&n.default.createElement("p",{className:d("tagline")},g),n.default.createElement("div",{className:d("buttons")},n.default.createElement(i.Button,{className:l.default(d("modal-cta")),variant:"primary",onClick:p},c),n.default.createElement("a",{className:d("cancel-cta"),href:"#",onClick:_},m)))},t})(n.default.PureComponent);t.RetentionPolicyModal=r.requireCssWithComponent(u,["/static/css/account/pagelet/retention_policy_modal-vfl2K4b0x.css"])})),define("modules/clean/account_page/widgets/plan/views/montana/common",["require","exports","tslib","modules/clean/payments/skus/subscription_status","modules/clean/payments/skus/constants","modules/clean/analytics","modules/clean/api_v2/user_client","modules/core/browser","modules/clean/account_page/util","modules/clean/ajax_as_promised","modules/clean/payments/skus/subscription_change_plan","modules/clean/ts_utils"],(function(e,t,a,n,i,s,o,r,l,d,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=a.__importStar(r);var m,p;function _(e){return e===i.ProductPlanType.STANDARD||e===i.ProductPlanType.PLUS?p.PLUS:e===i.ProductPlanType.PROFESSIONAL?p.PROFESSIONAL:p.OTHER}function f(e,t){return e.getTime()>=t.getTime()}function g(e,t){var a=new Date(e.getTime());return a.setDate(e.getDate()+t),a}function h(e){var t=!1,a=!1,n=!1,i=!1,s=!1,o=new Date(e.now);if(e.montanaAnnouncementDate){var r=new Date(e.montanaAnnouncementDate),l=g(r,60);s=(t=f(o,r))&&!f(o,l)}e.usersMontanaMigrationDate&&(a=f(o,new Date(e.usersMontanaMigrationDate)));if(e.usersFirstMontanaRebillDate){var d=new Date(e.usersFirstMontanaRebillDate),u=g(d,60);n=f(o,d),i=f(o,u)}return{isWithinProfessionalRecourseWindow:s,isAfterMontanaAnnouncement:t,isAfterMontanaMigration:a,isAfterFirstMontanaRebill:n,isAfterSixtyDaysPastMontanaFirstRebill:i}}(function(e){e[e.GRACE=0]="GRACE",e[e.RECOURSE=1]="RECOURSE",e[e.INVALID=2]="INVALID"})(m=t.MontanaPeriod||(t.MontanaPeriod={})),(function(e){e[e.PLUS=0]="PLUS",e[e.PROFESSIONAL=1]="PROFESSIONAL",e[e.OTHER=2]="OTHER"})(p=t.MontanaProductPlanType||(t.MontanaProductPlanType={})),(function(e){e[e.DEPROVISION_WITH_FULL_REFUND=1]="DEPROVISION_WITH_FULL_REFUND",e[e.PROF_TO_PLUS_WITH_PRORATED_REFUND=2]="PROF_TO_PLUS_WITH_PRORATED_REFUND",e[e.MONTANA_OLD_PRICE_PROMO=3]="MONTANA_OLD_PRICE_PROMO",e[e.REFUND_MIGRATION_DELTA=4]="REFUND_MIGRATION_DELTA"})(t.MontanaRetentionPolicy||(t.MontanaRetentionPolicy={})),t.getMontanaPeriod=function(e,t,a,n,s){if(!e.subState||!e.subState.plan)return m.INVALID;var o=h({montanaAnnouncementDate:t,usersMontanaMigrationDate:a,usersFirstMontanaRebillDate:n,now:s}),r=o.isWithinProfessionalRecourseWindow,l=o.isAfterSixtyDaysPastMontanaFirstRebill,d=o.isAfterMontanaMigration,u=o.isAfterFirstMontanaRebill,c=e.subState.billingSchedule.id===i.ScheduleId.YEARLY,f=_(e.subState.plan.productType),g=f===p.PLUS,y=f===p.PROFESSIONAL;if(g){if(d&&!u)return m.GRACE;if(d&&u&&!l)return m.RECOURSE}else if(y&&c&&r)return u?m.RECOURSE:m.GRACE;return m.INVALID},t.getMontanaProductPlanType=_,t.getMontanaDateBooleans=h,t.isValidMontanaUserState=function(e,t){var a=t.montanaAnnouncementDate,n=t.usersMontanaMigrationDate,i=t.usersFirstMontanaRebillDate,s=t.now;if(!e.subState||!e.subState.plan)return!1;var o=_(e.subState.plan.productType),r=o===p.PLUS,l=o===p.PROFESSIONAL,d=h({montanaAnnouncementDate:a,usersMontanaMigrationDate:n,usersFirstMontanaRebillDate:i,now:s}),u=d.isWithinProfessionalRecourseWindow,c=d.isAfterSixtyDaysPastMontanaFirstRebill,m=d.isAfterMontanaMigration,f=d.isAfterMontanaAnnouncement;return r&&f&&m&&!c||u&&l};var y=(function(){function e(e){var t=this;switch(this.log=function(e,n){void 0===n&&(n={});var i=t.planName+"_"+t.billingSchedule+"_"+e;s.ProEventsLogger.log(i,a.__assign({project:"montana",path:r.get_uri().getPath()},n))},e.billingScheduleId){case i.ScheduleId.MONTHLY:this.billingSchedule="monthly";break;case i.ScheduleId.YEARLY:this.billingSchedule="yearly";break;case i.ScheduleId.TRIAL:case i.ScheduleId.TRIAL_15_DAYS:case i.ScheduleId.YEARLY_WITH_MONTHLY_BILLING:case i.ScheduleId.TWO_YEARS:case i.ScheduleId.THREE_YEARS:case i.ScheduleId.FIVE_YEARS:this.billingSchedule="other";break;default:c.enforceExhaustive(e.billingScheduleId)}var n=_(e.planType);switch(n){case p.PLUS:this.planName="plus";break;case p.PROFESSIONAL:this.planName="pro";break;case p.OTHER:this.planName="other";break;default:c.enforceExhaustive(n)}}return e.initialize=function(t){this.instance=new e(t)},e.logEvent=function(e,t){if(void 0===t&&(t={}),!this.isInitialized())throw new Error("Initialize logger first");this.instance.log(e,t)},e.isInitialized=function(){return Boolean(this.instance)},e})();t.MontanaLogger=y,t.applyRetentionPolicy=function(e){return(new o.UserApiV2Client).ns("retention_policy").rpc("apply_retention_policy_for_user",{policy_id:e},{subjectUserId:l.getCurrentUser().id})},t.getRetentionPolicy=function(){return(new o.UserApiV2Client).ns("retention_policy").rpc("get_retention_policies_for_user",void 0,{subjectUserId:l.getCurrentUser().id})},t.getMontanaPrices=function(e){var t="/account/ajax_change_plan";return e&&(t="/account/ajax_change_plan_schedule"),d.WebRequest({url:t,subject_user:l.getCurrentUser().id}).then((function(e){var t=JSON.parse(e),a=n.SubscriptionStatus.deserialize(t.serializedSubStatus);return t.serializedSubChangePlans.map((function(e){return u.SubscriptionChangePlan.deserialize(e)})).map((function(e){return e})).filter((function(e){return!!(e.finalSubState.plan&&a.subState.plan&&a.finalSubState.plan&&a.finalSubState.billingSchedule)})).map((function(e){return{subStatus:e,price:e.finalSubState.plan.displayCost}}))}))}})),define("modules/clean/account_page/widgets/plan/views/montana/loading_modal",["require","exports","tslib","react","modules/core/i18n","modules/clean/static_urls","spectrum/modal"],(function(e,t,a,n,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),t.LoadingModal=function(){return n.default.createElement(o.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:i.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"}),displayCloseButton:!1,open:!0,height:520,width:640},n.default.createElement("div",{className:"loading-indicator"},n.default.createElement("div",{className:"loading-indicator__text"},i.intl.formatMessage({id:"6PM0ZR",defaultMessage:"Loading account details..."})),n.default.createElement("img",{src:s.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:i.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"})})))}})),define("modules/clean/account_page/widgets/plan/views/montana/montana_cancel_confirmation_modal",["require","exports","tslib","react","spectrum/button","spectrum/modal","modules/clean/ux_analytics_utils","modules/clean/react/css","modules/clean/react/image","modules/clean/ux_analytics_modal_tracking","modules/clean/static_urls","modules/core/i18n","spectrum/checkbox","modules/clean/payments/skus/sku_content","modules/core/notify","modules/clean/ajax","modules/clean/api_v2/user_client","modules/clean/account_page/util","modules/clean/account_page/widgets/plan/views/montana/common"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f,g,h,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),f=a.__importStar(f);var M=(function(e){function t(t){var a=e.call(this,t)||this;return a.onPrimaryAction=function(){var e=a.props,t=e.nextModal,n=e.modalFlowState.immediateCancelAndRefund;(y.MontanaLogger.logEvent("cancel_click",{featureType:"confirm_cancel",cta:"confirm_cancellation"}),a.submittingRequest(),n)?(new g.UserApiV2Client).ns("retention_policy").rpc("apply_retention_policy_for_user",{policy_id:1},{subjectUserId:h.getCurrentUser().id}).then((function(e){t(),a.doneSubmittingRequest()}),(function(e){_.Notify.error(c.intl.formatMessage({id:"YtbxKk",defaultMessage:"There was an issue, please contact Customer Support."})),a.doneSubmittingRequest()})):f.WebRequest({url:"/downgrade/process",type:"POST",data:{montana_schedule_downgrade:!0},dataType:"json",success:function(){t()},error:function(){_.Notify.error(c.intl.formatMessage({id:"gP2Vx3",defaultMessage:"Failed to cancel subscription."}))},complete:function(){a.doneSubmittingRequest()}})},a.onSecondaryAction=function(){var e=a.props.prevModal;y.MontanaLogger.logEvent("cancel_click",{featureType:"confirm_cancel",cta:"back"}),e()},a.closeModal=function(){var e=a.props.exitModalFlow;y.MontanaLogger.logEvent("cancel_dismiss",{featureType:"confirm_cancel"}),o.dispatchModalClosed(),e()},a.title=function(){return n.default.createElement("h1",{className:"cancel-confirmation-modal__title"},c.intl.formatMessage({id:"a9XQ6W",defaultMessage:"Here’s what you should know"}))},a.currentPlanInfo=function(e,t){var i=p.SkuContentClient.deserialize(a.props.basicSerializedSkuContent),s=e?c.intl.formatMessage({id:"OLsFOF",defaultMessage:"If you cancel your plan, you’ll be downgraded to {basic_plan} as soon as you confirm below. No new charges will occur."},{basic_plan:i.dropboxDisplayName()}):c.intl.formatMessage({id:"AQLDj4",defaultMessage:"If you cancel your plan, you’ll be downgraded to {basic_plan} on {date}. No new charges will occur."},{date:t,basic_plan:i.dropboxDisplayName()});return n.default.createElement("p",{className:"cancel-confirmation-modal__description"},s)},a.handleChange=function(){a.state.disableContinue&&y.MontanaLogger.logEvent("cancel_click",{featureType:"confirm_cancel",cta:"understand_check"}),a.setState({disableContinue:!a.state.disableContinue})},a.finalConfirmationRow=function(e,t){var i=e?c.intl.formatMessage({id:"7lfS47",defaultMessage:"I understand that these changes will go into effect immediately."}):c.intl.formatMessage({id:"0xvP4J",defaultMessage:"I understand that these changes will go into effect starting {date}."},{date:t}),s="cancel-confirmation-modal__confirm-row";return n.default.createElement("label",{className:s+" "+s+"--clickable"},n.default.createElement(m.Checkbox,{className:"cancel-confirmation-modal__checkbox",checked:a.state.disableContinue?"unchecked":"checked",onChange:a.handleChange}),n.default.createElement("div",{className:"cancel-confirmation-modal__confirmation-message"},i))},a.afterCancellationList=function(){var e=a.props,t=e.subStatus,i=e.basicSerializedSkuContent,s=p.SkuContentClient.deserialize(i),o=c.intl.formatMessage({id:"Pv/DFS",defaultMessage:"<strong>Your storage will decrease from {space} to {basic_quota}.</strong>"},{space:t.subState.content.totalSpaceLongFormRounded(),basic_quota:s.spaceShortFormGbRounded(),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}),r=c.intl.formatMessage({id:"WB6Y5v",defaultMessage:"File uploads and syncing will stop working if your files take up more space than your storage allows."}),d=c.intl.formatMessage({id:"Lo6mLy",defaultMessage:"<strong>You won’t be able to access advanced file-syncing features</strong>, such as Dropbox Smart Sync."},{strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}),m=c.intl.formatMessage({id:"fmCrmM",defaultMessage:"<strong>Syncing will be limited to only 3 devices</strong>, and you’ll lose access to other {plan} features, such as remote device wipe."},{plan:t.subState.plan.content.dropboxDisplayName(),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}});return n.default.createElement("div",{className:"after-cancellation-list"},n.default.createElement("div",{className:"after-cancellation-list-item"},n.default.createElement("div",{className:"after-cancellation-list-item__icon_wrapper"},n.default.createElement(l.Image,{alt:"Cancellation warning",className:"after-cancellation-list-item__icon",src:u.static_url("/static/images/montana/montana-warning-vfl-Ks6cO.png"),srcHiRes:u.static_url("/static/images/montana/montana-warning@2x-vflJMUkQS.png")})),n.default.createElement("div",{className:"after-cancellation-list-item__content"},n.default.createElement("div",{className:"after-cancellation-list-item__content_col1"},o),n.default.createElement("div",{className:"after-cancellation-list-item__content_col1"},r))),n.default.createElement("div",{className:"after-cancellation-list-item"},n.default.createElement("div",{className:"after-cancellation-list-item__icon_wrapper"},n.default.createElement(l.Image,{alt:"Cancellation warning",className:"after-cancellation-list-item__icon",src:u.static_url("/static/images/montana/montana-warning-vfl-Ks6cO.png"),srcHiRes:u.static_url("/static/images/montana/montana-warning@2x-vflJMUkQS.png")})),n.default.createElement("div",{className:"after-cancellation-list-item__content"},d)),n.default.createElement("div",{className:"after-cancellation-list-item"},n.default.createElement("div",{className:"after-cancellation-list-item__icon_wrapper"},n.default.createElement(l.Image,{alt:"Cancellation warning",className:"after-cancellation-list-item__icon",src:u.static_url("/static/images/montana/montana-warning-vfl-Ks6cO.png"),srcHiRes:u.static_url("/static/images/montana/montana-warning@2x-vflJMUkQS.png")})),n.default.createElement("div",{className:"after-cancellation-list-item__content"},m)))},a.buttons=function(){var e=a.state,t=e.submitting,s=e.disableContinue;return t?n.default.createElement("div",{className:"cancel-confirmation-modal__buttons"},n.default.createElement("div",{className:"loading-indicator"},n.default.createElement("img",{src:u.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:c.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"})}))):n.default.createElement("div",{className:"cancel-confirmation-modal__buttons"},n.default.createElement(i.Button,{className:"cancel-confirmation-modal__modal-cta",variant:"secondary",onClick:a.onSecondaryAction},c.intl.formatMessage({id:"tSs2ty",defaultMessage:"Back"})),n.default.createElement(i.Button,{className:"cancel-confirmation-modal__modal-cta",variant:"primary",onClick:a.onPrimaryAction,disabled:s},c.intl.formatMessage({id:"8K3hF3",defaultMessage:"Confirm cancellation"})))},a.state={disableContinue:!0,submitting:!1},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){y.MontanaLogger.logEvent("cancel_view",{featureType:"confirm_cancel"})},t.prototype.submittingRequest=function(){this.setState({submitting:!0})},t.prototype.doneSubmittingRequest=function(){this.setState({submitting:!1})},t.prototype.render=function(){var e=this.props,t=e.subStatus,a=e.modalFlowState.immediateCancelAndRefund;return n.default.createElement(s.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:c.intl.formatMessage({id:"iW1Edu",defaultMessage:"Cancel confirmation"}),className:"cancel-confirmation-modal",displayCloseButton:!0,onReady:o.dispatchModalOpened,onRequestClose:this.closeModal,open:!0},n.default.createElement(d.UXAnalyticsModalTracking,{id:"cancel-confirmation-modal"}),n.default.createElement("div",{className:"cancel-confirmation-modal__container"},this.title(),this.currentPlanInfo(a,t.formattedNextBillingDate),this.afterCancellationList(),this.finalConfirmationRow(a,t.formattedNextBillingDate),this.buttons()))},t})(n.default.Component);t.CancelConfirmationModal=r.requireCssWithComponent(M,["/static/css/account/pagelet/montana_cancel_confirmation_modal-vfl18GN7s.css"])})),define("modules/clean/account_page/widgets/plan/views/montana/montana_cancel_schedule_modal",["require","exports","tslib","react","spectrum/button","spectrum/modal","modules/clean/ux_analytics_utils","modules/clean/react/css","modules/clean/payments/skus/constants","modules/clean/ux_analytics_modal_tracking","modules/core/i18n","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item","modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list","modules/constants/trademark","modules/clean/account_page/widgets/plan/views/montana/common"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=(function(e){function t(t){var a=e.call(this,t)||this;a.onPrimaryAction=function(){var e,t=a.props.nextModal,n=a.state.immediateCancelAndRefund;e=a.state.immediateCancelAndRefund?{featureType:"recourse_cancel_refund",cta:"continue",radio:"immediate"}:{featureType:"recourse_cancel_refund",cta:"continue",radio:"scheduled"},_.MontanaLogger.logEvent("cancel_click",e),t({immediateCancelAndRefund:n})},a.onSecondaryAction=function(){var e=a.props.prevModal;_.MontanaLogger.logEvent("cancel_click",{featureType:"recourse_cancel_refund",cta:"back"}),e()},a.closeModal=function(){var e=a.props.exitModalFlow;_.MontanaLogger.logEvent("cancel_dismiss",{featureType:"recourse_cancel_refund"}),o.dispatchModalClosed(),e()},a.title=function(){return n.default.createElement("h1",{className:"cancel-schedule-modal__title"},u.intl.formatMessage({id:"i2ok66",defaultMessage:"When do you want to cancel?"}))},a.setImmediateCancelAndRefund=function(){a.setState({immediateCancelAndRefund:!0})},a.setScheduledCancellation=function(){a.setState({immediateCancelAndRefund:!1})},a.scheduleOptions=function(){var e=a.state.immediateCancelAndRefund,t=a.props.subStatus.formattedNextBillingDate,i=a.props.subStatus.subState.billingSchedule.id,s=u.intl.formatMessage({id:"nLI4OC",defaultMessage:"Cancel now and refund me"});return i===l.ScheduleId.MONTHLY&&(s=u.intl.formatMessage({id:"pjwgWp",defaultMessage:"Cancel now and refund me one month"})),n.default.createElement(m.AdminPricedList,null,n.default.createElement(c.AdminPricedListItem,{isSelected:!e,title:u.intl.formatMessage({id:"/TTvVl",defaultMessage:"Cancel on my next renewal"}),description:u.intl.formatMessage({id:"JZSedM",defaultMessage:"You’ll have access to all {plan} features until {date}."},{plan:p.DROPBOX_PLUS,date:t}),onClick:a.setScheduledCancellation,disableItem:!1,recommended:!0,effectiveDate:u.intl.formatMessage({id:"3ejGH6",defaultMessage:"{date}"},{date:t})}),n.default.createElement(c.AdminPricedListItem,{isSelected:e,title:s,description:u.intl.formatMessage({id:"JyQ/eN",defaultMessage:"You’ll instantly lose access to {plan} features and storage."},{plan:p.DROPBOX_PLUS}),onClick:a.setImmediateCancelAndRefund,disableItem:!1,effectiveDate:u.intl.formatMessage({id:"47ggQF",defaultMessage:"Now"})}))};var i=t.modalFlowState.immediateCancelAndRefund;return a.state={immediateCancelAndRefund:i},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){_.MontanaLogger.logEvent("cancel_view",{featureType:"recourse_cancel_refund"})},t.prototype.render=function(){return n.default.createElement(s.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:u.intl.formatMessage({id:"4JaAuT",defaultMessage:"Cancel schedule"}),className:"cancel-schedule-modal",displayCloseButton:!0,onReady:o.dispatchModalOpened,onRequestClose:this.closeModal,open:!0},n.default.createElement(d.UXAnalyticsModalTracking,{id:"cancel-schedule-modal"}),n.default.createElement("div",{className:"cancel-schedule-modal__container"},this.title(),n.default.createElement("div",{className:"cancel-schedule-modal__schedule-options"},this.scheduleOptions()),n.default.createElement("div",{className:"cancel-schedule-modal__buttons"},n.default.createElement(i.Button,{className:"cancel-schedule-modal__modal-cta",variant:"secondary",onClick:this.onSecondaryAction},u.intl.formatMessage({id:"tSs2ty",defaultMessage:"Back"})),n.default.createElement(i.Button,{className:"cancel-schedule-modal__modal-cta",variant:"primary",onClick:this.onPrimaryAction},u.intl.formatMessage({id:"LgJiOW",defaultMessage:"Continue"})))))},t})((n=a.__importDefault(n)).default.Component);t.CancelScheduleModal=r.requireCssWithComponent(f,["/static/css/account/pagelet/montana_cancel_schedule_modal-vfldFbE7R.css"])})),define("modules/clean/account_page/widgets/plan/views/montana/montana_cancel_success_modal",["require","exports","tslib","react","spectrum/button","spectrum/modal","modules/core/browser","modules/clean/ux_analytics_utils","modules/clean/react/css","modules/clean/ux_analytics_modal_tracking","modules/core/i18n","modules/clean/payments/skus/sku_content","modules/clean/account_page/constants","modules/core/notify","modules/clean/ajax","modules/clean/account_page/util","modules/clean/static_urls","modules/clean/payments/skus/constants","modules/clean/account_page/widgets/plan/views/montana/common"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f,g,h,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),o=a.__importStar(o),_=a.__importStar(_);var M=(function(e){function t(t){var a=e.call(this,t)||this;return a.onPrimaryAction=function(){var e=a.props.nextModal;y.MontanaLogger.logEvent("cancel_click",{featureType:"cancel_success",cta:"close"}),e()},a.onSecondaryAction=function(){var e=a.props.exitModalFlow;y.MontanaLogger.logEvent("cancel_click",{featureType:"cancel_success",cta:"undo_cancel_request"});var t=f.getCurrentUser().id;a.submittingRequest(),_.WebRequest({url:"/account/ajax_cancel_scheduled_change",data:{scheduled_change_type:m.CancellationType.IND_SUBSCRIPTION},subject_user:t,success:function(e){p.Notify.success(u.intl.formatMessage({id:"PyuHCN",defaultMessage:"You’ve canceled your change!"}))},error:function(){p.Notify.error(u.intl.formatMessage({id:"iQ7Rjk",defaultMessage:"Failed to cancel changes."}))},complete:function(){a.doneSubmittingRequest(),e()}})},a.closeModal=function(){var e=a.props.exitModalFlow;y.MontanaLogger.logEvent("cancel_dismiss",{featureType:"cancel_success"}),r.dispatchModalClosed(),e(),o.reload()},a.title=function(){var e=a.props.modalFlowState.immediateCancelAndRefund?u.intl.formatMessage({id:"Gt+mgY",defaultMessage:"You’ve successfully canceled your plan"}):u.intl.formatMessage({id:"QXV4Cd",defaultMessage:"You’ve successfully scheduled your cancellation"});return n.default.createElement("h1",{className:"cancel-success-modal__title"},e)},a.cancellationSummary=function(){var e=a.props.subStatus.subState.plan.productType===h.ProductPlanType.PROFESSIONAL?c.SkuContentClient.deserialize(a.props.professionalSerializedSkuContent):c.SkuContentClient.deserialize(a.props.plusSerializedSkuContent),t=c.SkuContentClient.deserialize(a.props.basicSerializedSkuContent),i=a.props.subStatus.formattedNextBillingDate,s=a.props.modalFlowState.immediateCancelAndRefund?u.intl.formatMessage({id:"2j/ALW",defaultMessage:"<strong>You’ll receive a refund to your preferred payment method. </strong> Contact your financial institution if it takes longer than a few days for the refund to show up."},{strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}}):u.intl.formatMessage({id:"qfmWjb",defaultMessage:"<strong>Your account will downgrade from {current_plan} to {basic_plan} on {date}.</strong> This change may take a moment to show in your account settings."},{current_plan:e.dropboxDisplayName(),basic_plan:t.dropboxDisplayName(),date:i,strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)}});return n.default.createElement("div",{className:"cancel-success-modal__description"},n.default.createElement("div",{className:"cancel-success-modal__confirmation-message"},s))},a.afterCancellationList=function(){var e=c.SkuContentClient.deserialize(a.props.basicSerializedSkuContent);return n.default.createElement("ul",{className:"after-cancellation-list"},n.default.createElement("li",{className:"after-cancellation-list__item"},u.intl.formatMessage({id:"aPV4ee",defaultMessage:"Your storage space will decrease to {basic_quota}"},{basic_quota:e.spaceShortFormGbRounded()})),n.default.createElement("li",{className:"after-cancellation-list__item"},u.intl.formatMessage({id:"+lRSgk",defaultMessage:"Syncing will be limited to only 3 devices"})),n.default.createElement("li",{className:"after-cancellation-list__item"},u.intl.formatMessage({id:"Xe36/2",defaultMessage:"You’ll lose access to Dropbox Smart Sync and other features"})))},a.state={submitting:!1},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){y.MontanaLogger.logEvent("cancel_view",{featureType:"cancel_success"})},t.prototype.submittingRequest=function(){this.setState({submitting:!0})},t.prototype.doneSubmittingRequest=function(){this.setState({submitting:!1})},t.prototype.render=function(){var e=this.state.submitting?n.default.createElement("div",{className:"cancel-success-modal__buttons"},n.default.createElement("div",{className:"loading-indicator"},n.default.createElement("img",{src:g.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:u.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"})}))):n.default.createElement("div",{className:"cancel-success-modal__buttons"},!this.props.modalFlowState.immediateCancelAndRefund&&n.default.createElement(i.Button,{className:"cancel-success-modal__modal-cta",variant:"secondary",onClick:this.onSecondaryAction},u.intl.formatMessage({id:"NQyI/P",defaultMessage:"Undo cancel"})),n.default.createElement(i.Button,{className:"cancel-success-modal__modal-cta",variant:"primary",onClick:this.onPrimaryAction},u.intl.formatMessage({id:"u/p3Pl",defaultMessage:"Close"})));return n.default.createElement(s.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:u.intl.formatMessage({id:"5sCnU3",defaultMessage:"Cancel success"}),className:"cancel-success-modal",displayCloseButton:!0,onReady:r.dispatchModalOpened,onRequestClose:this.closeModal,open:!0},n.default.createElement(d.UXAnalyticsModalTracking,{id:"cancel-success-modal"}),n.default.createElement("div",{className:"cancel-success-modal__container"},this.title(),this.cancellationSummary(),this.afterCancellationList(),n.default.createElement("div",{className:"cancel-success-modal__undo_message"},u.intl.formatMessage({id:"RByPnX",defaultMessage:"If you change your mind, you can undo your request below or resume your subscription at any time from account settings."})),e))},t})(n.default.Component);t.CancelSuccessModal=l.requireCssWithComponent(M,["/static/css/account/pagelet/montana_cancel_success_modal-vflJ1FJz5.css"])})),define("modules/clean/account_page/widgets/plan/views/montana/montana_modal_flow",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/snackbar","modules/clean/account_page/widgets/plan/views/montana/montana_other_options_modal","modules/clean/account_page/widgets/plan/views/montana/montana_cancel_schedule_modal","modules/clean/account_page/widgets/plan/views/montana/montana_cancel_confirmation_modal","modules/clean/account_page/widgets/plan/views/montana/montana_cancel_success_modal","modules/clean/account_page/widgets/plan/views/individual_cancel_survey/individual_cancel_survey_modal","modules/clean/account_page/widgets/plan/views/montana/common","modules/clean/react/modal_flow","modules/clean/account_page/widgets/plan/views/montana/loading_modal","modules/clean/payments/skus/constants"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=(function(e){function t(t){var a=e.call(this,t)||this;if(a.state={loading:!0},!c.MontanaLogger.isInitialized()){var n={billingScheduleId:t.subStatus.subState.billingSchedule.id,planType:t.subStatus.subState.plan.productType};c.MontanaLogger.initialize(n)}return a}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.load()},t.prototype.load=function(){var e=this,t=this.props.subStatus,a=c.getMontanaProductPlanType(t.subState.plan.productType)===c.MontanaProductPlanType.PLUS;try{Promise.all([c.getMontanaPrices(a),c.getRetentionPolicy()]).then((function(t){var a=t[0],n=t[1];e.setState({loading:!1,montanaPrice:a[0].price,retentionPolicies:n})}))}catch(e){s.Snackbar.fail(i.intl.formatMessage({id:"vuVMnM",defaultMessage:"Something went wrong."})),this.setState({loading:!1}),this.props.onClose()}},t.prototype.getModalVisibility=function(){var e=this.props.subStatus,t=this.state.retentionPolicies,a=c.getMontanaProductPlanType(e.subState.plan.productType),n=a===c.MontanaProductPlanType.PLUS,i=a===c.MontanaProductPlanType.PROFESSIONAL,s=n&&e.subState.billingSchedule&&e.subState.billingSchedule.id===_.ScheduleId.MONTHLY,o=e.scheduledSubState&&(c.getMontanaProductPlanType(e.scheduledSubState.plan.productType)!==a||e.subState.billingSchedule.id!==e.scheduledSubState.billingSchedule.id),r=s||i,l=!1;if(t){if(t.available_policies&&t.available_policies.length){var d=t.available_policies.filter((function(e){return[c.MontanaRetentionPolicy.MONTANA_OLD_PRICE_PROMO,c.MontanaRetentionPolicy.PROF_TO_PLUS_WITH_PRORATED_REFUND,c.MontanaRetentionPolicy.REFUND_MIGRATION_DELTA].includes(e.policy_id)}));t.available_policies.filter((function(e){return e.policy_id===c.MontanaRetentionPolicy.DEPROVISION_WITH_FULL_REFUND})).length&&(l=!0),d.length&&(r=!0)}(t.applied_policies&&t.applied_policies.length||o)&&(r=!1,l=!1)}return{shouldShowOtherOptionsModal:r,shouldShowCancelScheduleModal:l}},t.prototype.render=function(){var e=this,t=this.props,i=t.planInfo,s=t.onClose,_=this.state,f=_.loading,g=_.retentionPolicies;if(f)return n.default.createElement(p.LoadingModal,null);var h,y=this.getModalVisibility(),M=y.shouldShowOtherOptionsModal,b=y.shouldShowCancelScheduleModal;if(M&&g&&g.available_policies&&g.available_policies.length){var v=g.available_policies.filter((function(e){return[c.MontanaRetentionPolicy.MONTANA_OLD_PRICE_PROMO,c.MontanaRetentionPolicy.PROF_TO_PLUS_WITH_PRORATED_REFUND,c.MontanaRetentionPolicy.REFUND_MIGRATION_DELTA].includes(e.policy_id)}));v.length&&(h=v[0])}return n.default.createElement(m.ModalFlow,{initialState:{immediateCancelAndRefund:!1},onClose:s},M&&function(t){return n.default.createElement(o.OtherOptionsModal,a.__assign({},e.props,t,{retentionPolicy:h,plusSkuContent:i.plusSkuContent,montanaPrice:e.state.montanaPrice}))},b&&function(t){return n.default.createElement(r.CancelScheduleModal,a.__assign({},e.props,t))},(function(t){return n.default.createElement(l.CancelConfirmationModal,a.__assign({},e.props,t,{basicSerializedSkuContent:i.basicSkuContent}))}),(function(t){return n.default.createElement(d.CancelSuccessModal,a.__assign({},e.props,t,{basicSerializedSkuContent:i.basicSkuContent,plusSerializedSkuContent:i.plusSkuContent,professionalSerializedSkuContent:i.professionalSkuContent}))}),(function(t){return n.default.createElement(u.IndividualCancelSurveyModal,a.__assign({},e.props,t,{expMontanaActive:!0}))}))},t})((n=a.__importDefault(n)).default.Component);t.MontanaModalFlow=f})),define("modules/clean/account_page/widgets/plan/views/montana/montana_other_options_modal",["require","exports","tslib","react","spectrum/modal","modules/clean/ux_analytics_utils","modules/clean/static_urls","modules/core/i18n","modules/clean/payments/skus/constants","modules/constants/trademark","modules/clean/account_page/widgets/plan/views/montana/common","modules/core/notify","modules/clean/payments/skus/sku_content","modules/clean/payments/cash","modules/clean/payments/skus/subscription_change_plan","modules/clean/account_page/widgets/plan/views/retention_policy_modal"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var g={title:r.intl.formatMessage({id:"iZ1DgQ",defaultMessage:"Did you know you can save on your plan?"}),description:"",src:o.static_url("/static/images/montana/montana-retention-vflaaCrZP.png"),srcHiRes:o.static_url("/static/images/montana/montana-retention@2x-vflXD1euT.png"),imageAlt:r.intl.formatMessage({id:"/QPCvP",defaultMessage:"User flying on a airplane towards a better plan."}),secondaryAction:r.intl.formatMessage({id:"8rLM9k",defaultMessage:"Continue canceling"})},h=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentDidMount=function(){u.MontanaLogger.logEvent("cancel_view")},t.prototype.render=function(){var e=this.props,t=e.nextModal,i=e.exitModalFlow,s=e.openChangeScheduleModal,o=a.__assign(a.__assign({},g),{title:r.intl.formatMessage({id:"5VBRJt",defaultMessage:"Save up to {percentage, number, ::percent .##}"},{percentage:.17}),description:r.intl.formatMessage({id:"iZqX6Z",defaultMessage:"Keep your current price by switching to yearly billing."}),primaryAction:r.intl.formatMessage({id:"1I3Atm",defaultMessage:"Switch to yearly billing"}),valuePropositions:[],onPrimaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"switch_to_yearly_billing"}),i(),s()},onSecondaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"continue_canceling"}),t()}});return n.default.createElement(f.RetentionPolicyModal,a.__assign({},o))},t})(n.default.Component),y=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentDidMount=function(){u.MontanaLogger.logEvent("cancel_view")},t.prototype.render=function(){var e=this.props,t=e.nextModal,i=e.exitModalFlow,s=e.openMontanaRenewSuccessModal,o=a.__assign(a.__assign({},g),{title:r.intl.formatMessage({id:"1sWq3U",defaultMessage:"Keep your current price for another year"}),description:r.intl.formatMessage({id:"Z3Sra8",defaultMessage:"Save up to {save_percentage, number, ::percent .##}—renew your {plan} plan today"},{save_percentage:.17,plan:d.DROPBOX_PLUS}),valuePropositions:[],primaryAction:r.intl.formatMessage({id:"2EL4qv",defaultMessage:"Keep my current price"}),onPrimaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"renew_and_keep_price"}),u.applyRetentionPolicy(u.MontanaRetentionPolicy.MONTANA_OLD_PRICE_PROMO).then((function(e){i(),s()}),(function(e){c.Notify.error(r.intl.formatMessage({id:"YtbxKk",defaultMessage:"There was an issue, please contact Customer Support."}))}))},secondaryAction:r.intl.formatMessage({id:"6XxFtL",defaultMessage:"Skip offer and cancel"}),onSecondaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"continue_canceling"}),t()}});return n.default.createElement(f.RetentionPolicyModal,a.__assign({},o))},t})(n.default.Component),M=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentDidMount=function(){u.MontanaLogger.logEvent("cancel_view",{featureType:"recourse"})},t.prototype.render=function(){var e,t=this.props,i=t.nextModal,s=t.exitModalFlow,o=t.montanaPrice,l=t.openMontanaRenewSuccessModal,m=t.planInfo,_=t.subStatus;m&&m.montanaDetails&&m.montanaDetails.priceDifference&&_&&_.nextBillingSummary&&o&&(e=p.Cash.formatWithTaxForRefund(m.montanaDetails.priceDifference,o.currency,_.nextBillingSummary.doesTaxApply));var h=a.__assign(a.__assign({},g),{title:r.intl.formatMessage({id:"Ziwuv1",defaultMessage:"Take up to {percentage, number, ::percent .##} off the new {plan}"},{percentage:.17,plan:d.DROPBOX_PLUS}),description:e?r.intl.formatMessage({id:"n+fLB0",defaultMessage:"Get your previous price for another year—renew {plan} now and we’ll give you a partial refund (up to {max_refund_amount})."},{plan:d.DROPBOX_PLUS,max_refund_amount:e}):r.intl.formatMessage({id:"0okzxC",defaultMessage:"Get your previous price for another year—renew {plan} now and we’ll give you a partial refund."},{plan:d.DROPBOX_PLUS}),valuePropositions:[],primaryAction:r.intl.formatMessage({id:"5GVKQL",defaultMessage:"Go back to my previous price"}),onPrimaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"accept_refund",featureType:"recourse"}),u.applyRetentionPolicy(u.MontanaRetentionPolicy.REFUND_MIGRATION_DELTA).then((function(e){s(),l()}),(function(e){c.Notify.error(r.intl.formatMessage({id:"YtbxKk",defaultMessage:"There was an issue, please contact Customer Support."}))}))},secondaryAction:r.intl.formatMessage({id:"6XxFtL",defaultMessage:"Skip offer and cancel"}),onSecondaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"continue_canceling",featureType:"recourse"}),i()}});return n.default.createElement(f.RetentionPolicyModal,a.__assign({},h))},t})(n.default.Component),b=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.componentDidMount=function(){u.MontanaLogger.logEvent("cancel_view")},t.prototype.render=function(){var e=this.props,t=e.subStatus,i=e.nextModal,s=e.exitModalFlow,o=e.openChangePlanModal,d=e.plusSkuContent,c=e.retentionPolicy,p=m.SkuContentClient.deserialize(d),h=this.props.montanaPrice;if(c&&c.serialized_subscription_change_plan){var y=JSON.parse(c.serialized_subscription_change_plan),M=_.SubscriptionChangePlan.deserialize(y);M.nextBillingSummary&&(h=M.nextBillingSummary.total)}var b=t.subState.billingSchedule.id===l.ScheduleId.MONTHLY?r.intl.formatMessage({id:"sD0VlD",defaultMessage:"All for {montana_plus_price} per month. Switch to {plan} and take advantage of these features, at a lower price."},{montana_plus_price:h.toString(),plan:p.dropboxDisplayName()}):r.intl.formatMessage({id:"yfDpXY",defaultMessage:"All for {montana_plus_price} per year. Switch to {plan} and take advantage of these features, at a lower price."},{montana_plus_price:h.toString(),plan:p.dropboxDisplayName()});c&&c.policy_id===u.MontanaRetentionPolicy.PROF_TO_PLUS_WITH_PRORATED_REFUND&&(b=r.intl.formatMessage({id:"xcrGBO",defaultMessage:"All for {montana_plus_price} per year. <strong>Switch your plan and we’ll refund the difference</strong> between your recent renewal charge and the lower price of {plan}."},{montana_plus_price:h.toString(),strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)},plan:p.dropboxDisplayName()}));var v=a.__assign(a.__assign({},g),{title:r.intl.formatMessage({id:"6r7sq8",defaultMessage:"Have you looked at {plan} lately?"},{plan:p.dropboxDisplayName()}),description:r.intl.formatMessage({id:"/WH586",defaultMessage:"{plan} has been upgraded with new features for an incredible value."},{plan:p.dropboxDisplayName()}),valuePropositions:[r.intl.formatMessage({id:"CQg7AO",defaultMessage:"<strong>Double the storage</strong>—save everything with {space_with_gb}."},{strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)},space_with_gb:p.spaceLongFormRounded()}),r.intl.formatMessage({id:"Ai4/vA",defaultMessage:"<strong>World-class sync technology</strong>—move out-of-date files off your computer’s hard drive and to the cloud with {dss}."},{strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)},dss:"Dropbox Smart Sync"}),r.intl.formatMessage({id:"/kZRya",defaultMessage:"<strong>Dropbox Rewind</strong>—rollback unwanted changes to any folder, or your entire {dropbox}, up to 30 days."},{strong:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("strong",null,e)},dropbox:"Dropbox"})],tagline:b,primaryAction:r.intl.formatMessage({id:"XBcgjL",defaultMessage:"Switch to {plan}"},{plan:p.dropboxDisplayName()}),secondaryAction:r.intl.formatMessage({id:"8rLM9k",defaultMessage:"Continue canceling"}),onPrimaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"switch_to_plus"}),s(),o()},onSecondaryAction:function(){u.MontanaLogger.logEvent("cancel_click",{cta:"continue_canceling"}),i()}});return n.default.createElement(f.RetentionPolicyModal,a.__assign({},v))},t})(n.default.Component);t.OtherOptionsModal=function(e){var t=e.subStatus,o=e.exitModalFlow,d=e.retentionPolicy,c=u.getMontanaProductPlanType(t.subState.plan.productType),m=t.finalSubState.billingSchedule.id===l.ScheduleId.MONTHLY,p=c===u.MontanaProductPlanType.PLUS&&m?500:640;return n.default.createElement(i.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:r.intl.formatMessage({id:"0pEWXz",defaultMessage:"Other options"}),className:"other-options-modal",displayCloseButton:!0,onReady:s.dispatchModalOpened,onRequestClose:function(){s.dispatchModalClosed(),u.MontanaLogger.logEvent("cancel_dismiss"),o()},open:!0,width:p,id:"other-options-modal",bodyClassName:"uxa-modal",bodyId:"other-options-modal"},d&&d.policy_id===u.MontanaRetentionPolicy.MONTANA_OLD_PRICE_PROMO&&n.default.createElement(y,a.__assign({},e)),d&&d.policy_id===u.MontanaRetentionPolicy.REFUND_MIGRATION_DELTA&&n.default.createElement(M,a.__assign({},e)),c===u.MontanaProductPlanType.PROFESSIONAL&&n.default.createElement(b,a.__assign({},e)),c===u.MontanaProductPlanType.PLUS&&m&&n.default.createElement(h,a.__assign({},e)))}})),define("modules/clean/account_page/widgets/plan/views/montana/montana_renew_success_modal",["require","exports","tslib","react","spectrum/button","spectrum/modal","modules/clean/payments/cash","modules/clean/ux_analytics_utils","modules/clean/react/css","modules/clean/react/image","modules/core/i18n","modules/clean/static_urls","modules/clean/account_page/widgets/plan/views/montana/common","modules/core/browser"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),p=a.__importStar(p);var _=(function(e){function t(t){var a=e.call(this,t)||this;a.montanaPeriod=function(){var e=a.props.planInfo,t=e.montanaAnnouncementDate,n=e.usersMontanaMigrationDate,i=e.usersFirstMontanaRebillDate,s=e.now;return m.getMontanaPeriod(a.props.subStatus,t,n,i,s)},a.onCloseAction=function(){m.MontanaLogger.logEvent("cancel_dismiss",{featureType:"yearly_thanks",cta:"done"}),a.props.onClose()},a.closeModal=function(){r.dispatchModalClosed(),m.MontanaLogger.logEvent("cancel_dismiss",{featureType:"yearly_thanks"}),a.props.onClose(),p.redirect("/")},a.title=function(){return n.default.createElement("h1",{className:"renew-success-modal__title"},u.intl.formatMessage({id:"FVD91I",defaultMessage:"Awesome! Thanks for staying with us"}))},a.description=function(){var e=a.montanaPeriod(),t=Boolean(a.props.subStatus.currentBillingSummary.discountPercentage),i=u.intl.formatMessage({id:"Sz3BA+",defaultMessage:"Your refund is on the way."});return e===m.MontanaPeriod.GRACE&&t?i=u.intl.formatMessage({id:"E2AD7r",defaultMessage:"On {renewal_date}, your Dropbox {plan_name} plan will renew for one year and your preferred payment method will be charged {discounted_price}, reflecting a savings of {percentage, number, ::percent .##}."},{renewal_date:a.props.subStatus.formattedNextBillingDate,plan_name:a.props.subStatus.subState.plan.displayName(),discounted_price:o.Cash.formatWithTaxLabels(a.props.subStatus.currentBillingSummary.total,a.props.subStatus.currentBillingSummary),percentage:a.props.subStatus.currentBillingSummary.discountPercentage/100}):e===m.MontanaPeriod.GRACE&&(i=u.intl.formatMessage({id:"GgrybJ",defaultMessage:"On {renewal_date}, your Dropbox {plan_name} plan will renew for one year and your preferred payment method will be charged {discounted_price}."},{renewal_date:a.props.subStatus.formattedNextBillingDate,plan_name:a.props.subStatus.subState.plan.displayName(),discounted_price:o.Cash.formatWithTaxLabels(a.props.subStatus.currentBillingSummary.total,a.props.subStatus.currentBillingSummary)})),n.default.createElement("div",{className:"renew-success-modal__description"},n.default.createElement("p",{className:"renew-success-modal__primary-description"},i))};var i={billingScheduleId:t.subStatus.subState.billingSchedule.id,planType:t.subStatus.subState.plan.productType};return m.MontanaLogger.initialize(i),a}return a.__extends(t,e),t.prototype.componentDidMount=function(){m.MontanaLogger.logEvent("cancel_view",{featureType:"yearly_thanks"})},t.prototype.render=function(){return n.default.createElement(s.Modal,{appElement:document.getElementById("embedded-app")||document.body,ariaLabel:u.intl.formatMessage({id:"9TGXJo",defaultMessage:"Renew success"}),className:"renew-success-modal",displayCloseButton:!0,onReady:r.dispatchModalOpened,onRequestClose:this.closeModal,open:!0,width:640,id:"renew-success-modal",bodyClassName:"uxa-modal",bodyId:"renew-success-modal"},n.default.createElement("div",{className:"renew-success-modal__container"},n.default.createElement(d.Image,{alt:u.intl.formatMessage({id:"l1++68",defaultMessage:"User celebrates their new and improved plan."}),className:"renew-success-modal__image",src:c.static_url("/static/images/montana/montana-success-vflbIjK-n.png"),srcHiRes:c.static_url("/static/images/montana/montana-success@2x-vflD5mz30.png")}),this.title(),this.description(),n.default.createElement("div",{className:"renew-success-modal__buttons"},n.default.createElement(i.Button,{className:"renew-success-modal__modal-cta",variant:"primary",onClick:this.onCloseAction},u.intl.formatMessage({id:"6bRQ0U",defaultMessage:"Done"})))))},t})(n.default.Component);t.RenewSuccessModal=l.requireCssWithComponent(_,["/static/css/account/pagelet/montana_renew_success_modal-vfliM7eV2.css"])})),define("modules/clean/account_page/widgets/plan/views/switch_plan_modal",["require","exports","tslib","react","modules/core/browser","classnames","modules/core/i18n","modules/clean/bem","modules/constants/trademark","modules/clean/api_v2/user_client","modules/clean/account_page/util","modules/clean/account_page/widgets/plan/views/plan_card","modules/clean/react/browse/uri_helper","spectrum/modal","modules/clean/react/modal","modules/clean/react/css","modules/clean/payments/skus/constants","modules/clean/account_page/widgets/plan/views/loading_view","modules/core/exception","modules/clean/analytics","modules/clean/account_page/widgets/plan/views/covid_promo_warning"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f,g,h,y,M,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importStar(i),s=a.__importDefault(s);var v,S,L=r.bem("switch-plan-modal"),T=o.intl.formatMessage({id:"mZ8c9h",defaultMessage:"Try free for {trial_days} days"},{trial_days:14}),w=o.intl.formatMessage({id:"ze1vKj",defaultMessage:"Try free for {trial_days} days"},{trial_days:g.TRIAL_LENGTH_DEFAULT}),D=o.intl.formatMessage({id:"BtuRsb",defaultMessage:"Buy now"});(function(e){e.TRY="try",e.BUY="buy"})(v=t.CtaLogging||(t.CtaLogging={})),(function(e){e.BASIC="basic",e.PLUS="plus",e.PROFESSIONAL="professional",e.BUSINESS_STANDARD="business_standard",e.BUSINESS_ADVANCED="business_advanced"})(S=t.PlanTags||(t.PlanTags={}));var C=function(e){return n.useEffect((function(){M.ProEventsLogger.log("switch_plan_modal_recommended_plan_view",{plan:e.plan})}),[]),n.createElement("div",{className:L("recommended-badge")},o.intl.formatMessage({id:"7vGHBp",defaultMessage:"Recommended"}))},P=(function(e){function t(t){var r=e.call(this,t)||this;return r.handleClose=function(){M.ProEventsLogger.log("switch_plan_modal_close"),r.setState({open:!1})},r.logPlanSwitchAttempt=function(e,t,a){M.ProEventsLogger.log("switch_plan_modal_change_plan_attempt",{from:r.loggingPlan,to:t,cta:e?v.TRY:v.BUY,isRecommended:t===r.recommendedPlan},a)},r.handleSwitchToPlus=function(){r.logPlanSwitchAttempt(!1,S.PLUS,(function(){i.redirect("/buy/plus")}))},r.handleSwitchToPro=function(){r.logPlanSwitchAttempt(r.isEligibleForProTrial,S.PROFESSIONAL,(function(){r.isEligibleForProTrial?i.redirect("/pro/try"):!r.isBasic&&r.props.openChangePlanModal?(r.props.openChangePlanModal(!0),M.ProEventsLogger.log("change_plan_modal_view",{current_product_plan_type:r.plan})):i.redirect("/buy/professional")}))},r.handleSwitchToBusinessStandard=function(){r.logPlanSwitchAttempt(r.isEligibleForBizTrial,S.BUSINESS_STANDARD,(function(){r.isEligibleForBizTrial?i.redirect("/business/try?sku=std"):i.redirect("/business/buy?sku=std")}))},r.handleSwitchToBusinessAdvanced=function(){r.logPlanSwitchAttempt(r.isEligibleForBizTrial,S.BUSINESS_ADVANCED,(function(){r.isEligibleForBizTrial?i.redirect("/business/try?sku=adv"):i.redirect("/business/buy?sku=adv")}))},r.loadSwitchPlanInfo=function(){(new d.UserApiV2Client).ns("growth").rpc("get_switch_plan_info",{demandbase_override:i.get_uri().getQuery().demandbase_override},{subjectUserId:u.getCurrentUser().id}).then((function(e){r.setState({loadingSwitchPlanInfo:!1,switchPlanInfo:{eligibleForBizTrial:e.eligible_for_biz_trial,eligibleForProTrial:e.eligible_for_pro_trial,recommendedPlan:e.recommended_plan[".tag"]}})})).catch((function(){return r.setState({loadingSwitchPlanInfo:!1,switchPlanInfo:{eligibleForBizTrial:!0,eligibleForProTrial:!0,recommendedPlan:r.isBasic?S.PLUS:S.PROFESSIONAL}})}))},r.loadPlanCardInfo=function(){(new d.UserApiV2Client).ns("growth_plans").rpc("get_plan_card_info_with_country",{country_override:m.getQueryArgs().country_override},{subjectUserId:u.getCurrentUser().id}).then((function(e){var t=e.plan_card_infos;r.setState({loadingPlanCardInfo:!1,planCardInfos:{basicCard:r.getFilteredCard(t,"basic"),plusCard:r.getFilteredCard(t,"plus"),professionalCard:r.getFilteredCard(t,"professional"),businessStandardCard:r.getFilteredCard(t,"business_standard"),businessAdvancedCard:r.getFilteredCard(t,"business_advanced")}})}))},r.getIndividualCardData=function(e){var t=r.shouldShowBilledMonthlyPrice?"price_monthly":"price_annual_by_month";return{isHighlighted:!1,isBusiness:!1,isInSwitchPlanModal:!0,features:e.features,pricePerMonth:e[t],isBilledMonthly:r.shouldShowBilledMonthlyPrice}},r.getBizCardData=function(e){return{isHighlighted:!1,isBusiness:!0,isInSwitchPlanModal:!0,features:e.features,pricePerMonth:e.price_annual_by_month,isBilledMonthly:!1}},r.handleWrongPlanError=function(e){y.reportException({err:new Error("Current user plan (id: "+e+") is invalid for switch_plan_modal"),severity:y.SEVERITY.CRITICAL}),i.redirect("/plans?trigger=nr")},r.getPlanCardDatas=function(){var e,t,n,i,s=r.state.planCardInfos,o={planCardProps:a.__assign(a.__assign({},r.getIndividualCardData(s.basicCard)),{planDisplayName:l.TRADEMARK_BASIC,isNotBilled:!0}),planTag:S.BASIC},d={planCardProps:a.__assign(a.__assign({},r.getIndividualCardData(s.plusCard)),{planDisplayName:l.TRADEMARK_PLUS,primaryCta:r.getPrimaryCta(S.PLUS)}),planTag:S.PLUS,classDictionary:(e={},e[L("plan-cards-content","plus")]=!0,e)},u={planCardProps:a.__assign(a.__assign({},r.getIndividualCardData(s.professionalCard)),{planDisplayName:l.TRADEMARK_PROFESSIONAL,primaryCta:r.getPrimaryCta(S.PROFESSIONAL)}),planTag:S.PROFESSIONAL,classDictionary:(t={},t[L("plan-cards-content","pro")]=!0,t)},c={planCardProps:a.__assign(a.__assign({},r.getBizCardData(s.businessStandardCard)),{planDisplayName:"Business "+l.TRADEMARK_BUSINESS_STANDARD,primaryCta:r.getPrimaryCta(S.BUSINESS_STANDARD)}),planTag:S.BUSINESS_STANDARD,classDictionary:(n={},n[L("plan-cards-content","biz-std")]=!0,n)},m={planCardProps:a.__assign(a.__assign({},r.getBizCardData(s.businessAdvancedCard)),{planDisplayName:"Business "+l.TRADEMARK_BUSINESS_ADVANCED,pricePerMonth:s.businessAdvancedCard.price_annual_by_month,primaryCta:r.getPrimaryCta(S.BUSINESS_ADVANCED)}),planTag:S.BUSINESS_ADVANCED,classDictionary:(i={},i[L("plan-cards-content","biz-adv")]=!0,i)};switch(r.plan){case g.ProductPlanType.BASIC:return[o,d,u,c];case g.ProductPlanType.PLUS:case g.ProductPlanType.STANDARD:return[d,u,c,m];default:return r.handleWrongPlanError(r.plan),[]}},r.renderPlanCards=function(){return n.createElement(n.Fragment,null,n.createElement("div",{className:L("title")},o.intl.formatMessage({id:"nexYuq",defaultMessage:"Dropbox plans"})),n.createElement("div",{className:L("plan-cards-wrapper")},r.getPlanCardDatas().map((function(e){var t;return n.createElement("div",{key:e.planCardProps.planDisplayName,className:s.default(L("plan-cards-content"),a.__assign(a.__assign({},e.classDictionary),(t={},t[L("plan-cards-content","recommended-plan")]=r.recommendedPlan===e.planTag,t)))},r.recommendedPlan===e.planTag&&n.createElement("div",null,n.createElement(C,{plan:r.recommendedPlan})),n.createElement(c.PlanCard,a.__assign({},e.planCardProps)))}))),r.props.hasCovidPromo&&n.createElement(b.CovidPromoWarning,null))},r.state={loadingPlanCardInfo:!0,loadingSwitchPlanInfo:!0,open:!0},r}return a.__extends(t,e),t.showInstance=function(e){_.Modal.showInstance(n.createElement(t.SwitchPlanModal,a.__assign({},e)))},t.prototype.componentDidMount=function(){M.ProEventsLogger.log("switch_plan_modal_view"),this.loadPlanCardInfo(),this.loadSwitchPlanInfo(),u.hideFocusOnModalCloseButton()},Object.defineProperty(t.prototype,"billingSchedule",{get:function(){var e=this.props.currentBillingScheduleId;return e&&!this.isBasic?e:g.ScheduleId.YEARLY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBillingScheduledToChange",{get:function(){var e=this.props.finalBillingScheduleId,t=this.billingSchedule;return!!e&&t!==e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldShowBilledMonthlyPrice",{get:function(){return this.billingSchedule===g.ScheduleId.MONTHLY&&!this.isBillingScheduledToChange||this.billingSchedule===g.ScheduleId.YEARLY&&this.isBillingScheduledToChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plan",{get:function(){return this.props.productType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBasic",{get:function(){return this.plan===g.ProductPlanType.BASIC},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loggingPlan",{get:function(){switch(this.plan){case g.ProductPlanType.BASIC:return S.BASIC;case g.ProductPlanType.PLUS:case g.ProductPlanType.STANDARD:return S.PLUS;default:return}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEligibleForProTrial",{get:function(){return this.state.switchPlanInfo.eligibleForProTrial},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEligibleForBizTrial",{get:function(){return this.state.switchPlanInfo.eligibleForBizTrial},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"recommendedPlan",{get:function(){return this.state.switchPlanInfo.recommendedPlan},enumerable:!0,configurable:!0}),t.prototype.getFilteredCard=function(e,t){var n=e.find((function(e){return e.plan_enum[".tag"]===t}));return a.__assign(a.__assign({},n),{features:["min_licenses","space_quota","sharing","version_history","admin_console","viewer_history"].map((function(e){return n.features.find((function(t){return t.plan_feature_enum[".tag"]===e}))})).filter((function(e){return void 0!==e&&e.is_included}))})},t.prototype.getPrimaryCta=function(e){var t,a,n,i=((t={})[S.PLUS]=this.handleSwitchToPlus,t[S.PROFESSIONAL]=this.handleSwitchToPro,t[S.BUSINESS_STANDARD]=this.handleSwitchToBusinessStandard,t[S.BUSINESS_ADVANCED]=this.handleSwitchToBusinessAdvanced,t);switch(e in i&&(a=i[e]),e!==S.BUSINESS_STANDARD&&e!==S.BUSINESS_ADVANCED||(n=this.isEligibleForBizTrial?w:D),this.plan){case g.ProductPlanType.BASIC:e===S.PLUS?n=D:e===S.PROFESSIONAL&&(n=this.isEligibleForProTrial?T:D);break;case g.ProductPlanType.PLUS:case g.ProductPlanType.STANDARD:e===S.PROFESSIONAL&&(n=D)}return a&&n?{onClick:a,primaryText:n}:void 0},t.prototype.render=function(){var e=this.state,t=e.loadingPlanCardInfo,a=e.loadingSwitchPlanInfo,i=e.open;return n.createElement(p.Modal,{ariaLabel:"SwitchPlanModal",className:"SwitchPlanModal",open:i,displayCloseButton:!0,overlayClickClose:!1,onRequestClose:this.handleClose,width:860},n.createElement("div",{className:L("")},t||a?n.createElement(h.LoadingView,{className:L("loading-indicator")}):this.renderPlanCards()))},t.SwitchPlanModal=f.requireCssWithComponent(t,["/static/css/dig-components/index.web-vfliFNMrU.css","/static/css/account/pagelet/plan_card-vflO36ZI2.css","/static/css/account/pagelet/switch_plan_modal-vflAoMGUX.css"]),t})(n.PureComponent);t.SwitchPlanModalView=P})),define("modules/clean/family/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FAMILY_MANAGEMENT_URI_PATH="/account/family",t.FAMILY_INVITE_URI_PATH="/family/invite",t.FAMILY_INVITE_URI_PATH_SUCCESS="/family/invite?success",t.getFamilyJoinUrl=function(e){return"/family/join/"+e},t.MAX_LICENSES=6})),define("modules/clean/react/modal_flow",["require","exports","tslib","react","modules/clean/react/modal"],(function(e,t,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(function(e){function t(t){var n=e.call(this,t)||this;n.goTo=function(e){var t=n.props.modalSequence;void 0!==e&&Boolean(t[e])&&n.setState({currentModalIndex:e})},n.prev=function(e){var t=n.state.currentModalIndex;if(0===t)return n.exit();n.setState(a.__assign(a.__assign({},e),{currentModalIndex:t-1}))},n.next=function(e){var t=n.props.modalSequence,i=n.state.currentModalIndex;if(i===t.length-1)return n.exit();n.setState(a.__assign(a.__assign({},e),{currentModalIndex:i+1}))},n.exit=function(){if(n.props.onClose)return n.props.onClose();i.Modal.close()};var s=t.initialState;return n.state=a.__assign(a.__assign({},s),{currentModalIndex:0}),n}return a.__extends(t,e),t.start=function(e){i.Modal.showInstance(n.default.createElement(t.ModalElement,a.__assign({},e)))},t.prototype.render=function(){var e=this.props.modalSequence[this.state.currentModalIndex],t=e.component,i=e.props;return n.default.createElement(t,a.__assign({},i,{goToModal:this.goTo,nextModal:this.next,prevModal:this.prev,exitModalFlow:this.exit,modalFlowState:this.state}))},t.defaultProps={initialState:{}},t.ModalElement=t,t})((n=a.__importDefault(n)).default.Component);t.DeprecatedModalFlow=s;var o=(function(e){function t(t){var n=e.call(this,t)||this;n.goTo=function(e){void 0!==e&&n.setState({currentModalIndex:e})},n.prev=function(e){var t=n.state.currentModalIndex;if(0===t)return n.exit();n.setState(a.__assign(a.__assign({},e),{currentModalIndex:t-1}))},n.next=function(e){var t=n.state.currentModalIndex;if(t===n.childrenCount-1)return n.exit();n.setState(a.__assign(a.__assign({},e),{currentModalIndex:t+1}))},n.exit=function(){return n.props.onClose()},n.getSanitizedChildren=function(e){return e.filter((function(e){return Boolean(e)}))};var i=t.initialState;return n.state=a.__assign({currentModalIndex:0},i||{}),n}return a.__extends(t,e),Object.defineProperty(t.prototype,"childrenCount",{get:function(){var e=this.props.children;return e?Array.isArray(e)?e.length:1:0},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.state.currentModalIndex,t=this.props.children;if(!t)return null;var a=Array.isArray(t)?this.getSanitizedChildren(t)[e]:t;if(!a)return null;var i={goToModal:this.goTo,nextModal:this.next,prevModal:this.prev,exitModalFlow:this.exit,modalFlowState:this.state};return n.default.createElement(n.default.Fragment,null,a(i))},t.defaultProps={initialState:{}},t})(n.default.Component);t.ModalFlow=o})),define("modules/clean/payments/payment_form_events",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(function(){function e(){}return e.initClass=function(){this.LOCATION_CHANGE_EVENT="db:paymentform:countrycodechanged",this.ZIP_CHANGE_EVENT="db:paymentform:zipchanged",this.PAYMENT_METHOD_TYPE_CHANGE_EVENT="db:paymentform:paymentmethodtypechanged",this.VAT_CHANGE_EVENT="db:paymentform:vatchanged",this.CPF_CHANGE_EVENT="db:paymentform:cpfchanged",this.UNVALIDATED="db:paymentform:unvalidated",this.VALIDATE_ERROR="db:paymentform:validateerror",this.VALIDATE_SUCCESS="db:paymentform:validatesuccess",this.LOADED_EVENT="db:paymentform:loaded",this.IFRAME_LOADED_EVENT="db:paymentform:iframeloaded",this.IFRAME_FIELDS_STATUS_EVENT="db:paymentform:iframefieldsstatusevent",this.EDIT_SIMPLE_COUNTRY_CLICK_EVENT="db:paymentform:editsimplecountry"},e})();a.initClass(),t.default=a})),define("modules/clean/react/payments/edit_invoice_address_modal/edit_invoice_address_modal_loader",["require","exports","tslib","modules/core/notify","react","modules/clean/react/css","modules/clean/react/sprite","modules/core/uri","modules/core/i18n","modules/clean/react/arbor/aspen/elements/arbor_inputs","modules/clean/payments/validation","modules/clean/react/modal","modules/clean/static_urls","modules/clean/react/tooltip","modules/clean/analytics","modules/clean/ajax_as_promised"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f){"use strict";function g(e){return function(t){return null==t||t.length<=e}}function h(e,t){return i.default.createElement(p.Tooltip,{position:p.TooltipPosition.RIGHT,tooltip_contents:t},e,i.default.createElement(o.Sprite,{group:"web",name:"info",className:"info-sprite",alt:""}))}Object.defineProperty(t,"__esModule",{value:!0}),i=a.__importDefault(i);var y=l.intl.formatMessage({id:"F5ADP7",defaultMessage:"Country and postal code must match your account’s payment information."}),M=l.intl.formatMessage({id:"XjVAbc",defaultMessage:"Your tax rate on this invoice cannot be updated."}),b={addressName:l.intl.formatMessage({id:"B6dG2q",defaultMessage:"Billing name"}),address:l.intl.formatMessage({id:"fz9og9",defaultMessage:"Billing address"}),city:l.intl.formatMessage({id:"QnFif0",defaultMessage:"City"}),state:l.intl.formatMessage({id:"pyUCBn",defaultMessage:"State"}),zip:h(l.intl.formatMessage({id:"10Ms2o",defaultMessage:"Postal code"}),y),country:h(l.intl.formatMessage({id:"1SPrvR",defaultMessage:"Country"}),y),exclusionId:l.intl.formatMessage({id:"eZAuK1",defaultMessage:"VAT number (optional)"}),exclusionIdWithTooltip:h(l.intl.formatMessage({id:"eZAuK1",defaultMessage:"VAT number (optional)"}),M)},v=(function(e){function s(t){var a=e.call(this,t)||this;return a.disableds={addressName:!1,address:!1,city:!1,state:!1,zip:!0,country:!0,exclusionId:!1,exclusionIdWithTooltip:!1},a.addressNameLength=100,a.addressLength=250,a.cityLength=50,a.stateLength=50,a.vatLength=25,a.undefinedLength=void 0,a.validateHandlers={addressName:g(a.addressNameLength),address:g(a.addressLength),city:g(a.cityLength),state:g(a.stateLength),zip:function(){return!0},country:function(){return!0},exclusionId:function(){return!0},exclusionIdWithTooltip:function(){return!0}},a.maxLengths={addressName:a.addressNameLength,address:a.addressLength,city:a.cityLength,state:a.stateLength,zip:a.undefinedLength,country:a.undefinedLength,exclusionId:a.vatLength,exclusionIdWithTooltip:a.vatLength},a.errorTexts={addressName:l.intl.formatMessage({id:"M9vy6c",defaultMessage:"Too long"}),address:l.intl.formatMessage({id:"M9vy6c",defaultMessage:"Too long"}),city:l.intl.formatMessage({id:"M9vy6c",defaultMessage:"Too long"}),state:l.intl.formatMessage({id:"M9vy6c",defaultMessage:"Too long"}),zip:"",country:"",exclusionId:"",exclusionIdWithTooltip:""},a.onSave=function(){var e=a.state.formState,t=a.props.invoice;if(e)if(a.logActions("edit_billing_address_started"),a.setState({submitting:!0}),a.isInputValid()){var n={address_name:e.addressName,address:e.address,city:e.city,state:e.state,exclusion_id:e.exclusionId};t&&(n.invoice_id=r.URI.parse(t.link).getQuery().id.toString()),a.makeEditBillingAddressRequest(n)}else a.setState({submitting:!1,showErrors:!0})},a.onCancel=function(){a.logActions("edit_billing_address_cancelled"),c.Modal.close()},a.state={submitting:!1,showErrors:!1},t.isTeam?(a.editUrl="/edit_billing_address",a.viewModelUrl="/edit_billing_address_view_model",a.vatClass="grid__item--1-1",a.modalClass="edit-invoice-modal"):(a.editUrl="/edit_billing_address_individual",a.viewModelUrl="/edit_billing_address_individual_view_model",a.vatClass="grid__item--1-2",a.modalClass="edit-invoice-modal professional-modal"),a}return a.__extends(s,e),s.showInstance=function(e,a){var n=i.default.createElement(t.EditInvoiceAddressModalLoader,{invoice:e,isTeam:a});c.Modal.showInstance(n)},s.showUpdateTaxProfileModal=function(e,a){var n=i.default.createElement(t.EditInvoiceAddressModalLoader,{isTeam:e,onUpdated:a});c.Modal.showInstance(n)},s.prototype.componentDidMount=function(){var e,t=void 0;this.props.invoice&&(t=null===(e=r.URI.parse(this.props.invoice.link).getQuery().id)||void 0===e?void 0:e.toString(),this.disableds.exclusionIdWithTooltip=!0),this.makeRequest(t)},s.prototype.makeRequest=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,n;return a.__generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t={invoice_id:e},[4,f.WebRequest({url:this.viewModelUrl,data:t,dataType:"json"})];case 1:return n=a.sent(),u.hasVat(n.countryCode)&&(this.errorTexts.exclusionId=l.intl.formatMessage({id:"LW2miv",defaultMessage:"Please enter a valid VAT number, e.g. {examples}."},{examples:u.getVatExamples(n.countryCode).join(", ")}),this.validateHandlers.exclusionId=function(e){return!e||u.validateVat(n.countryCode,e)}),this.setState({formState:n}),[3,3];case 2:return a.sent(),c.Modal.close(),[3,3];case 3:return[2]}}))}))},s.prototype.render=function(){var e,t=this.state,a=t.formState,n=t.showErrors,s=t.submitting;if(a){var o=null;if(u.hasVat(a.countryCode)){var r=u.getVatPrefix(a.countryCode);o=this.props.invoice?this.renderInput("exclusionIdWithTooltip",this.vatClass):this.renderInput("exclusionId",this.vatClass,r)}e=this.props.isTeam?i.default.createElement("div",{className:".type--arbor grid__container grid__container--p-large  grid--x-bookend"},this.renderInstructions(a.countryCode),this.renderInput("addressName","grid__item--1-1"),this.renderInput("address","grid__item--1-1"),this.renderInput("city","grid__item--1-2"),this.renderInput("state","grid__item--11-24"),this.renderInput("zip","grid__item--7-24"),this.renderInput("country","grid__item--2-3"),o):i.default.createElement("div",{className:".type--arbor grid__container grid__container--p-large  grid--x-bookend"},this.renderInput("addressName","grid__item--1-1"),this.renderInput("address","grid__item--1-2"),this.renderInput("city","grid__item--1-4"),this.renderInput("state","grid__item--1-4"),this.renderInput("zip","grid__item--1-2"),this.renderInput("country","grid__item--1-2"),o,this.renderInstructions(a.countryCode))}else e=i.default.createElement("div",{className:"loading-spinner"},i.default.createElement("img",{src:m.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:l.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"})}));var d=i.default.createElement(c.ModalButtons,{className:"oq-modal__buttons"},i.default.createElement(c.ModalButton,{className:"cancel-button",importance:"tertiary",onClick:this.onCancel},l.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"})),i.default.createElement(c.ModalButton,{disabled:!a||s||n&&!this.isInputValid(),importance:"primary",onClick:this.onSave},l.intl.formatMessage({id:"F5NZs5",defaultMessage:"Save changes"})));return i.default.createElement(c.Modal,{className:this.modalClass,autoClose:!1,buttonComponent:d,title:l.intl.formatMessage({id:"/WFCIJ",defaultMessage:"Edit invoice details"})},i.default.createElement("div",{className:"dynamic-content"},e))},s.prototype.logActions=function(e){this.props.isTeam?_.TeamsWebActionsLogger.log(e):_.UserActivityLogger.log("web",e)},s.prototype.makeEditBillingAddressRequest=function(e){return a.__awaiter(this,void 0,void 0,(function(){var t,i;return a.__generator(this,(function(a){switch(a.label){case 0:t=this.props.onUpdated,a.label=1;case 1:return a.trys.push([1,3,4,5]),i=this.editUrl,[4,f.WebRequest({url:i,data:e})];case 2:return a.sent(),this.logActions("edit_billing_address_success"),n.Notify.success(l.intl.formatMessage({id:"Il5prr",defaultMessage:"Invoice details updated."})),[3,5];case 3:return a.sent(),this.logActions("edit_billing_address_edit_failure"),[3,5];case 4:return t&&t(),c.Modal.close(),[7];case 5:return[2]}}))}))},s.prototype.renderInstructions=function(e){var t,a=this.props.invoice;if(t=a?l.intl.formatMessage({id:"Wc4dM+",defaultMessage:"You are editing details for the {date} invoice."},{date:a.date}):l.intl.formatMessage({id:"MhniSh",defaultMessage:"You are editing details for all future invoices. To edit past invoices, click “Edit” on the invoice item instead."}),u.hasVat(e)){var n=l.intl.formatMessage({id:"Qyx8hc",defaultMessage:"Please note that changing your VAT number could impact your applicable tax rate."});a&&(n=l.intl.formatMessage({id:"q3KPUy",defaultMessage:"To add or change a VAT number or request a tax refund, contact support."})),t=t.concat(" ",n)}return i.default.createElement("div",{className:"grid__item--1-1 instructions"},t)},s.prototype.renderInput=function(e,t,a){var n=this.state,s=n.formState,o=n.showErrors,r="";return s&&(r=s[e]),i.default.createElement(d.ArborTextInput,{name:e,containerClassName:t,isValid:o?!!this.validateHandlers[e](r)&&"":"",labelText:b[e],errorText:this.errorTexts[e],value:r,onChange:this.onChangeFactory(e),disabled:this.disableds[e],placeholderText:a,maxLength:this.maxLengths[e]})},s.prototype.onChangeFactory=function(e){var t=this;return function(a,n,i){var s=t.state.formState;s&&t.setState((function(t){return s[e]=i,t}))}},s.prototype.isInputValid=function(){var e=this.state.formState;return!!e&&(this.validateHandlers.addressName(e.addressName)&&this.validateHandlers.address(e.address)&&this.validateHandlers.city(e.city)&&this.validateHandlers.state(e.state)&&this.validateHandlers.exclusionId(e.exclusionId))},s})(i.default.Component);t.EditInvoiceAddressModalLoader=s.requireCssWithComponent(v,["/static/css/payments/edit_invoice_address_modal/edit_invoice_address_modal-vflD16tGG.css"])})),define("modules/clean/react/payments/downgrade/components/downgrade_family_manager_data",["require","exports","tslib","react","spectrum/checkbox","modules/core/i18n","modules/clean/react/css","modules/clean/display_format","modules/constants/trademark","modules/clean/react/payments/downgrade/components/downgrade_helpers","dig-components/icons","dig-components/icons/src","modules/clean/dropbox_form"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=(function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={disbandFamilyAcknowledged:!1,overQuotaAcknowledged:!1},t.handleDisbandFamilyAcknowledgment=function(e){t.setState({disbandFamilyAcknowledged:!t.state.disbandFamilyAcknowledged})},t.handleOverQuotaAcknowledgment=function(e){t.setState({overQuotaAcknowledged:!t.state.overQuotaAcknowledged})},t.renderFamilyAcknowledgements=function(){var e=t.props.freeQuota,a=t.state,o=a.overQuotaAcknowledged,d=a.disbandFamilyAcknowledged;return n.default.createElement("div",null,n.default.createElement("div",{className:"family-payer-disband-downgrade"},n.default.createElement(i.Checkbox,{className:"family-payer-disband-downgrade-check disband-acknowledgement",checked:d?"checked":"unchecked",onChange:t.handleDisbandFamilyAcknowledgment}),n.default.createElement("p",null,s.intl.formatMessage({id:"gMMxaZ",defaultMessage:"You and every member of your {trademark_family} plan will be downgraded to {dropbox_basic}, which only allows up to {free_quota} of storage."},{trademark_family:l.TRADEMARK_FAMILY,dropbox_basic:l.DROPBOX_BASIC,free_quota:r.format_bytes(e,0)}))),n.default.createElement("div",{className:"family-payer-disband-downgrade"},n.default.createElement(i.Checkbox,{className:"family-payer-disband-downgrade-check over-quota-acknowledgement",checked:o?"checked":"unchecked",onChange:t.handleOverQuotaAcknowledgment}),n.default.createElement("p",null,s.intl.formatMessage({id:"Uu4dKU",defaultMessage:"If you or a member of your plan are using more than {free_quota} of storage, you’ll be over-quota. That means your files will stop syncing, you won’t be able to upload any new files or folders, and you won’t be able to restore earlier versions of your files."},{free_quota:r.format_bytes(e,0)}))))},t}return a.__extends(o,e),o.prototype.shouldDisableConfirmDowngradeButton=function(){return!this.state.overQuotaAcknowledged||!this.state.disbandFamilyAcknowledged},o.prototype.render=function(){var e=d.createFamilyFeatureList(this.props.currentPlanSpace,this.props.basicDeviceLimit);return n.default.createElement("div",null,n.default.createElement(t.DowngradeFamilyManagerHeader,{handleChangeMindCTA:this.props.handleChangeMindCTA}),n.default.createElement("div",{className:"section section--features family-payer-benefits-section"},n.default.createElement("h3",{className:"type--title-4"},s.intl.formatMessage({id:"R07Z49",defaultMessage:"Without {dropbox_family}, you’ll lose access to the following:"},{dropbox_family:l.DROPBOX_FAMILY})),n.default.createElement("ul",{className:"features-list family-payer-features-list"},e.map((function(e,a){return n.default.createElement(t.DowngradeFamilyFeatureItem,{key:a,featureInfo:e})}))),n.default.createElement("div",null,n.default.createElement("p",null,s.intl.formatMessage({id:"I5xM/O",defaultMessage:"If you still want to cancel, please acknowledge the following:"})),this.renderFamilyAcknowledgements())),n.default.createElement(t.DowngradeFamilyManagerFooter,{shouldDisableConfirmDowngradeButton:this.shouldDisableConfirmDowngradeButton(),handleContactSupportCTA:this.props.handleContactSupportCTA,handleChangeMindCTA:this.props.handleChangeMindCTA}))},o.displayName="DowngradeFamilyManagerData",o})((n=a.__importDefault(n)).default.Component);t.DowngradeFamilyManagerDataView=p,t.DowngradeFamilyFeatureItem=function(e){var t=e.featureInfo,a=t.header,i=t.description;return n.default.createElement("li",{className:"features-list__item family-payer-features-list-item"},n.default.createElement(u.UIIcon,{src:c.CloseLine}),n.default.createElement("div",{className:"family-payer-downgrade-feature-description"},a,n.default.createElement("div",{className:"features-list__copy"},i)))},t.DowngradeFamilyManagerFooter=function(e){var t=e.handleContactSupportCTA,a=e.handleChangeMindCTA,i=e.shouldDisableConfirmDowngradeButton,o=[d.downgradePageButtonsMap[d.DowngradeButtonTypes.ContactSupport],d.downgradePageButtonsMap[d.DowngradeButtonTypes.StayWithFamily]];return n.default.createElement("section",{className:"section section--buttons family-payer-section-buttons"},n.default.createElement("div",{className:"section-content"},n.default.createElement("div",{className:"buttons"},o.map((function(e){return n.default.createElement("div",{key:e.type,className:"buttons__item"},n.default.createElement("h3",{className:"type--copy-large"},e.header),n.default.createElement(d.DowngradePageButton,{isPrimaryButton:!0,buttonInfo:e,onClickCTA:(i=e.type,i===d.DowngradeButtonTypes.StayWithFamily?a:t)}));var i})),n.default.createElement("div",{className:"buttons__item downgrade-button"},n.default.createElement("h3",{className:"type--copy-large"},s.intl.formatMessage({id:"FkaCY0",defaultMessage:"I’m sure"})),n.default.createElement(m.DropboxForm,{action:"/downgrade/process",method:"post"},n.default.createElement(d.DowngradeConfirmationButton,{shouldDisableButton:i}))))))},t.DowngradeFamilyManagerHeader=function(e){return n.default.createElement("header",{className:"section section--hero family-payer-header-section"},n.default.createElement("div",{className:"section-content"},n.default.createElement("h1",{className:"type--title-2 type--first type--center"},s.intl.formatMessage({id:"TejRDA",defaultMessage:"Are you sure you want to cancel {dropbox_family}?"},{dropbox_family:l.DROPBOX_FAMILY})),n.default.createElement("h2",{className:"type--copy-standard"},s.intl.formatMessage({id:"Gj7aSc",defaultMessage:"You and your family members will lose access to the plan’s storage and features, <span>and your accounts will be downgraded to {dropbox_basic}.</span>"},{dropbox_basic:l.DROPBOX_BASIC,span:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.default.createElement("span",{className:"quota-drop"},e)}})),n.default.createElement(d.DowngradePageButton,{isPrimaryButton:!0,buttonInfo:d.downgradePageButtonsMap[d.DowngradeButtonTypes.ChangedMind],onClickCTA:e.handleChangeMindCTA})))},t.DowngradeFamilyManagerData=o.requireCssWithComponent(p,["/static/css/pro/pages/downgrade-vflcGVIh2.css"])})),define("modules/clean/react/payments/pro/components/payments/update_personal_payment_info_section",["require","exports","tslib","react","modules/clean/payments/payment_form/payment_form_spec","modules/clean/payments/validation","modules/core/i18n","modules/clean/react/payments/pro/components/inputs/inputs","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/payments/pro/components/payments/payment_method_selector","modules/clean/react/payments/checkout/components/payment_method_form/credit_card_frame","modules/clean/react/payments/checkout/components/payment_method_form/direct_debit_form","modules/constants/trademark","modules/clean/react/payments/checkout/components/payment_method_form/address_form"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCpfChange=function(e){t.props.actions.updateCpf(e.value)},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.actions.updateHistory()},t.prototype.prepareForSubmission=function(){return this.props.formData.paymentMethod.formattedValue===i.PaymentMethod.CreditCard?this.creditCardFrame.tokenize():Promise.resolve(!0)},t.prototype.getCreditCardFrame=function(){return this.creditCardFrame},t.prototype.onVatChange=function(e){this.props.actions.updateVat(e.value)},t.prototype.vatErrorString=function(){var e=this.props.formData.vat;return!l.FormValueHelper.isValid(e)&&e.showError?o.intl.formatMessage({id:"iRjYtd",defaultMessage:"Please enter a valid VAT number (ex: {examples})."},{examples:s.getVatExamples(this.props.formData.countryCode.formattedValue).join(", ")}):""},t.prototype.cpfErrorString=function(){var e=this.props.formData.cpf;return!l.FormValueHelper.isValid(e)&&e.showError?o.intl.formatMessage({id:"MQDRWx",defaultMessage:"Please enter a valid CPF number."}):""},t.prototype.renderLocationFields=function(){var e=this.props,t=e.paymentSpec,a=e.formData,i=e.isScheduledDowngradeToBasic,l=null;if(t.should_show_vat_for_country(a.countryCode.formattedValue)){var d=s.getVatPrefix(a.countryCode.formattedValue);l=n.default.createElement(r.LabeledTextInput,{className:"payment-info__vat",containerClassName:"grid__item--medium--1-2",name:"vat",labelText:o.intl.formatMessage({id:"eZAuK1",defaultMessage:"VAT number (optional)"}),errorText:this.vatErrorString(),placeholder:d,value:a.vat.rawValue,onChange:this.onVatChange.bind(this)})}var u=null;"BR"===a.countryCode.formattedValue&&(u=n.default.createElement("div",{className:"grid__item"},n.default.createElement(r.LabeledTextInput,{className:"payment-info__cpf",containerClassName:"grid__item--1-2",name:"cpf",labelText:o.intl.formatMessage({id:"Z1BdZ2",defaultMessage:"CPF/CNPJ"}),errorText:this.cpfErrorString(),value:a.cpf.rawValue,onChange:this.onCpfChange})));var c=o.intl.formatMessage({id:"3HmNPB",defaultMessage:"Please note that changing your billing location could impact your applicable tax rate."});t.should_show_vat_for_country(a.countryCode.formattedValue)&&(c=o.intl.formatMessage({id:"lV9XWU",defaultMessage:"Please note that changing your billing location or VAT number could impact your applicable tax rate."})),this.props.showNptBillingModal&&(c=o.intl.formatMessage({id:"C8NyKM",defaultMessage:"You won't be charged until you confirm your purchase on the next screen."}));var _=this.props.licenseKeyDisplayInfo,f=null;if(_&&_.hasLicenseKey){var g=_.scheduleInfo,h=g.is_schedule_yearly?o.intl.formatMessage({id:"DARI3+",defaultMessage:"Yearly Price"}):g.is_schedule_monthly?o.intl.formatMessage({id:"zDQAlf",defaultMessage:"Monthly Price"}):o.intl.formatMessage({id:"PoJI4y",defaultMessage:"Price"}),y=g.is_schedule_yearly?o.intl.formatMessage({id:"/gKpzt",defaultMessage:"Yearly Total"}):g.is_schedule_monthly?o.intl.formatMessage({id:"qAdRLO",defaultMessage:"Monthly Total"}):o.intl.formatMessage({id:"slkoxp",defaultMessage:"Total"}),M={date:_.date,price:_.price},b="";b=_.isTaxInclusive?_.hasMoreKeys?o.intl.formatMessage({id:"BDQkzF",defaultMessage:"After all of your license keys expire, you will be charged {price} including applicable taxes until you cancel your subscription."},M):o.intl.formatMessage({id:"BkAzzt",defaultMessage:"After your license key expires on {date}, you will be charged {price} including applicable taxes until you cancel your subscription."},M):_.hasMoreKeys?o.intl.formatMessage({id:"RX883x",defaultMessage:"After all of your license keys expire, you will be charged {price} plus applicable taxes until you cancel your subscription."},M):o.intl.formatMessage({id:"yAnsvC",defaultMessage:"After your license key expires on {date}, you will be charged {price} plus applicable taxes until you cancel your subscription."},M),b+=" "+o.intl.formatMessage({id:"TfhZaa",defaultMessage:"Previous charges won’t be refunded when you cancel unless it’s legally required. Your payment data is encrypted and secure."}),f=n.default.createElement("div",null,n.default.createElement("table",{className:"license-key-info"},n.default.createElement("div",null,n.default.createElement("td",{className:"license-key-table-column"},n.default.createElement("tr",{className:"strong"},o.intl.formatMessage({id:"Nk2vaV",defaultMessage:"Dropbox {plus}"},{plus:m.TRADEMARK_PLUS})),n.default.createElement("tr",null,_.email))),n.default.createElement("div",null,n.default.createElement("td",{className:"license-key-table-column"},n.default.createElement("tr",{className:"license-key-table-row"},n.default.createElement("td",null,h),n.default.createElement("td",null,_.price)),n.default.createElement("tr",{className:"license-key-table-row"},n.default.createElement("td",null,_.taxName),n.default.createElement("td",null,_.totalTax)),n.default.createElement("hr",null),n.default.createElement("tr",{className:"license-key-table-row"},n.default.createElement("td",null,y),n.default.createElement("td",null,_.totalPrice))))),n.default.createElement("div",null,b))}var v=n.default.createElement("div",{className:i?"disclaimer-message-full-width":"disclaimer-message"},f,c,i&&n.default.createElement("span",null," ",o.intl.formatMessage({id:"GweSkC",defaultMessage:"Updating your billing information will cancel your scheduled plan downgrade. If you still wish to downgrade, you will need to schedule it again."})));return n.default.createElement("div",{className:"grid__item"},n.default.createElement(r.LabeledInputRow,{className:"payment-info__location grid__item grid--x-bookend",errors:[{name:"zip",text:"",className:"grid__item--1-2"}]},n.default.createElement(p.AddressForms,{paymentSpec:this.props.paymentSpec,formData:this.props.formData,actions:this.props.actions,countryList:this.props.countryList,showServerViewVersion:this.props.showServerViewVersion,businessStyling:!0})),l,n.default.createElement(r.LabeledInputRow,{className:"payment-info__location grid__item grid--x-bookend",errors:[{name:"cpf",text:"",className:"grid__item--1-2"}]},u),v)},t.prototype.renderPaymentMethodSelector=function(){var e=this.props,t=e.paymentSpec,a=e.formData;return n.default.createElement(d.PaymentMethodSelector,{paymentSpec:t,paymentMethod:a.paymentMethod.rawValue,updatePaymentMethod:this.props.actions.updatePaymentMethod,countryCode:a.countryCode.rawValue,zipCode:a.zipCode.rawValue})},t.prototype.render=function(){var e=this,t=this.props,a=t.actions,s=t.formData,o=t.hidePaymentMethodSelector,r=this.renderLocationFields(),l=r;return s.paymentMethod.formattedValue===i.PaymentMethod.DirectDeposit&&(l=n.default.createElement(c.DirectDebitForm,{locationFields:r,formData:s,actions:a})),n.default.createElement("div",{className:"grid__item payment-info"},!o&&this.renderPaymentMethodSelector(),n.default.createElement(u.CreditCardFrame,{getHeightFromIframe:!0,iframeUrl:this.props.iframeUrl,hidden:s.paymentMethod.formattedValue!==i.PaymentMethod.CreditCard,actions:this.props.actions,ref:function(t){e.creditCardFrame=t},nonce:s.nonce,bin:s.bin,submitForm:this.props.submitForm}),l)},t})((n=a.__importDefault(n)).default.Component);t.UpdatePersonalPaymentInfoSection=_})),define("modules/clean/react/payments/pro/components/payments/payment_method_input",["require","exports","tslib","react","modules/core/i18n","classnames","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/pro/components/inputs/inputs"],(function(e,t,a,n,i,s,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importDefault(s);var l=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.onChange=function(e){this.props.onSelected(this.props.paymentMethod)},t.prototype.render=function(){var e,t=this.props,a=t.icons,l=t.labelText,d=t.paymentMethod,u=t.numberOfPaymentMethods,c=[],m=["payment-info__option"];if(3===u?m.push("grid__item--medium--1-4"):4===u?m.push("grid__item--medium--5-24"):m.push("grid__item--medium--1-2"),l&&(e="payment-method-label#debit",c.push(n.default.createElement("span",{title:"debit",key:e,className:"debit"},this.props.labelText))),a){if(d===o.PaymentMethod.CreditCard){var p=a.join(", ").replace("_","-"),_=i.intl.formatMessage({id:"IBCGt3",defaultMessage:"Credit card. We accept {payment_methods}"},{payment_methods:p});e="payment-method-label#creditcard",c.push(n.default.createElement("span",{key:e,className:"ax-visually-hidden"},_))}else d===o.PaymentMethod.PayPal?(e="payment-method-label#paypal",c.push(n.default.createElement("span",{key:e,className:"ax-visually-hidden"},i.intl.formatMessage({id:"RxvBVG",defaultMessage:"Paypal"})))):d===o.PaymentMethod.Ideal&&(e="payment-method-label#ideal",c.push(n.default.createElement("span",{key:e,className:"ax-visually-hidden"},i.intl.formatMessage({id:"DgNBM/",defaultMessage:"iDEAL"}))));for(var f=0,g=a;f<g.length;f++){var h=g[f];e="payment-method-icon#"+h,c.push(n.default.createElement("span",{title:h,key:e,className:h}))}}return n.default.createElement("div",{className:s.default(m)},n.default.createElement(r.LabeledRadioInput,{name:"payment_method",className:"payment-info__payment",value:d.toString(),checked:this.props.selected,onClick:this.onChange.bind(this),onChange:function(){}}),n.default.createElement("label",{htmlFor:"payment_method_"+d,id:"payment_method_"+d,className:"payment-info__method-label",onClick:this.onChange.bind(this)},c))},t})(n.default.Component);t.PaymentMethodInput=l})),define("modules/clean/react/payments/pro/components/payments/payment_method_selector",["require","exports","tslib","react","modules/core/i18n","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/pro/components/payments/payment_method_input"],(function(e,t,a,n,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPaymentMethodSelected=function(e){t.props.updatePaymentMethod(e)},t}return a.__extends(t,e),t.prototype.getLabelForMethodId=function(e){return e===s.PaymentMethod.CreditCard?n.default.createElement(o.PaymentMethodInput,{key:"payment-method#"+e,paymentMethod:s.PaymentMethod.CreditCard,selected:this.props.paymentMethod===s.PaymentMethod.CreditCard,onSelected:this.onPaymentMethodSelected.bind(this),icons:this.props.paymentSpec.supported_credit_cards_for_country(this.props.countryCode),numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):e===s.PaymentMethod.PayPal?n.default.createElement(o.PaymentMethodInput,{key:"payment-method#"+e,paymentMethod:s.PaymentMethod.PayPal,selected:this.props.paymentMethod===s.PaymentMethod.PayPal,onSelected:this.onPaymentMethodSelected,icons:["paypal"],numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):e===s.PaymentMethod.DirectDeposit?n.default.createElement(o.PaymentMethodInput,{key:"payment-method#"+e,paymentMethod:s.PaymentMethod.DirectDeposit,selected:this.props.paymentMethod===s.PaymentMethod.DirectDeposit,onSelected:this.onPaymentMethodSelected,labelText:i.intl.formatMessage({id:"H1vHwe",defaultMessage:"Direct Debit"}),numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):null},t.prototype.render=function(){var e=this,t=this.props,a=t.countryCode,i=t.paymentSpec.available_payment_methods_for_country(a).map((function(t){return e.getLabelForMethodId(t)}));return n.default.createElement("div",{className:"payment-info__selector grid__item grid__container--p-small"},i)},t})((n=a.__importDefault(n)).default.Component);t.PaymentMethodSelector=r})),define("modules/clean/react/payments/update_individual_billing/update_individual_action_creator",["require","exports","tslib","redux","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/update_individual_billing/update_individual_actions","modules/clean/react/payments/buy/actions/page_actions"],(function(e,t,a,n,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importStar(i),s=a.__importStar(s),o=a.__importStar(o),t.bindBillingActions=function(e){return n.bindActionCreators({updateHistory:o.updateHistory,showFormFieldErrors:i.showFormFieldErrors,submitBillingForm:s.submitBillingForm,updatePaymentMethod:i.updatePaymentMethod,updateCountryCode:s.updateBillingCountryCode,updateZipCode:i.updateZipCode,updateVat:i.updateVat,updateCpf:i.updateCpf,updateCpfName:i.updateCpfName,updateNonce:i.updateNonce,updatePayPalNonce:i.updatePayPalNonce,updateAdyenEncryptedCard:i.updateAdyenEncryptedCard,updateEncryptedCardForNetworkToken:i.updateEncryptedCardForNetworkToken,updateBrowserInfo:i.updateBrowserInfo,updateThreeDsData:i.updateThreeDsData,triggerThreeDsChallenge:i.triggerThreeDsChallenge,triggerThreeDsFingerprint:i.triggerThreeDsFingerprint,updateBIN:i.updateBIN,updateAccountHolderName:i.updateAccountHolderName,updateIBAN:i.updateIBAN,updateMandateSigned:i.updateMandateSigned,updateIdealBank:i.updateIdealBank,updatePhone:i.updatePhone,updateCity:i.updateCity,updateName:i.updateName,updateAddress:i.updateAddress,blurCCField:i.blurCCField,blurZipCode:i.blurZipCode,blurVat:i.blurVat,blurCpf:i.blurCpf,blurAccountHolderName:i.blurAccountHolderName,blurIBAN:i.blurIBAN,blurPhone:i.blurPhone,blurCity:i.blurCity,blurName:i.blurName,blurAddress:i.blurAddress},e.dispatch)}})),define("modules/clean/react/payments/update_individual_billing/update_individual_actions",["require","exports","tslib","modules/core/i18n","modules/core/notify","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/common/form/actions/actions"],(function(e,t,a,n,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importStar(s),t.submitBillingForm=function(e,t){return void 0===t&&(t={}),function(a,n){var i,r=n(),l=r.formData.countryCode.formattedValue,d=r.pageState.paymentFormSpec,u={},c=["countryCode"];d.allow_zip_code_for_country(l)&&c.push("zipCode"),d.should_show_vat_for_country(l)&&c.push("vat"),d.should_require_cpf(l,r.formData.paymentMethod.formattedValue)&&c.push("cpf"),u.request_id=r.pageState.requestId,u.submit_seq=r.pageState.submitSeq,t.expRenewalsProMobilePaymentPage&&(u.expRenewalsProMobilePaymentPage=!0),t.showRebillUpsell&&(u.showRebillUpsell=t.showRebillUpsell),r.formData.paymentMethod.formattedValue===s.PaymentMethod.CreditCard?(c.push("nonce"),c.push("adyenEncryptedCard"),c.push("encryptedCardForNetworkToken"),c.push("bin"),c.push("browserInfo"),c.push("threeDsData"),i="/update_credit_card_billing_info_ajax"):r.formData.paymentMethod.formattedValue===s.PaymentMethod.DirectDeposit?(c.push("accountHolderName","iban","mandateSigned"),i="/update_direct_debit_billing_info_ajax"):r.formData.paymentMethod.formattedValue===s.PaymentMethod.Ideal?(c.push("idealBankId","idealBankName"),i="/update_ideal_billing_info_ajax"):i="/paypal_billing_info",a(o.submitForm(i,c,e,u,void 0,t.handle3DsMessage,t.trigger))}},t.updateBillingCountryCode=function(e){return function(t,a){var s=a(),r=s.pageState.countryToCurrencyMap;!(e in r)&&s.formData.countryCode.formattedValue in r?i.Notify.error(n.intl.formatMessage({id:"K81Lqx",defaultMessage:"You can’t change to a country with a different currency. For help, contact support."}),3):t(o.updateCountryCode(e))}}})),define("modules/clean/react/payments/update_individual_billing/update_individual_billing_modal",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/payments/update_individual_billing/update_individual_store_creator","modules/clean/react/payments/update_individual_billing/update_individual_action_creator","modules/clean/react/payments/update_individual_billing/reducers","modules/clean/react/payments/pro/components/payments/update_personal_payment_info_section","modules/clean/payments/payment_form/payment_form_spec","modules/clean/analytics","modules/clean/react/payments/common/form/actions/actions"],(function(e,t,a,n,i,s,o,r,l,d,u,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=(function(e){function t(t){var a=e.call(this,t)||this;return a.prepareForSubmission=function(){return a.paymentInfoSection.prepareForSubmission()},a.savePaymentInfoSection=function(e){a.paymentInfoSection=e},a.onButtonClickSubmitForm=function(e){void 0===e&&(e=c.SubmitFormTriggerType.ButtonClick),a.submitForm(e)},a.store=s.createBillingStore(t,r.BillingReducer),a.state=a.store.getState(),a.store.subscribe((function(){var e=a.store.getState();e.pageState.submitSuccess||a.setState((function(t){return a.props.setSubmittingStatus(e.pageState.submitting),e}))})),a}return a.__extends(t,e),Object.defineProperty(t.prototype,"actions",{get:function(){return o.bindBillingActions(this.store)},enumerable:!0,configurable:!0}),t.prototype.logVatChange=function(e,t){null===e&&(e=""),null===t&&(t=""),""===e&&""!==t?u.ProEventsLogger.log("update_billing_added_vat"):""!==e&&""===t?u.ProEventsLogger.log("update_billing_removed_vat"):e!==t&&u.ProEventsLogger.log("update_billing_updated_vat")},t.prototype.onAccept=function(){u.ProEventsLogger.log("update_billing_open_save_changes_click"),this.logVatChange(this.props.vat,this.state.formData.vat.formattedValue),this.submitForm()},t.prototype.submitForm=function(e){var t={showRebillUpsell:this.props.showRebillUpsell,expRenewalsProMobilePaymentPage:this.props.expRenewalsProMobilePaymentPage,handle3DsMessage:this.paymentInfoSection.getCreditCardFrame().handle3DsMessage,trigger:e};this.actions.submitBillingForm(this.prepareForSubmission,t)},t.prototype.onDismiss=function(){u.ProEventsLogger.log("update_billing_open_cancel")},t.prototype.render=function(){var e,t=this.props,a=t.iframeUrl,s=t.countryList,o=t.idealBanks,r=t.userInfo,u=t.isScheduledDowngradeToBasic,c=t.licenseKeyDisplayInfo,m=this.state,p=m.formData,_=m.pageState;if(p.paymentMethod.rawValue===d.PaymentMethod.PayPal)e=n.default.createElement("div",{className:"payment-method-disclaimer","data-payment-method-id":"{payment_method.ID}"},i.intl.formatMessage({id:"hO6ljT",defaultMessage:"You’ll be redirected to PayPal to finish updating your billing information."}));else if(p.paymentMethod.rawValue===d.PaymentMethod.Ideal){var f;f=this.props.idealChargeAmount,e=n.default.createElement("div",{className:"payment-method-disclaimer","data-payment-method-id":"{payment_method.ID}"},i.intl.formatMessage({id:"kTpHRY",defaultMessage:"We’ll be charging you {ideal_charge_amt} to validate the account when you update your bank account information."},{ideal_charge_amt:f}))}else e=null;return n.default.createElement("div",{className:"payment-info-section"},n.default.createElement("div",{className:"payment-method-section grid__container"},n.default.createElement(l.UpdatePersonalPaymentInfoSection,{paymentSpec:_.paymentFormSpec,iframeUrl:a,countryList:s,formData:p,actions:this.actions,ref:this.savePaymentInfoSection,idealBanks:o,userInfo:r,isScheduledDowngradeToBasic:u,licenseKeyDisplayInfo:c,hidePaymentMethodSelector:!1,productPlanType:-1,submitForm:this.onButtonClickSubmitForm,showNptBillingModal:this.props.showNptBillingModal}),e))},t})((n=a.__importDefault(n)).default.Component);t.IndividualUpdateBillingModal=m})),define("modules/clean/react/payments/update_individual_billing/update_individual_billing_modal_loader",["require","exports","tslib","classnames","react","modules/core/browser","modules/core/browser_detection","spectrum/button","modules/core/notify","modules/core/i18n","modules/clean/analytics","modules/clean/ajax","modules/clean/react/css","modules/clean/react/modal","modules/clean/react/payments/update_individual_billing/update_individual_billing_modal","modules/clean/static_urls","modules/clean/react/image","modules/clean/react/payments/unified_module/unified_payment_form_async"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f,g,h){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importDefault(i),s=a.__importStar(s),o=a.__importStar(o),c=a.__importStar(c);var y=(function(e){function m(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loadingContent:!0,submitting:!1},t.onAccept=function(){t.updateBillingModal&&t.updateBillingModal.onAccept(),t.unifiedPaymentFormAsync&&t.unifiedPaymentFormAsync.onAccept(),u.UserActivityLogger.log("web","update_billing_modal_started")},t.onDismiss=function(){t.updateBillingModal&&t.updateBillingModal.onDismiss(),u.UserActivityLogger.log("web","update_billing_modal_cancelled"),p.Modal.close()},t.saveUpdateBillingModal=function(e){t.updateBillingModal=e},t.saveUnifiedPaymentFormAsync=function(e){t.unifiedPaymentFormAsync=e},t.setSubmittingStatus=function(e){t.setState((function(t){return a.__assign(a.__assign({},t),{submitting:e})}))},t.onSuccess=function(){p.Modal.close()},t}return a.__extends(m,e),m.showInstance=function(){p.Modal.showInstance(i.default.createElement(t.IndividualUpdateBillingModalLoader,null))},m.prototype.componentDidMount=function(){var e=this;c.WebRequest({url:"/account/profile/billing_info",success:function(t){var n=JSON.parse(t);e.setState((function(e){return a.__assign(a.__assign({},e),{loadedProps:{countryList:n.countryList,iframeUrl:n.iframeUrl,countryToCurrencyMap:n.countryToCurrencyMap,userInfo:n.userInfo,idealBanks:n.idealBanks,countryCode:n.countryCode,serializedPaymentFormSpec:n.serializedPaymentFormSpec,idealChargeAmount:n.idealChargeAmount,isScheduledDowngradeToBasic:n.isScheduledDowngradeToBasic,vat:n.vat,showRebillUpsell:n.showRebillUpsell,licenseKeyDisplayInfo:n.licenseKeyDisplayInfo,requestId:n.requestId,unifiedPayment:n.unifiedPayment,showNptBillingModal:n.showNptBillingModal},loadingContent:!1})})),u.UserActivityLogger.log("web","update_billing_modal_success")},error:function(e){l.Notify.error(d.intl.formatMessage({id:"C2BKnZ",defaultMessage:"Failed to load modal."})),u.UserActivityLogger.log("web","update_billing_modal_failure",{request_id:e.getResponseHeader("x-dropbox-request-id"),status:e.status}),p.Modal.close()}})},Object.defineProperty(m.prototype,"expRenewalsProMobilePaymentPage",{get:function(){return o.is_supported_mobile_browser()&&"V2"===s.get_uri().getQuery().exp_renewals_pro_mobile_payment_page},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"modalTitle",{get:function(){var e,t=d.intl.formatMessage({id:"yO4V6k",defaultMessage:"Update billing information"});return this.expRenewalsProMobilePaymentPage&&(t=i.default.createElement("div",{className:"exp-renewals-pro-mobile-payment-page-modal-title"},i.default.createElement(g.Image,{alt:d.intl.formatMessage({id:"UunKOF",defaultMessage:"Dropbox logo"}),className:"exp-renewals-pro-mobile-payment-page-modal-title__logo",src:f.static_url("/static/images/logo_catalog/dropbox-business-icon_m1-vflczuza3.svg")}),i.default.createElement("p",{className:"exp-renewals-pro-mobile-payment-page-modal-title__title"},t))),(null===(e=this.state.loadedProps)||void 0===e?void 0:e.showNptBillingModal)&&(t=d.intl.formatMessage({id:"yacDmF",defaultMessage:"Step 1/2: add your billing info"})),t},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"primaryButtonText",{get:function(){var e,t=d.intl.formatMessage({id:"F5NZs5",defaultMessage:"Save changes"});return(null===(e=this.state.loadedProps)||void 0===e?void 0:e.showNptBillingModal)&&(t=d.intl.formatMessage({id:"1ZUfS7",defaultMessage:"Next"})),t},enumerable:!0,configurable:!0}),m.prototype.renderButtons=function(){var e=this.state,t=e.loadingContent,a=e.submitting;return i.default.createElement(p.ModalButtons,{className:"oq-modal__buttons"},i.default.createElement(r.Button,{className:"cancel-button",variant:"secondary",onClick:this.onDismiss},d.intl.formatMessage({id:"d9/SE1",defaultMessage:"Cancel"})),i.default.createElement(r.Button,{disabled:t||a,variant:"primary",onClick:this.onAccept},this.primaryButtonText))},m.prototype.renderContent=function(){var e=this.state,t=e.loadingContent,a=e.loadedProps;if(this.state.loadedProps&&this.state.loadedProps.unifiedPayment)return i.default.createElement(h.UnifiedPaymentFormAsync,{isSubmittingStatus:this.setSubmittingStatus,onSuccess:this.onSuccess,ref:this.saveUnifiedPaymentFormAsync,isTeam:!1});if(t)return i.default.createElement("div",{className:"loading-spinner"},i.default.createElement("img",{src:f.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:d.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"})}));var n=a,s=n.countryList,o=n.iframeUrl,r=n.countryToCurrencyMap,l=n.countryCode,u=n.serializedPaymentFormSpec,c=n.userInfo,m=n.idealBanks,p=n.idealChargeAmount,g=n.isScheduledDowngradeToBasic,y=n.vat,M=n.showRebillUpsell,b=n.licenseKeyDisplayInfo,v=n.requestId,S=n.showNptBillingModal;return i.default.createElement(_.IndividualUpdateBillingModal,{iframeUrl:o,countryList:s,countryToCurrencyMap:r,countryCode:l,serializedPaymentFormSpec:u,userInfo:c,idealBanks:m,expRenewalsProMobilePaymentPage:this.expRenewalsProMobilePaymentPage,setSubmittingStatus:this.setSubmittingStatus,ref:this.saveUpdateBillingModal,idealChargeAmount:p,isScheduledDowngradeToBasic:g,vat:y,showRebillUpsell:M,licenseKeyDisplayInfo:b,submitForm:this.onAccept,requestId:v,showNptBillingModal:S})},m.prototype.render=function(){var e=n.default("update-billing-modal",{"update-billing-modal--mobile":this.expRenewalsProMobilePaymentPage,"update-billing-modal--mobile-safari":this.expRenewalsProMobilePaymentPage&&o.iOS});return i.default.createElement(p.Modal,{autoClose:!1,buttonComponent:this.renderButtons(),className:e,title:this.modalTitle},i.default.createElement("div",{className:"dynamic-content"},this.renderContent()))},m})(i.default.Component);t.UpdateBillingModalLoaderView=y,t.IndividualUpdateBillingModalLoader=m.requireCssWithComponent(y,["/static/css/pro/components/update_billing_modal_individual-vflT08YhE.css"])})),define("modules/clean/react/payments/update_individual_billing/reducers",["require","exports","tslib","modules/clean/react/payments/common/form/reducers/reducers","modules/clean/react/payments/common/payments/reducers/reducers","modules/clean/react/payments/common/pricing/reducers/reducers"],(function(e,t,a,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BillingReducer=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){return function(a,n){return t(e(a,n),n)}}))}.apply(void 0,a.__spreadArrays([function(e,t){return"SubmitFormSuccess"!==t.type?e:a.__assign(a.__assign({},e),{pageState:a.__assign(a.__assign({},e.pageState),{submitSuccess:!0})})},n.FormReducer],i.PaymentMethodReducers,s.TransitionManagementReducers))})),define("modules/clean/react/payments/update_individual_billing/update_individual_store_creator",["require","exports","tslib","redux","redux-thunk","modules/clean/redux/unsupported","modules/clean/analytics","modules/clean/dbmodal_stack","modules/clean/react/modal","modules/clean/react/payments/common/middleware/payments_ux_logger","modules/clean/react/payments/common/form/middleware/middleware","modules/clean/react/payments/common/payments/state/store_creator","modules/clean/react/payments/common/form_value_factory","modules/clean/react/snackbar","modules/clean/top_notif","modules/core/i18n","modules/core/notify","modules/core/browser"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f,g,h){"use strict";function y(e){return function(e){return function(a){if("SubmitFormSuccess"!==a.type)return e(a);var n=e(a),i=void 0!==a.additionalData&&a.additionalData.showRebillUpsell,s=a.additionalData&&a.additionalData.expRenewalsProMobilePaymentPage;return o.ProEventsLogger.log("update_billing_open_save_changes_success"),_.TopNotificationBar.hideById("rebill-bar"),i?(g.Notify.clear(),p.Snackbar.complete(f.intl.formatMessage({id:"jMyZGp",defaultMessage:"Payment method successfully updated."})),r.DBModalStack.trigger(t.BILLING_INFO_UPDATED,{showChangePlanConfirm:!0})):s?g.Notify.success(f.intl.formatMessage({id:"oVYsv/",defaultMessage:"We’ve successfully updated your account’s billing information. You’ll be redirected shortly."}),10,(function(){return h.redirect(a.data.data.redirect_url)})):(g.Notify.success(f.intl.formatMessage({id:"p28rXC",defaultMessage:"We’ve successfully updated your account’s billing information."})),l.Modal.close(),r.DBModalStack.trigger(t.BILLING_INFO_UPDATED,null)),n}}}function M(e,t,a){var n=e.vat,i=e.cpf,s=e.countryCode,o=e.userInfo,r=c.createPaymentFormData(e,t,a),l=r.city,d=r.address,u=r.phone,p=r.name,_=r.paymentMethod,f=r.countryCode,g=r.zipCode,h=r.vat,y=r.cpf,M=r.nonce,b=r.payPalNonce,v=r.adyenEncryptedCard,S=r.encryptedCardForNetworkToken,L=r.bin,T=r.browserInfo,w=r.threeDsData,D=r.accountHolderName,C=r.iban,P=r.mandateSigned,k=r.termsAndService,E=r.idealBankId,Y=r.idealBankName;return{city:l,address:d,phone:u,name:p,paymentMethod:_,countryCode:f,zipCode:g,vat:n?m.FormValueFactory.createVat(n,s):h,cpf:i?m.FormValueFactory.createCpf(i):y,cpfName:m.FormValueFactory.createCpfNamePrefill("","",o.displayName),nonce:M,payPalNonce:b,adyenEncryptedCard:v,encryptedCardForNetworkToken:S,bin:L,browserInfo:T,threeDsData:w,accountHolderName:D,iban:C,mandateSigned:P,termsAndService:k,idealBankId:E,idealBankName:Y}}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importDefault(i),t.BILLING_INFO_UPDATED="billing_info_modal:updated",t.submitFormSuccessMiddleware=y,t.createBillingStore=function(e,t){var a=(function(e){var t=(function(e){var t=c.createPaymentPageState(e).paymentFormSpec;return{countryToCurrencyMap:e.countryToCurrencyMap,submitSuccess:!1,submitState:null,submitting:!1,submitSeq:0,paypalEmail:"",requestId:e.requestId,paymentFormSpec:t}})(e),a=(function(e){var t=c.createPaymentPricingState(e),a=t.countryCode,n=t.countryCodeLoading,i=t.hasCurrencyChanged,s=t.hasTaxChangedWithinCountry,o=t.loadingPrices,r=t.requestToken,l=t.recentLoadEvent;return{countryCode:a,countryCodeLoading:n,hasCurrencyChanged:i,hasTaxChangedWithinCountry:s,loadingPrices:o,requestToken:r,recentLoadEvent:l}})(e);return{pricingState:a,pageState:t,formData:M(e,t,a)}})(e),o=n.applyMiddleware(i.default,u.submitFormErrorMiddleware,y,new d.PaymentsUXLogger(e.requestId).reduxMiddleware);return s.createStore(t,a,o)},t.createFormData=M})),define("modules/clean/teams/admin/lib/billing_history",["require","exports","modules/clean/teams/admin/types/billing_history"],(function(e,t,a){"use strict";function n(e){var t=e.description;return!!t&&(-1!==t.indexOf("Google")||-1!==t.indexOf("Apple"))}Object.defineProperty(t,"__esModule",{value:!0}),t.SelectedYearTypes={ALL_TIME:"all-time",YEAR_TO_DATE:"year-to-date"},t.getHistoryData=function(e,i){void 0===i&&(i=t.SelectedYearTypes.ALL_TIME);var s=(function(e){for(var t=[],i=0;i<e.length;i++){var s=e[i];if(i<e.length-1){var o=e[i+1],r=n(o)||n(s);if(s.type===a.BillingRowType.Payment&&o.type===a.BillingRowType.Invoice&&(o.billed===s.paid||o.billed==="("+s.paid+")"||r)&&o.date===s.date){var l={id:i,invoice:o,payment:s,isMobile:r};t.push(l),i++;continue}}s.type===a.BillingRowType.Payment?t.push({id:i,payment:s}):t.push({id:i,invoice:s})}return t})(e),o=(new Date).getFullYear().toString();return i===t.SelectedYearTypes.ALL_TIME||(s=i===t.SelectedYearTypes.YEAR_TO_DATE?s.filter((function(e){return e.payment?-1!==e.payment.date.indexOf(o):!!e.invoice&&-1!==e.invoice.date.indexOf(o)})):s.filter((function(e){return e.payment?-1!==e.payment.date.indexOf(i):!!e.invoice&&-1!==e.invoice.date.indexOf(i)}))),s=s.filter((function(e){return e.invoice&&null!==e.invoice.description||e.payment&&null!==e.payment.description}))}})),define("modules/clean/teams/admin/types/billing_history",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e[e.Invoice=0]="Invoice",e[e.Payment=1]="Payment",e[e.Legacy=2]="Legacy"})(t.BillingRowType||(t.BillingRowType={}))})),define("modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list",["require","exports","tslib","react","modules/clean/react/css"],(function(e,t,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){return n.default.createElement("div",{className:"admin-priced-list"},n.default.createElement("div",null,this.props.children))},t})((n=a.__importDefault(n)).default.Component);t.AdminPricedList=i.requireCssWithComponent(s,["/static/css/teams/admin/widgets/admin_priced_list/admin_priced_list-vflg-PZA3.css"])})),define("modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item",["require","exports","tslib","react","classnames","modules/core/i18n","modules/clean/react/badge"],(function(e,t,a,n,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importDefault(i);var r=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChange=function(){},t}return a.__extends(t,e),t.prototype.renderTitleWarningText=function(){var e=this.props.titleWarningText;if(e)return n.default.createElement("span",{className:"admin-priced-list-item__content_title_warning"}," ",e)},t.prototype.renderTitleSecondaryText=function(){var e=this.props.titleSecondaryText;if(e)return n.default.createElement("span",{className:"admin-priced-list-item__content_title_secondary"}," ",e)},t.prototype.renderRecommendedSign=function(){var e=this.props,t=e.titleSecondaryText,a=e.titleWarningText,i=e.recommended;if(!t&&!a&&i)return n.default.createElement("div",{className:"admin-priced-list-item__content_title_recommended"},s.intl.formatMessage({id:"430h7a",defaultMessage:"RECOMMENDED"}))},t.prototype.renderEffectiveDate=function(){var e=this.props,t=e.price,a=e.priceString,i=e.effectiveDate;if(!t&&!a)return n.default.createElement("div",{className:"admin-priced-list-item__content_title_effective_date"},i)},t.prototype.getClickHandler=function(){if(!this.props.disableItem)return this.props.onClick},t.prototype.render=function(){var e,t,s,r=this.props,l=r.description,d=r.price,u=r.title,c=r.unit,m=r.detailsLink,p=r.disableItem,_=r.effectiveDate,f=this.props.className?this.props.className:"";this.props.priceString?(t=this.props.priceString,s=c):d?(t=d.toString(),s=c):(t=_?"":"-",s="");var g=i.default(((e={"admin-priced-list-item":!0,active:!0===this.props.isSelected})[f]=!0,e.disabled=p,e));return n.default.createElement("div",{className:g,onClick:this.getClickHandler()},n.default.createElement("div",{className:"admin-priced-list-item__content"},n.default.createElement("div",{className:"admin-priced-list-item__content_title"},n.default.createElement("input",{type:"radio",checked:this.props.isSelected,onChange:this.onChange,disabled:this.props.disableItem}),n.default.createElement("h1",{className:"admin-priced-list-item__content_title_text"},u,this.props.badge&&n.default.createElement(o.Badge,a.__assign({},this.props.badge)),this.renderTitleWarningText(),this.renderTitleSecondaryText()),this.renderRecommendedSign(),this.renderEffectiveDate()),n.default.createElement("div",{className:"admin-priced-list-item__content_description u-font-meta"},l,m)),t&&n.default.createElement("div",{className:"admin-priced-list-item__pricing"},n.default.createElement("div",{className:"admin-priced-list-item__pricing_price"},t),n.default.createElement("div",{className:"admin-priced-list-item__pricing_unit"},s)))},t})(n.default.Component);t.AdminPricedListItem=r})),define("modules/clean/teams/admin/widgets/admin_priced_list/admin_priced_list_item_variant",["require","exports","tslib","react","classnames","modules/core/i18n","modules/clean/payments/skus/constants"],(function(e,t,a,n,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importDefault(i);var r=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onChange=function(){},t}return a.__extends(t,e),t.prototype.getClickHandler=function(){if(!this.props.disableItem)return this.props.onClick},t.prototype.render=function(){var e,t=this.props,a=t.description,r=t.price,l=t.title,d=t.detailsLink,u=t.disableItem,c=t.effectiveDate,m=t.schedule,p=t.isCurrentSchedule,_=t.pricePerMonth,f=t.pricePerYear,g=this.props.className?this.props.className:"",h=r?r.toString():c?"":"-",y=i.default(((e={"admin-priced-list-item":!0,active:!0===this.props.isSelected})[g]=!0,e.disabled=u,e)),M=m===o.ScheduleId.YEARLY,b=M&&_.amount>f.divide(12).amount;return n.default.createElement("div",{className:y,onClick:this.getClickHandler()},n.default.createElement("div",{className:"admin-priced-list-item__content"},n.default.createElement("div",{className:"admin-priced-list-item__content_title"},n.default.createElement("input",{type:"radio",checked:this.props.isSelected,onChange:this.onChange,disabled:this.props.disableItem}),n.default.createElement("h1",{className:"admin-priced-list-item__content_title_text"},l,p?n.default.createElement("div",{className:"admin-priced-list-item__content_title_badge_gray"},s.intl.formatMessage({id:"T8DivI",defaultMessage:"Current"})):b&&n.default.createElement("div",{className:"admin-priced-list-item__content_title_badge_green"},s.intl.formatMessage({id:"5VBRJt",defaultMessage:"Save up to {percentage, number, ::percent .##}"},{percentage:.17})))),n.default.createElement("div",{className:"admin-priced-list-item__content_description u-font-meta"},a,d)),h&&n.default.createElement("div",{className:"admin-priced-list-item__pricing"},n.default.createElement("div",{className:"admin-priced-list-item__pricing_price_variant"},M?s.intl.formatMessage({id:"deIrs/",defaultMessage:"{price_per_year}/yr"},{price_per_year:f.toString()}):s.intl.formatMessage({id:"F2qEan",defaultMessage:"{price_per_month}/mo"},{price_per_month:_.toString()})),n.default.createElement("div",{className:"admin-priced-list-item__pricing_unit"},M?s.intl.formatMessage({id:"zHM9h1",defaultMessage:"{price_per_month_with_yearly_sub}/mo"},{price_per_month_with_yearly_sub:f.divide(12).toString()}):s.intl.formatMessage({id:"owmZDX",defaultMessage:"{price_per_year_with_monthly_sub}/yr"},{price_per_year_with_monthly_sub:_.multiply(12).toString()}))))},t})(n.default.Component);t.AdminPricedListItemVariant=r})),define("modules/clean/teams/admin/widgets/billing_history/billing_history_row",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/payments/edit_invoice_address_modal/edit_invoice_address_modal_loader","modules/clean/analytics","modules/clean/react/tooltip","modules/clean/react/sprite"],(function(e,t,a,n,i,s,o,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onEdit=function(){var e=t.props,a=e.row,n=e.isTeam;a.invoice&&s.EditInvoiceAddressModalLoader.showInstance(a.invoice,n)},t.logReceiptLinkClick=function(){t.props.logAccountBillingTabEvents&&o.ProEventsLogger.log("de_billing_tab_receipt_link_click")},t.logInvoiceLinkClick=function(){t.props.logAccountBillingTabEvents&&o.ProEventsLogger.log("de_billing_tab_invoice_link_click")},t}return a.__extends(t,e),t.prototype.renderDate=function(){var e=this.props.row,t=e.invoice,a=e.payment;return t&&t.date?t.date:a&&a.date?a.date:null},t.prototype.renderDescription=function(){var e=this.props.row,t=e.invoice,a=e.payment,s=e.isMobile,o=null,r=null;return t&&t.description?o=t.description:a&&a.description&&(o=a.description),s&&t&&t.description&&a&&a.description&&(o=a.description+" | "+t.description),(t&&t.isVoided||a&&a.isVoided)&&(r=n.default.createElement("span",null," (",i.intl.formatMessage({id:"Raqf73",defaultMessage:"Voided"}),")")),n.default.createElement("div",null,n.default.createElement("p",{className:"description-line"},n.default.createElement("span",null,o),r))},t.prototype.renderLinks=function(){var e=[];if(!0===this.props.renderPublicLinks)e=this.renderInvoiceAndReceiptLink(this.props.publicInvoiceLink,this.props.publicReceiptLink);else{var t=this.props,a=t.row,s=t.showEditInvoiceModal,o=t.canEditBilling,r=a.invoice,l=a.payment,d="",u="";r&&r.link&&(d=r.link),!a.isMobile&&l&&l.link&&(u=l.link),e=this.renderInvoiceAndReceiptLink(d,u),s&&r&&!r.isOpen&&r.isEditable&&o&&e.push(n.default.createElement("button",{key:"edit-link",className:"button-as-link",onClick:this.onEdit},i.intl.formatMessage({id:"UwFkjc",defaultMessage:"Edit"}))),e.length||(r&&r.infoTooltip?e.push(this.renderInfoTooltip(r)):l&&l.infoTooltip&&e.push(this.renderInfoTooltip(l)))}return e.length?n.default.createElement("span",null,e):null},t.prototype.renderInvoiceAndReceiptLink=function(e,t){var a=[];return e&&a.push(n.default.createElement("a",{key:"invoice-link",href:e,target:"_blank",rel:"noopener noreferrer",onClick:this.logInvoiceLinkClick},i.intl.formatMessage({id:"+fOIGM",defaultMessage:"Invoice"}))),t&&a.push(n.default.createElement("a",{key:"payment-link",href:t,target:"_blank",rel:"noopener noreferrer",onClick:this.logReceiptLinkClick},i.intl.formatMessage({id:"9s47b8",defaultMessage:"Receipt"}))),a},t.prototype.renderInfoTooltip=function(e){return n.default.createElement(r.Tooltip,{position:r.TooltipPosition.TOP,tooltip_contents:e.infoTooltip},n.default.createElement(l.Sprite,{group:"teams",name:"info_active",alt:"",className:"info-sprite"}))},t.prototype.renderPrice=function(){var e=this.props.row,t=e.invoice,a=e.payment;if(e.isMobile)return null;var i=null;return t&&a?i=t.isVoided||a.isVoided?n.default.createElement("span",{className:"row-content__price--line-through"},t.billed):t.billed:a?i=a.paid:t&&(i=t.billed),i},t.prototype.render=function(){var e=this.props.row;return e.invoice||e.payment?n.default.createElement("tr",{className:"row-content","data-variant":!0},n.default.createElement("td",{className:"row-content__date"},this.renderDate()),n.default.createElement("td",{className:"row-content__description"},this.renderDescription()),n.default.createElement("td",{className:"row-content__links"},this.renderLinks()),n.default.createElement("td",{className:"row-content__price"},this.renderPrice())):null},t.defaultProps={canEditBilling:!0},t})((n=a.__importDefault(n)).default.Component);t.BillingHistoryTableRow=d})),define("modules/clean/teams/admin/widgets/billing_history/billing_history_table",["require","exports","tslib","react","modules/core/i18n","modules/clean/teams/admin/widgets/billing_history/billing_history_row","modules/clean/account_page/widgets/billing/billing_history/types","spectrum/icon_form","spectrum/popover"],(function(e,t,a,n,i,s,o,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.buildFooterIfNecessary=function(){if(null!==this.props.footer)return n.default.createElement("tfoot",{className:"row-footer"},this.props.footer)},t.prototype.buildHeaderDate=function(){return n.default.createElement("th",{className:"row-header date-row"},n.default.createElement(l.Popover,{onSelection:this.props.onSelection},n.default.createElement(l.PopoverTrigger,null,n.default.createElement("span",{className:"date-header-cell"},i.intl.formatMessage({id:"65pLwc",defaultMessage:"Date"})),n.default.createElement("span",{className:"caret"},n.default.createElement(r.IconForm,{name:"caret-down"}))),n.default.createElement(l.PopoverContent,null,n.default.createElement(l.PopoverItemGroup,{key:"order-item-group"},n.default.createElement(l.PopoverItemGroupTitle,{key:"order-title"},i.intl.formatMessage({id:"HXV3TA",defaultMessage:"Order"})),n.default.createElement(l.PopoverSelectableItem,{value:o.BillingHistoryOrder.ASCENDING,selected:o.BillingHistoryOrder.ASCENDING===this.props.order},i.intl.formatMessage({id:"KyJseU",defaultMessage:"Ascending"})),n.default.createElement(l.PopoverSelectableItem,{value:o.BillingHistoryOrder.DESCENDING,selected:o.BillingHistoryOrder.DESCENDING===this.props.order},i.intl.formatMessage({id:"Njd630",defaultMessage:"Descending"}))),n.default.createElement(l.PopoverItemGroupSeparator,{key:"show-separator"}),n.default.createElement(l.PopoverItemGroup,{key:"show-item-group"},n.default.createElement(l.PopoverItemGroupTitle,{key:"show-title"},i.intl.formatMessage({id:"2X0e4z",defaultMessage:"Show"})),n.default.createElement(l.PopoverSelectableItem,{value:"all_time",selected:"all_time"===this.props.filter},i.intl.formatMessage({id:"261J2J",defaultMessage:"All time"})),n.default.createElement(l.PopoverSelectableItem,{value:"year_to_date",selected:"year_to_date"===this.props.filter},i.intl.formatMessage({id:"EqTfoU",defaultMessage:"Year-to-date"})),this.renderMenuItems()))))},t.prototype.renderMenuItems=function(){var e=[],t=this.props,a=t.filters,i=t.filter;return a&&a.forEach((function(t){e.push(n.default.createElement(l.PopoverSelectableItem,{key:t,value:t,selected:t===i},t))})),e},t.prototype.render=function(){var e,t=this.props,a=t.amountLabel,o=t.canEditBilling,r=t.displayNoTransactionsOnEmptyRecords,l=t.showEditInvoiceModal,d=t.logAccountBillingTabEvents,u=t.isTeam,c=t.renderPublicLinks,m=t.publicInvoiceLink,p=t.publicReceiptLink,_=this.props.billingHistoryRecords,f=a||i.intl.formatMessage({id:"PoJI4y",defaultMessage:"Price"});if(r&&0===_.length){var g=this.props.noTransactionLabel?this.props.noTransactionLabel:i.intl.formatMessage({id:"SNLY2j",defaultMessage:"No transactions"});e=n.default.createElement("tr",{className:"row-content"},n.default.createElement("td",{className:"row-content__date"}),n.default.createElement("td",{className:"row-content__description"},g),n.default.createElement("td",{className:"row-content__links"}),n.default.createElement("td",{className:"row-content__price"}))}return n.default.createElement("div",null,n.default.createElement("table",{className:"billing-history-table",cellSpacing:"0"},n.default.createElement("thead",null,n.default.createElement("tr",null,this.buildHeaderDate(),n.default.createElement("th",{className:"row-header desc-row u-font-meta",colSpan:2},i.intl.formatMessage({id:"VfjryA",defaultMessage:"Description"})),n.default.createElement("th",{className:"row-header price-row u-font-meta"},f))),this.buildFooterIfNecessary(),n.default.createElement("tbody",null,e,_.map((function(e,t){return n.default.createElement(s.BillingHistoryTableRow,{canEditBilling:o,isTeam:u,key:e.id,logAccountBillingTabEvents:d,renderPublicLinks:c,publicInvoiceLink:m,publicReceiptLink:p,row:e,showEditInvoiceModal:l})})))))},t.defaultProps={onSelection:function(){}},t})((n=a.__importDefault(n)).default.Component);t.BillingHistoryTable=d})),define("modules/clean/teams/admin/widgets/billing_notifications/cancel_billing_changes_modal",["require","exports","tslib","modules/core/i18n","modules/clean/react/modal","modules/clean/payments/skus/subscription_change_plan","modules/clean/payments/skus/subscription_diff","modules/clean/payments/skus/subscription_service","modules/constants/trademark","modules/clean/ajax","modules/clean/dbmodal_stack","modules/core/notify","react","modules/clean/teams/admin/widgets/change_plan_modal/change_plan_constants","modules/clean/account_page/constants"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),d=a.__importStar(d);var f=(function(e){function t(t){var a=e.call(this,t)||this;return a.onAccept=function(){switch(a.props.cancellationType){case _.CancellationType.PLAN:a.cancelPlanOrBillingScheduledChange(_.CancellationType.PLAN);break;case _.CancellationType.SCHEDULE:a.cancelPlanOrBillingScheduledChange(_.CancellationType.SCHEDULE);break;case _.CancellationType.LICENSES:a.cancelLicensesScheduledChanges();break;case _.CancellationType.ALL:a.cancelAll()}},a.subService=new r.SubscriptionService,a.state={submitting:!1},a}return a.__extends(t,e),t.showInstance=function(e){i.Modal.showInstance(m.default.createElement(t,a.__assign({},e)))},t.prototype.submittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!0})}))},t.prototype.doneSubmittingRequest=function(){this.setState((function(e){return a.__assign(a.__assign({},e),{submitting:!1})}))},t.prototype.cancelAll=function(){var e=this,t=this.props,a=t.transitionPerformed,s=t.subStatus;this.submittingRequest();var r=o.SubscriptionDiff.fromSubscriptionState(s.subState);this.subService.validateAndPerformTransition(r).then((function(t){c.Notify.success(n.intl.formatMessage({id:"V1HktT",defaultMessage:"Your scheduled changes have been cancelled!"})),a&&a(t),i.Modal.close(),e.props.reOpenModalDialogAfterCancellation&&u.DBModalStack.trigger(p.CHANGE_PLAN_DUAL_MODAL_UPDATED,null)})).finally((function(){e.doneSubmittingRequest()}))},t.prototype.cancelLicensesScheduledChanges=function(){var e=this,t=this.props.subStatus,a=o.SubscriptionDiff.fromSubscriptionStatus(t);this.submittingRequest(),a.setTotalLicenses(t.subState.totalLicenses),this.subService.price(a).then((function(t){t?e.subService.performTransition(t).then((function(t){e.props.transitionPerformed&&e.props.transitionPerformed(t),c.Notify.success(n.intl.formatMessage({id:"dC654w",defaultMessage:"You’ve cancelled your change!"})),e.doneSubmittingRequest(),i.Modal.close(),e.props.reOpenModalDialogAfterCancellation&&u.DBModalStack.trigger(p.CHANGE_PLAN_DUAL_MODAL_UPDATED,null)})).catch((function(){e.errorUpdatingChanges()})):e.errorUpdatingChanges()})).catch((function(){e.errorUpdatingChanges()}))},t.prototype.errorUpdatingChanges=function(){c.Notify.error(n.intl.formatMessage({id:"axFwLb",defaultMessage:"Failed to revert changes."})),this.doneSubmittingRequest(),i.Modal.close()},t.prototype.cancelPlanOrBillingScheduledChange=function(e){var t,a,o=this,r=this.props,l=r.transitionPerformed,m=r.subStatus;this.submittingRequest(),d.WebRequest({url:"/account/team/change_plan_modal_view_model",success:function(r){var d=JSON.parse(r);if(t=d.serializedSubChangePlans.map((function(e){return s.SubscriptionChangePlan.deserialize(e)})),(a=t.filter((function(t){return!!(t.finalSubState&&t.finalSubState.plan&&t.finalSubState.billingSchedule&&m.subState&&m.subState.plan&&m.finalSubState&&m.finalSubState.billingSchedule&&m.finalSubState.plan&&m.subState.billingSchedule)&&(e===_.CancellationType.PLAN?m.subState.plan.productType===t.finalSubState.plan.productType&&m.finalSubState.billingSchedule.id===t.finalSubState.billingSchedule.id:e===_.CancellationType.SCHEDULE&&(m.finalSubState.plan.productType===t.finalSubState.plan.productType&&m.subState.billingSchedule.id===t.finalSubState.billingSchedule.id))}))).length>0){var f=a[0];o.subService.performTransition(f).then((function(e){c.Notify.success(n.intl.formatMessage({id:"dC654w",defaultMessage:"You’ve cancelled your change!"})),l&&l(e),o.doneSubmittingRequest(),i.Modal.close(),o.props.reOpenModalDialogAfterCancellation&&u.DBModalStack.trigger(p.CHANGE_PLAN_DUAL_MODAL_UPDATED,null)}))}else c.Notify.error(n.intl.formatMessage({id:"axFwLb",defaultMessage:"Failed to revert changes."}))},error:function(){c.Notify.error(n.intl.formatMessage({id:"C2BKnZ",defaultMessage:"Failed to load modal."})),o.doneSubmittingRequest(),i.Modal.close(),o.props.reOpenModalDialogAfterCancellation&&u.DBModalStack.trigger(p.CHANGE_PLAN_DUAL_MODAL_UPDATED,null)}})},t.prototype.render=function(){var e,t=this.props,a=t.cancellationType,s=t.subStatus;if(!s.subState.plan||!s.subState.billingSchedule)return m.default.createElement("noscript",null);var o=n.intl.formatMessage({id:"maSQGe",defaultMessage:"Confirm cancelled change"});switch(a){case _.CancellationType.PLAN:case _.CancellationType.SCHEDULE:case _.CancellationType.LICENSES:e=n.intl.formatMessage({id:"7r0nc8",defaultMessage:"You’re cancelling your scheduled changes. Your {trademark_business} {plan} plan will renew on {date} and you will be billed {schedule}."},{trademark_business:l.TRADEMARK_BUSINESS,plan:s.subState.plan.displayName(),date:s.subState.formattedNextBillingDate,schedule:s.subState.billingSchedule.scheduleDescriptionAdjective});break;case _.CancellationType.ALL:default:o=n.intl.formatMessage({id:"NCTtwj",defaultMessage:"Confirmation"}),e=n.intl.formatMessage({id:"AmEj2/",defaultMessage:"By confirming, all existing scheduled changes will be cancelled."})}return m.default.createElement(i.Modal,{acceptButtonDisabled:this.state.submitting,acceptButtonText:n.intl.formatMessage({id:"BKISIV",defaultMessage:"Confirm"}),autoClose:!1,dismissButtonText:n.intl.formatMessage({id:"5QiL0e",defaultMessage:"Don’t cancel"}),onAccept:this.onAccept,title:o,submitting:this.state.submitting},m.default.createElement("p",null,e))},t})((m=a.__importDefault(m)).default.Component);t.CancelBillingChangesConfirmationView=f})),define("modules/clean/teams/admin/widgets/billing_notifications/cancellable_item",["require","exports","tslib","react","modules/core/i18n","classnames"],(function(e,t,a,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importDefault(s);var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e,t,a=this.props,i=a.title,o=a.description,r=a.handleAction,l=a.useCTA,d=a.CTAText,u=this.props.className?this.props.className:"",c=s.default(((e={"cancellable-item__button":!0,"link-button":!0})[u]=!0,e));return l&&(t=n.default.createElement("button",{className:c,onClick:r},d)),n.default.createElement("div",{className:"cancellable-item"},n.default.createElement("span",{className:"cancellable-item__title"},i)," ",n.default.createElement("span",{className:"cancellable-item__desc"},o),t)},t.defaultProps={CTAText:i.intl.formatMessage({id:"7kgsyk",defaultMessage:"Cancel change"}),useCTA:!1},t})(n.default.Component);t.CancellableItemView=o})),define("modules/clean/teams/admin/widgets/change_plan_modal/change_plan_constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHANGE_PLAN_DUAL_MODAL_UPDATED="change_plan_dual_modal:updated",(function(e){e[e.PLAN_CHANGE=1]="PLAN_CHANGE",e[e.SCHEDULE_CHANGE=2]="SCHEDULE_CHANGE"})(t.DualPlanModalMode||(t.DualPlanModalMode={}))})),define("modules/clean/react/growth/trials/requests",["require","exports","tslib","modules/clean/ajax","modules/core/i18n","modules/clean/react/growth/logging_util","modules/clean/react/growth/util","modules/core/notify","modules/clean/react/growth/trials/types","modules/clean/react/snackbar","modules/clean/api_v2/user_client"],(function(e,t,a,n,i,s,o,r,l,d,u){"use strict";function c(e,t,n,i,o,r,l,d){return a.__awaiter(this,void 0,void 0,(function(){var c,_;return a.__generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,5,,6]),c=new u.UserApiV2Client,_=null,n!==s.RequestType.START_TRIAL?[3,2]:[4,c.ns("trials").rpc("start",i,{subjectUserId:o})];case 1:return _=a.sent(),[3,4];case 2:return n!==s.RequestType.CANCEL_TRIAL?[3,4]:[4,c.ns("trials").rpc("cancel",i,{subjectUserId:o})];case 3:_=a.sent(),a.label=4;case 4:return _&&"ok"===_.status?p(e,t,n,r):m(e,t,n,void 0,l,d),[3,6];case 5:return a.sent(),m(e,t,n,void 0,l,d),[3,6];case 6:return[2]}}))}))}function m(e,t,a,n,o,l){var u=n||i.intl.formatMessage({id:"bLA3rA",defaultMessage:"There was a problem completing this request."});s.logAjaxError(e,t,a,{errorMessage:u}),r.Notify.error(u),l&&d.Snackbar.close(l),o&&o()}function p(e,t,a,n,i){s.logAjaxSuccess(e,t,a),n&&(i?n(i):n())}function _(e,t,a,n,o,r){var l="cancel-trial-notification";d.Snackbar.sync(i.intl.formatMessage({id:"jXr05+",defaultMessage:"Canceling trial..."}),!1,l);return c(e,t,s.RequestType.CANCEL_TRIAL,{trial_sku_code:a},n,(function(){d.Snackbar.complete(i.intl.formatMessage({id:"RBkBP9",defaultMessage:"You’ve successfully canceled your trial."}),l),o&&o()}),r,l)}function f(e,t,a,o){var r="cancel-trial-notification";d.Snackbar.sync(i.intl.formatMessage({id:"jXr05+",defaultMessage:"Canceling trial..."}),!1,r);var l=s.RequestType.CANCEL_TRIAL,u=function(){d.Snackbar.complete(i.intl.formatMessage({id:"RBkBP9",defaultMessage:"You’ve successfully canceled your trial."}),r),a&&a()};n.WebRequest({url:"/downgrade/process",success:function(){return p(e,t,l,u)},error:function(a,n,i){return m(e,t,l,i,o,r)}})}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.startTrial=function(e,t,a,n,i,o,r){return c(e,t,s.RequestType.START_TRIAL,{trial_sku_code:a,trial_duration:n},i,o,r)},t.cancelTrial=function(e,t,a,n,i,s,o){return n===l.TrialSource.TRANSITIONS_TRIAL?f(e,t,s,o):n===l.TrialSource.PLATFORM_TRIAL?_(e,t,a,i,s,o):null},t.cancelPlatformTrial=_,t.cancelTransitionTrial=f,t.transitionPlan=function(e,t,a,i,r,l){var d=s.RequestType.TRANSITION_PLAN,u=o.getTransitionChangeType(e);u?n.WebRequest({type:"POST",url:"/account/perform_personal_transition",data:{transition_change_type:u},subject_user:t,success:function(){return p(a,i,d,r)},error:function(e,t,n){return m(a,i,d,n,l)}}):m(a,i,d)},t.getPriceConversionsForSchedule=function(e,t,n,i,o,r){return a.__awaiter(this,void 0,void 0,(function(){var l,d;return a.__generator(this,(function(a){switch(a.label){case 0:l=s.RequestType.GET_PRICE_CONVERSIONS_FOR_SCHEDULE,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(new u.UserApiV2Client).ns("trials").rpc("get_price_conversions_for_schedule",i,{subjectUserId:e})];case 2:return(d=a.sent())?p(t,n,l,o,d):m(t,n,l,void 0,r),[3,4];case 3:return a.sent(),m(t,n,l,void 0,r),[3,4];case 4:return[2]}}))}))},t.enableAutoConvert=function(e,t,n,i,o,r){return a.__awaiter(this,void 0,void 0,(function(){var l,d;return a.__generator(this,(function(a){switch(a.label){case 0:l=s.RequestType.ENABLE_AUTO_CONVERT,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(new u.UserApiV2Client).ns("trials").rpc("enable_auto_convert",i,{subjectUserId:e})];case 2:return(d=a.sent())&&"ok"===d.status?p(t,n,l,o,d):m(t,n,l,void 0,r),[3,4];case 3:return a.sent(),m(t,n,l,void 0,r),[3,4];case 4:return[2]}}))}))}})),define("modules/clean/react/payments/unified_module/unified_actions/unified_submit_action",["require","exports","tslib","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/unified_module/unified_data_export"],(function(e,t,a,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.submitUnifiedForm=function(e,t,a){return function(o,r){var l,d=r(),u=d.formData.countryCode.formattedValue,c=d.pageState.paymentFormSpec,m=d.formData.paymentMethod.formattedValue,p=s.getPaymentFieldNamesToSubmit(u,c,m,{});l=d.pageState.paymentFormSpec.isTeam()?m===n.PaymentMethod.CreditCard?"/team/payments/ajax_update_billing_credit_card":m===n.PaymentMethod.DirectDeposit?"/team/payments/ajax_update_billing_direct_debit":"/team/payments/ajax_update_billing_paypal":m===n.PaymentMethod.CreditCard?"/update_credit_card_billing_info_ajax":m===n.PaymentMethod.DirectDeposit?"/update_direct_debit_billing_info_ajax":m===n.PaymentMethod.Ideal?"/update_ideal_billing_info_ajax":"/paypal_billing_info",o(i.submitForm(l,p,e,{payment_method:d.formData.paymentMethod.formattedValue,request_id:d.pageState.requestId,submit_seq:d.pageState.submitSeq},void 0,t,a))}}})),define("modules/clean/react/payments/unified_module/unified_actions/unified_store",["require","exports","tslib","redux","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/update_team_billing/update_team_actions","modules/clean/react/payments/buy/actions/page_actions","modules/clean/react/payments/unified_module/unified_actions/unified_submit_action"],(function(e,t,a,n,i,s,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importStar(i),s=a.__importStar(s),o=a.__importStar(o),r=a.__importStar(r),t.bindUnifiedBillingActions=function(e){return n.bindActionCreators({updateHistory:o.updateHistory,showFormFieldErrors:i.showFormFieldErrors,submitBillingForm:r.submitUnifiedForm,updatePaymentMethod:i.updatePaymentMethod,updateCountryCode:s.updateBillingCountryCode,updateZipCode:i.updateZipCode,updateVat:i.updateVat,updateCpf:i.updateCpf,updateCpfName:i.updateCpfName,updateNonce:i.updateNonce,updatePayPalNonce:i.updatePayPalNonce,updateAdyenEncryptedCard:i.updateAdyenEncryptedCard,updateEncryptedCardForNetworkToken:i.updateEncryptedCardForNetworkToken,updateBrowserInfo:i.updateBrowserInfo,updateThreeDsData:i.updateThreeDsData,triggerThreeDsChallenge:i.triggerThreeDsChallenge,triggerThreeDsFingerprint:i.triggerThreeDsFingerprint,updateBIN:i.updateBIN,updateAccountHolderName:i.updateAccountHolderName,updateIBAN:i.updateIBAN,updateMandateSigned:i.updateMandateSigned,updateIdealBank:i.updateIdealBank,updatePhone:i.updatePhone,updateCity:i.updateCity,updateName:i.updateName,updateAddress:i.updateAddress,blurCCField:i.blurCCField,blurZipCode:i.blurZipCode,blurVat:i.blurVat,blurCpf:i.blurCpf,blurAccountHolderName:i.blurAccountHolderName,blurIBAN:i.blurIBAN,blurPhone:i.blurPhone,blurCity:i.blurCity,blurName:i.blurName,blurAddress:i.blurAddress},e.dispatch)}})),define("modules/clean/react/payments/unified_module/unified_fields/unified_cpf_field",["require","exports","tslib","react","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_text_input_field","modules/clean/react/payments/common/form_value_helpers","modules/core/i18n"],(function(e,t,a,n,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCpfChange=function(e){t.props.actions.updateCpf(e.value)},t.onCpfNameChange=function(e){t.props.actions.updateCpfName(e.value)},t}return a.__extends(t,e),t.prototype.cpfErrorString=function(){var e=this.props.formData.cpf;return!s.FormValueHelper.isValid(e)&&e.showError?o.intl.formatMessage({id:"MQDRWx",defaultMessage:"Please enter a valid CPF number."}):""},t.prototype.render=function(){var e=this.props,t=e.paymentSpec,a=e.formData,s=null;return t.should_require_cpf(a.countryCode.formattedValue,a.paymentMethod.formattedValue)&&(s=n.default.createElement("div",{className:"grid__item"},n.default.createElement(i.UnifiedTextInputField,{autoSetupForm:a.cpf,name:"cpf",labelText:o.intl.formatMessage({id:"Z1BdZ2",defaultMessage:"CPF/CNPJ"}),errorText:this.cpfErrorString(),onChange:this.onCpfChange}),n.default.createElement(i.UnifiedTextInputField,{labelDivClassName:"billing-cpf grid__item",name:"cpf_name",labelText:o.intl.formatMessage({id:"cJojIg",defaultMessage:"Name"}),value:a.cpfName.rawValue,onChange:this.onCpfNameChange}))),s},t})((n=a.__importDefault(n)).default.Component);t.UnifiedCPFField=r})),define("modules/clean/react/payments/unified_module/unified_fields/unified_vat_field",["require","exports","tslib","classnames","react","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_text_input_field","modules/clean/react/payments/common/form_value_helpers","modules/core/i18n","modules/clean/payments/validation"],(function(e,t,a,n,i,s,o,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var d=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.onVatChange=function(e){this.props.actions.updateVat(e.value)},t.prototype.vatErrorString=function(){var e=this.props.formData.vat;return!o.FormValueHelper.isValid(e)&&e.showError?r.intl.formatMessage({id:"iRjYtd",defaultMessage:"Please enter a valid VAT number (ex: {examples})."},{examples:l.getVatExamples(this.props.formData.countryCode.formattedValue).join(", ")}):""},t.prototype.render=function(){var e=this.props,t=e.paymentSpec,a=e.formData,o=null;if(t.should_show_vat_for_country(a.countryCode.formattedValue)){var d=l.getVatPrefix(a.countryCode.formattedValue),u=n.default({"billing-vat":!0,grid__item:!0});o=i.default.createElement(s.UnifiedTextInputField,{labelDivClassName:u,autoSetupForm:a.vat,name:"vat",labelText:r.intl.formatMessage({id:"eZAuK1",defaultMessage:"VAT number (optional)"}),errorText:this.vatErrorString(),placeholder:d,onChange:this.onVatChange.bind(this)})}return o},t})((i=a.__importDefault(i)).default.Component);t.UnifiedVatField=d})),define("modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_generic_input",["require","exports","tslib","classnames","purify","react"],(function(e,t,a,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importStar(i);var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.render=function(){var e=n.default({"input__label--errormodal":Boolean(this.props.errorText)},this.props.className,"label-input","input__label"),t=s.default.createElement("label",{className:"label "+(this.props.labelClass?this.props.labelClass:""),htmlFor:this.props.htmlFor},this.props.labelText),a=null;this.props.labelAfterElement&&(a=t,t=null);var o=null;o=this.props.rightLabelElement?s.default.createElement("div",{className:"grid__item grid--x-bookend"},t,s.default.createElement("div",null,this.props.rightLabelElement)):t;var r=null;this.props.errorText?r=this.props.errorText:this.props.errorHTML&&(r=s.default.createElement("span",{dangerouslySetInnerHTML:{__html:i.sanitize(this.props.errorHTML)}}));var l=s.default.createElement("label",{className:"error-message",htmlFor:this.props.htmlFor},r);return s.default.createElement("div",{className:e},o,this.props.children,a,l)},t})((s=a.__importDefault(s)).default.Component);t.UnifiedGenericInput=o})),define("modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_select_input_field",["require","exports","tslib","react","react-dom","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_generic_input"],(function(e,t,a,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importStar(i);var o=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(i.findDOMNode(this.input))},t.prototype.onClick=function(e){this.props.onClick&&this.props.onClick(i.findDOMNode(this.input))},t.prototype.componentDidMount=function(){if(this.props.onChange){var e=i.findDOMNode(this.input),t=e.value;t&&t!==this.props.value&&this.props.onChange(e)}},t.prototype.render=function(){var e=this,t=this.props,a=t.name,i=t.className,o=t.labelClass,r=t.labelText,l=t.rightLabelElement,d=t.errorText,u=t.errorHTML,c=t.autoComplete;return n.default.createElement(s.UnifiedGenericInput,{className:i,errorHTML:u,errorText:d,labelClass:o,htmlFor:a,labelText:r,rightLabelElement:l},n.default.createElement("select",{autoComplete:c,className:"option-selector",id:a,name:a,onChange:this.onChange.bind(this),onClick:this.onClick.bind(this),value:this.props.value,ref:function(t){e.input=t}},this.props.children))},t})(n.default.Component);t.UnifiedLabeledSelectInput=o})),define("modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_text_input_field",["require","exports","tslib","classnames","react","react-dom","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_generic_input"],(function(e,t,a,n,i,s,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importDefault(i),s=a.__importStar(s);var l=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onBlur=function(e){t.props.onBlur&&t.props.onBlur(s.findDOMNode(t.refToInput))},t.onFocus=function(e){t.props.onFocus&&t.props.onFocus(s.findDOMNode(t.refToInput))},t.onChange=function(e){t.props.onChange&&t.props.onChange(s.findDOMNode(t.refToInput))},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){if(this.props.onChange){var e=s.findDOMNode(this.refToInput),t=e.value;t&&t!==this.props.value&&this.props.onChange(e)}},t.prototype.render=function(){var e=this,t=this.props,a=t.labelDivClassName,s=t.disabled,l=t.errorText,d=t.errorHTML,u=t.labelClass,c=t.labelText,m=t.maxLength,p=t.name,_=t.placeholder,f=t.value,g=t.autoComplete,h=t.autoSetupForm,y=this.props.type||"text",M=null;if(h){var b=h.errorState&&h.showError;f=f||h.rawValue,d=d||h.serverError,d=b?d:void 0,l=b?l:void 0;var v="billing-"+p+"-input",S=""!==h.formattedValue&&o.FormValueHelper.isValid(h)?"billing-"+p+"-input--valid":"";M=n.default({baseInputClass:v,invalidClass:S});var L="billing-"+p;a=n.default(a,L,{grid__item:!0})}var T=n.default({input__text:!0,"input__text--errormodal":Boolean(l)||Boolean(d)},this.props.inputClassName,M);return i.default.createElement(r.UnifiedGenericInput,{className:a,errorHTML:d,errorText:l,htmlFor:p,labelClass:u,labelText:c},i.default.createElement("input",{autoComplete:g,className:T,type:y,name:p,id:p,ref:function(t){e.refToInput=t},value:null===f?"":f,disabled:s,onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus,maxLength:m,placeholder:_}))},t})(i.default.Component);t.UnifiedTextInputField=l})),define("modules/clean/react/payments/unified_module/unified_address_form",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/payments/common/form_value_helpers","modules/clean/react/payments/common/constants","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_text_input_field","modules/clean/react/payments/unified_module/unified_fields/unified_fields_base/unified_select_input_field"],(function(e,t,a,n,i,s,o,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCountryCodeChange=function(e){t.props.actions.updateCountryCode(e.value)},t.onZipCodeBlur=function(e){t.props.actions.blurZipCode(e.value)},t.onZipCodeChange=function(e){t.props.actions.updateZipCode(e.value)},t.zipCodeErrorString=function(){var e=t.props.formData.zipCode;return!s.FormValueHelper.isValid(e)&&e.showError?o.ZipCodeErrorMessage:""},t}return a.__extends(t,e),t.prototype.renderCountrySelector=function(e){var t=this,a="grid__item--2-3";!0===e&&(a="grid__item"),this.props.showServerViewVersion&&(a="grid__item grid__item--3-4");var s=this.props.countryList.map((function(e){var a=e[0],i=e[1];return n.default.createElement("option",{key:"location-"+a,value:a,"aria-selected":a===t.props.formData.countryCode.formattedValue},i)}));return n.default.createElement(l.UnifiedLabeledSelectInput,{autoComplete:"country",className:a,labelText:i.intl.formatMessage({id:"1SPrvR",defaultMessage:"Country"}),name:"country_code",onChange:this.onCountryCodeChange,value:this.props.formData.countryCode.rawValue},s)},t.prototype.renderZipCodeInput=function(){var e=i.intl.formatMessage({id:"5kJrVX",defaultMessage:"Postal Code"}),t="US"===this.props.formData.countryCode.formattedValue?i.intl.formatMessage({id:"ciLB6A",defaultMessage:"Billing ZIP"}):e,a=!this.props.paymentSpec.allow_zip_code_for_country(this.props.formData.countryCode.formattedValue);return n.default.createElement(r.UnifiedTextInputField,{autoComplete:"postal-code",labelDivClassName:"billing-zip payment-info__zip grid__item grid__item--7-24",disabled:a,errorText:this.zipCodeErrorString(),errorHTML:this.props.formData.zipCode.serverError,labelText:t,name:"zip",onChange:this.onZipCodeChange,value:this.props.formData.zipCode.rawValue,onBlur:this.onZipCodeBlur})},t.prototype.render=function(){return n.default.createElement(n.default.Fragment,null,this.renderCountrySelector(!1),this.renderZipCodeInput())},t})((n=a.__importDefault(n)).default.Component);t.UnifiedAddressForms=d})),define("modules/clean/react/payments/unified_module/unified_payment_form_async",["require","exports","tslib","react","modules/core/i18n","modules/clean/react/payments/unified_module/unified_payment_form","modules/clean/react/payments/unified_module/unified_actions/unified_store","modules/clean/react/payments/common/form/actions/actions","modules/clean/react/payments/update_team_billing/update_team_store_creator","modules/clean/react/payments/update_team_billing/reducers","modules/clean/ajax","modules/core/notify","modules/clean/static_urls"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),u=a.__importStar(u);var p=(function(e){function t(t){var a=e.call(this,t)||this;return a.calledOnSuccess=!1,a.handleLoadFailure=function(){c.Notify.error(i.intl.formatMessage({id:"gaNMlz",defaultMessage:"Failed to load payment form."}))},a.saveUnifiedPaymentMethodForm=function(e){a.unifiedPaymentForm=e},a.prepareForSubmission=function(){return a.unifiedPaymentForm.prepareForSubmission()},a.onAccept=function(e){void 0===e&&(e=r.SubmitFormTriggerType.ButtonClick),a.actions.submitBillingForm(a.prepareForSubmission,a.unifiedPaymentForm.getCreditCardFrame().handle3DsMessage,e)},a.iFrameUrl="",a}return a.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;u.WebRequest({url:"/account/unified_payment_view",data:{isTeam:this.props.isTeam},success:function(t){var a=JSON.parse(t);if(a.isError)e.setState({}),e.handleLoadFailure();else{var n={countryList:a.countryList,iframeUrl:a.iframeUrl,vat:a.vat,userInfo:a.userInfo,countryToCurrencyMap:a.countryToCurrencyMap,countryCode:a.countryCode,serializedPaymentFormSpec:a.serializedPaymentFormSpec,requestId:a.requestId,submitSeq:0};e.iFrameUrl=a.iframeUrl,e.countryList=a.countryList,e.paymentExperiments=a.paymentExperiments,e.store=l.createBillingStore(n,d.BillingReducer),e.setState(e.store.getState()),e.store.subscribe((function(){var t=e.store.getState();if(!t.pageState.submitSuccess)if(e.props.isSubmittingStatus){var a=e.props.isSubmittingStatus;e.setState((function(e){return a(t.pageState.submitting),t}))}else e.setState((function(e){return t}));t.pageState.submitSuccess&&!e.calledOnSuccess&&(e.props.onSuccess(),e.calledOnSuccess=!0)}))}},error:function(){e.handleLoadFailure()}})},Object.defineProperty(t.prototype,"actions",{get:function(){return o.bindUnifiedBillingActions(this.store)},enumerable:!0,configurable:!0}),t.prototype.renderLoading=function(){return n.default.createElement("div",{className:"loading-spinner"},n.default.createElement("img",{src:m.static_url("/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:i.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"})}))},t.prototype.render=function(){return""===this.iFrameUrl?this.renderLoading():n.default.createElement("div",{className:"payment-info-section"},n.default.createElement("div",{className:"payment-method-section grid__container"},n.default.createElement(s.UnifiedPaymentForm,{ref:this.saveUnifiedPaymentMethodForm,paymentSpec:this.state.pageState.paymentFormSpec,iframeUrl:this.iFrameUrl,countryList:this.countryList,formData:this.state.formData,actions:this.actions,submitForm:this.onAccept,payment_experiments:this.paymentExperiments})))},t})(n.default.Component);t.UnifiedPaymentFormAsync=p})),define("modules/clean/react/payments/unified_module/unified_payment_form",["require","exports","tslib","classnames","modules/clean/analytics","react","modules/core/i18n","modules/clean/react/payments/checkout/components/payment_method_form/credit_card_frame","modules/clean/react/payments/checkout/components/payment_method_form/direct_debit_form","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/checkout/components/payment_method_form/payment_method_selector","modules/clean/react/payments/unified_module/unified_fields/unified_cpf_field","modules/clean/react/payments/unified_module/unified_fields/unified_vat_field","modules/clean/react/payments/unified_module/unified_address_form","modules/clean/react/payments/unified_module/unified_data_export"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n);var f=(function(e){function t(t){return e.call(this,t)||this}return a.__extends(t,e),t.prototype.getPaymentData=function(){return _.getDataIfValid(this.props.formData,this.props.paymentSpec,this.prepareForSubmission(),this.props.payment_experiments)},t.prototype.componentDidMount=function(){var e=this.props.formData.countryCode.formattedValue;i.TeamsWebActionsLogger.log("uj-billing-country",{country:e}),"BR"===e&&i.TeamsWebActionsLogger.log("uj-cpf-viewed-field"),this.props.actions.updateHistory()},t.prototype.prepareForSubmission=function(){return this.props.formData.paymentMethod.formattedValue===d.PaymentMethod.CreditCard?this.creditCardFrame.tokenize():Promise.resolve(!0)},t.prototype.getCreditCardFrame=function(){return this.creditCardFrame},t.prototype.renderLocationFields=function(){var e=this.props,t=e.paymentSpec,a=e.formData,n=null,i=o.intl.formatMessage({id:"8vkOAo",defaultMessage:"Please note: changing your billing location could impact your applicable tax rate."});return t.should_show_vat_for_country(a.countryCode.formattedValue)&&(i=o.intl.formatMessage({id:"RCr4JC",defaultMessage:"Please note: changing your billing location or VAT number could impact your applicable tax rate."})),this.props.paymentSpec.isTeam()||(n=s.default.createElement("div",{className:"disclaimer-message"},i)),s.default.createElement("div",{className:"location-info-fields grid__item grid--x-bookend"},s.default.createElement(p.UnifiedAddressForms,{paymentSpec:this.props.paymentSpec,formData:this.props.formData,actions:this.props.actions,countryList:this.props.countryList}),s.default.createElement(m.UnifiedVatField,{paymentSpec:this.props.paymentSpec,formData:this.props.formData,actions:this.props.actions,payment_experiments:this.props.payment_experiments}),s.default.createElement(c.UnifiedCPFField,{paymentSpec:this.props.paymentSpec,formData:this.props.formData,actions:this.props.actions,payment_experiments:this.props.payment_experiments}),n)},t.prototype.render=function(){var e=this,t=this.props,a=t.paymentSpec,i=t.actions,o=t.formData,c=this.renderLocationFields(),m=c;o.paymentMethod.formattedValue===d.PaymentMethod.DirectDeposit&&(m=s.default.createElement(l.DirectDebitForm,{locationFields:c,formData:o,actions:i}));var p=n.default({grid__item:!0,"payment-form":!0,"payment-form--responsive":!0});return s.default.createElement("div",{className:p},s.default.createElement(u.PaymentMethodSelector,{isTeam:!1,paymentSpec:a,paymentMethod:o.paymentMethod.rawValue,updatePaymentMethod:this.props.actions.updatePaymentMethod,countryCode:o.countryCode.rawValue,zipCode:o.zipCode.rawValue}),s.default.createElement(r.CreditCardFrame,{getHeightFromIframe:!0,iframeUrl:this.props.iframeUrl,isResponsive:!0,hidden:o.paymentMethod.formattedValue!==d.PaymentMethod.CreditCard,actions:this.props.actions,ref:function(t){e.creditCardFrame=t},nonce:o.nonce,bin:o.bin,submitForm:this.props.submitForm}),m)},t})((s=a.__importDefault(s)).default.Component);t.UnifiedPaymentForm=f})),define("modules/clean/react/payments/unified_module/unified_data_export",["require","exports","tslib","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/business/state/business_state","modules/clean/react/payments/common/form_value_helpers"],(function(e,t,a,n,i,s){"use strict";function o(e,t,a,i){var s=["countryCode"];return t.allow_zip_code_for_country(e)&&s.push("zipCode"),t.should_show_vat_for_country(e)&&s.push("vat"),t.should_require_cpf(e,a)&&(s.push("cpf"),s.push("cpfName")),a===n.PaymentMethod.CreditCard?(s.push("nonce"),s.push("adyenEncryptedCard"),s.push("encryptedCardForNetworkToken"),s.push("bin"),s.push("browserInfo"),s.push("threeDsData")):a===n.PaymentMethod.DirectDeposit?s.push("accountHolderName","iban","mandateSigned"):a===n.PaymentMethod.Ideal&&s.push("idealBankId","idealBankName"),s}function r(e,t){return t[e]}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),t.getDataIfValid=function(e,t,a,n){var l=o(e.countryCode.formattedValue,t,e.paymentMethod.formattedValue,n);return(function(e,t){for(var a=0,n=e;a<n.length;a++){var i=r(n[a],t);if(!s.FormValueHelper.isValid(i))return!1}return!0})(l,e)?a.then((function(){return(function(e,t){for(var a={},n=0,s=e;n<s.length;n++){var o=s[n];a[i.fieldsToServerProps[o]]=r(o,t).formattedValue}return a})(l,e)})):Promise.resolve(null)},t.getPaymentFieldNamesToSubmit=o})),define("modules/clean/react/payments/checkout/components/inputs/radio_input",["require","exports","tslib","react","react-dom"],(function(e,t,a,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),i=a.__importStar(i);var s=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.onChange=function(e){this.props.onChange&&this.props.onChange(i.findDOMNode(this.input))},t.prototype.componentDidMount=function(){if(this.props.onChange){var e=i.findDOMNode(this.input),t=e.checked;t&&t!==this.props.checked&&this.props.onChange(e)}},t.prototype.render=function(){var e=this,t=this.props,a=t.name,i=t.id,s=t.className,o=t.checked,r=t.value,l=t.disabled;return n.default.createElement("input",{type:"radio",className:s,name:a,id:i,value:r,checked:o,onChange:this.onChange.bind(this),disabled:l,ref:function(t){e.input=t}})},t})(n.default.Component);t.RadioInput=s})),define("modules/clean/react/payments/checkout/components/payment_method_form/payment_method_option",["require","exports","tslib","react","modules/core/i18n","classnames","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/checkout/components/inputs/radio_input","modules/clean/react/payments/pro/components/inputs/inputs"],(function(e,t,a,n,i,s,o,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importDefault(n),s=a.__importDefault(s);var d=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.onChange=function(e){this.props.onSelected(this.props.paymentMethod)},t.prototype.render=function(){var e,t=this.props,a=t.icons,d=t.labelText,u=t.paymentMethod,c=[],m=["payment-method-option","payment-info__option"];if(this.props.isTeam?(m.push("grid__item"),m.push("grid__item--medium--shrink"),m.push("grid--y-middle"),m.push("grid__container--p-micro")):this.props.numberOfPaymentMethods&&this.props.numberOfPaymentMethods>2?m.push("grid__item--medium--1-4"):m.push("grid__item--medium--1-2"),d&&(e="payment-method-label#debit",c.push(n.default.createElement("span",{key:e,className:"debit"},this.props.labelText))),a){if(u===o.PaymentMethod.CreditCard){var p=a.join(", ").replace("_","-"),_=i.intl.formatMessage({id:"IBCGt3",defaultMessage:"Credit card. We accept {payment_methods}"},{payment_methods:p});e="payment-method-label#creditcard",c.push(n.default.createElement("span",{key:e,className:"ax-visually-hidden"},_))}else u===o.PaymentMethod.PayPal&&(e="payment-method-label#paypal",c.push(n.default.createElement("span",{key:e,className:"ax-visually-hidden"},i.intl.formatMessage({id:"RxvBVG",defaultMessage:"Paypal"}))));for(var f=0,g=a;f<g.length;f++){var h=g[f];e="payment-method-icon#"+h,c.push(n.default.createElement("span",{key:e,className:h}))}}return this.props.isTeam?n.default.createElement("div",{className:s.default(m)},n.default.createElement(r.RadioInput,{name:"payment_method",id:"payment_method_"+u,value:u.toString(),checked:this.props.selected,onChange:this.onChange.bind(this)}),n.default.createElement("label",{htmlFor:"payment_method_"+u,className:"payment-method-label"},c)):n.default.createElement("div",{className:s.default(m)},n.default.createElement(l.LabeledRadioInput,{id:"payment_method_"+u,name:"payment_method",className:"payment-info__payment",value:u.toString(),checked:this.props.selected,onClick:this.onChange.bind(this)}),n.default.createElement("label",{htmlFor:"payment_method_"+u,className:"payment-info__method-label",onClick:this.onChange.bind(this)},c))},t})(n.default.Component);t.PaymentMethodOption=d})),define("modules/clean/react/payments/checkout/components/payment_method_form/payment_method_selector",["require","exports","tslib","react","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/checkout/components/payment_method_form/payment_method_option","modules/core/i18n"],(function(e,t,a,n,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPaymentMethodSelected=function(e){t.props.updatePaymentMethod(e)},t}return a.__extends(t,e),t.prototype.getLabelForMethodId=function(e){return e===i.PaymentMethod.CreditCard?n.default.createElement(s.PaymentMethodOption,{key:"payment-method#"+e,paymentMethod:i.PaymentMethod.CreditCard,selected:this.props.paymentMethod===i.PaymentMethod.CreditCard,onSelected:this.onPaymentMethodSelected,icons:this.props.paymentSpec.supported_credit_cards_for_country(this.props.countryCode),isTeam:this.props.isTeam,numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):e===i.PaymentMethod.PayPal?n.default.createElement(s.PaymentMethodOption,{key:"payment-method#"+e,paymentMethod:i.PaymentMethod.PayPal,selected:this.props.paymentMethod===i.PaymentMethod.PayPal,onSelected:this.onPaymentMethodSelected,icons:["paypal"],isTeam:this.props.isTeam,numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length}):e===i.PaymentMethod.DirectDeposit?n.default.createElement(s.PaymentMethodOption,{key:"payment-method#"+e,isTeam:this.props.isTeam,labelText:o.intl.formatMessage({id:"H1vHwe",defaultMessage:"Direct Debit"}),numberOfPaymentMethods:this.props.paymentSpec.available_payment_methods_for_country(this.props.countryCode).length,onSelected:this.onPaymentMethodSelected,paymentMethod:i.PaymentMethod.DirectDeposit,selected:this.props.paymentMethod===i.PaymentMethod.DirectDeposit}):null},t.prototype.render=function(){var e=this,t=this.props,a=t.countryCode,i=t.paymentSpec.available_payment_methods_for_country(a).map((function(t){return e.getLabelForMethodId(t)}));return n.default.createElement("div",{className:"payment-method-selector payment-info__selector grid__item"},i)},t})((n=a.__importDefault(n)).default.Component);t.PaymentMethodSelector=r})),define("modules/clean/react/payments/update_team_billing/reducers",["require","exports","tslib","modules/clean/react/payments/common/form/reducers/reducers","modules/clean/react/payments/common/payments/reducers/reducers","modules/clean/react/payments/common/pricing/reducers/reducers"],(function(e,t,a,n,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BillingReducer=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce((function(e,t){return function(a,n){return t(e(a,n),n)}}))}.apply(void 0,a.__spreadArrays([function(e,t){return"SubmitFormSuccess"!==t.type?e:a.__assign(a.__assign({},e),{pageState:a.__assign(a.__assign({},e.pageState),{submitSuccess:!0})})},n.FormReducer],i.PaymentMethodReducers,s.TransitionManagementReducers))})),define("modules/clean/react/payments/update_team_billing/update_team_actions",["require","exports","tslib","modules/core/i18n","modules/core/notify","modules/clean/payments/payment_form/payment_form_spec","modules/clean/react/payments/common/form/actions/actions"],(function(e,t,a,n,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=a.__importStar(s),t.submitTeamBillingForm=function(e,t,a){return function(n,i){var r,l=i(),d=l.formData.countryCode.formattedValue,u=l.pageState.paymentFormSpec,c=["countryCode"];u.allow_zip_code_for_country(d)&&c.push("zipCode"),u.should_show_vat_for_country(d)&&c.push("vat"),u.should_require_cpf(d,l.formData.paymentMethod.formattedValue)&&c.push("cpf"),l.formData.paymentMethod.formattedValue===s.PaymentMethod.CreditCard?(c.push("nonce"),c.push("adyenEncryptedCard"),c.push("encryptedCardForNetworkToken"),c.push("bin"),c.push("browserInfo"),c.push("threeDsData"),r="/team/payments/ajax_update_billing_credit_card"):l.formData.paymentMethod.formattedValue===s.PaymentMethod.DirectDeposit?(c.push("accountHolderName","iban","mandateSigned"),r="/team/payments/ajax_update_billing_direct_debit"):r="/team/payments/ajax_update_billing_paypal",n(o.submitForm(r,c,e,{payment_method:l.formData.paymentMethod.formattedValue,request_id:l.pageState.requestId,submit_seq:l.pageState.submitSeq},void 0,t,a))}},t.updateBillingCountryCode=function(e){return function(t,a){var s=a(),r=s.pageState.countryToCurrencyMap;!(e in r)&&s.formData.countryCode.formattedValue in r?i.Notify.error(n.intl.formatMessage({id:"K81Lqx",defaultMessage:"You can’t change to a country with a different currency. For help, contact support."}),3):t(o.updateCountryCode(e))}}})),define("modules/clean/react/payments/update_team_billing/update_team_store_creator",["require","exports","tslib","redux","redux-thunk","modules/clean/react/payments/common/middleware/payments_ux_logger","modules/clean/redux/unsupported","modules/clean/analytics","modules/clean/dbmodal_stack","modules/clean/react/modal","modules/clean/react/payments/common/form/middleware/middleware","modules/clean/react/payments/common/payments/state/store_creator","modules/clean/react/payments/common/form_value_factory","modules/core/i18n","modules/core/notify","modules/clean/react/payments/update_individual_billing/update_individual_store_creator"],(function(e,t,a,n,i,s,o,r,l,d,u,c,m,p,_,f){"use strict";function g(e){return function(e){return function(t){if("SubmitFormSuccess"!==t.type)return e(t);var a=e(t);return _.Notify.success(p.intl.formatMessage({id:"w5p44x",defaultMessage:"We’ve successfully updated your team’s billing information."})),r.TeamsWebActionsLogger.log("update_billing_open_save_changes_success"),d.Modal.close(),l.DBModalStack.trigger(f.BILLING_INFO_UPDATED,null),a}}}function h(e,t,a){var n=e.vat,i=e.countryCode,s=e.userInfo,o=c.createPaymentFormData(e,t,a),r=o.paymentMethod,l=o.countryCode,d=o.zipCode,u=o.vat,p=o.cpf,_=o.nonce,f=o.payPalNonce,g=o.adyenEncryptedCard,h=o.encryptedCardForNetworkToken,y=o.bin,M=o.browserInfo,b=o.threeDsData,v=o.accountHolderName,S=o.iban,L=o.mandateSigned,T=o.termsAndService,w=o.idealBankId,D=o.idealBankName;return{city:o.city,phone:o.phone,name:o.name,address:o.address,paymentMethod:r,countryCode:l,zipCode:d,vat:n?m.FormValueFactory.createVat(n,i):u,cpf:p,cpfName:m.FormValueFactory.createCpfNamePrefill("","",s.displayName),nonce:_,payPalNonce:f,bin:y,browserInfo:M,threeDsData:b,adyenEncryptedCard:g,encryptedCardForNetworkToken:h,accountHolderName:v,iban:S,mandateSigned:L,termsAndService:T,idealBankId:w,idealBankName:D}}Object.defineProperty(t,"__esModule",{value:!0}),n=a.__importStar(n),i=a.__importDefault(i),t.submitFormSuccessMiddleware=g,t.createBillingStore=function(e,t){var a=(function(e){var t=(function(e){var t=c.createPaymentPageState(e).paymentFormSpec;return{countryToCurrencyMap:e.countryToCurrencyMap,submitState:null,submitSuccess:!1,submitting:!1,submitSeq:0,paypalEmail:"",requestId:e.requestId,paymentFormSpec:t}})(e),a=(function(e){var t=c.createPaymentPricingState(e),a=t.countryCode,n=t.countryCodeLoading,i=t.hasCurrencyChanged,s=t.hasTaxChangedWithinCountry,o=t.loadingPrices,r=t.recentLoadEvent,l=t.requestToken;return{countryCode:a,countryCodeLoading:n,hasCurrencyChanged:i,hasTaxChangedWithinCountry:s,loadingPrices:o,recentLoadEvent:r,requestToken:l}})(e);return{pricingState:a,pageState:t,formData:h(e,t,a)}})(e),r=n.applyMiddleware(i.default,u.submitFormErrorMiddleware,g,new s.PaymentsUXLogger(e.requestId).reduxMiddleware);return o.createStore(t,a,r)},t.createFormData=h})),define("modules/clean/react/survey/types/survey_types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.TOO_EXPENSIVE="101",e.TECH_ISSUES="102",e.BETTER_ALTERNATIVE="103",e.TEMPORARY_NEED="104",e.NOT_SATISFIED="105",e.OTHER="106",e.SWITCH_TO_BUSINESS="107",e.MAJOR_LIFE_CHANGE="108",e.NEED_DIFFERENT_PLAN="109",e.USING_ANOTHER_SERVICE="110",e.NOT_ENOUGH_STORAGE="111",e.COVID_19="112"})(t.SurveyReason||(t.SurveyReason={}))}));
//# sourceMappingURL=pkg-account_subscription_core.min.js-vflp5ad-F.map