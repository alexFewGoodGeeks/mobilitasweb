define("modules/clean/flux/flux_store",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(function(){function e(e){this._listeners=[],this._dispatcher=e,this._dispatchToken=this._dispatcher.register(this.__invokeOnDispatch.bind(this)),this.__hasChanged=!1}return e.prototype.teardown=function(){this._dispatcher.unregister(this._dispatchToken)},e.prototype.getDispatcher=function(){return this._dispatcher},e.prototype.getDispatchToken=function(){return this._dispatchToken},e.prototype.addListener=function(e){var t=this;return this._listeners.push(e),function(){return t._listeners=Array.from(t._listeners).filter((function(t){return t!==e}))}},e.prototype.hasChanged=function(){return this.__hasChanged},e.prototype.__emitChange=function(){this.__hasChanged=!0},e.prototype.__invokeOnDispatch=function(e){if(this.__hasChanged=!1,this.__onDispatch(e),this.__hasChanged)return Array.from(this._listeners).map((function(e){return e()}))},e})();t.FluxStore=n})),define("modules/clean/photos/thumb_loading/generic_thumb_store",["require","exports","modules/clean/photos/thumb_loading/http2_thumb_loader","modules/core/exception"],(function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=(function(){function e(e,t){this.loaderBatches=!1,this.thumbUrlToData={},this.callbackByRequestId={},this.loaderBatches=!!t,this.thumbLoader=e||new n.Http2ThumbLoader}return e.prototype.is_batching=function(){return this.loaderBatches},e.prototype.bind_url=function(e,t){var n=this;if(r.assert(!!t.onSuccess,"missing onSuccess handler"),this.thumbUrlToData[e])return t.onRequest&&t.onRequest(!0),t.onSuccess(!0),null;var o=this.thumbLoader.get_request_id();this.callbackByRequestId[o]=t;return this.thumbLoader.load_image(e,o,(function(){var e=n.callbackByRequestId[o];e&&e.onRequest&&e.onRequest(!1)}),(function(t){n.thumbUrlToData[e]=t;var r=n.callbackByRequestId[o];r&&r.onSuccess(!1)}),(function(){var e=n.callbackByRequestId[o];e&&e.onError&&e.onError()}),(function(){return n.callbackByRequestId.hasOwnProperty(o)})),o},e.prototype.unbind_url=function(e){e&&(delete this.callbackByRequestId[e],this.thumbLoader.cancel_thumb(e))},e.prototype.get_thumb=function(e){return this.thumbUrlToData[e]?this.thumbUrlToData[e]:null},e})();t.GenericThumbStore=o})),define("modules/clean/photos/thumb_loading/http2_thumb_loader",["require","exports","modules/clean/photos/thumb_loading/utils"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(){function e(){this.http2RequestId=0}return e.prototype.get_request_id=function(){return this.http2RequestId+=1,this.http2RequestId.toString()},e.prototype.load_image=function(e,t,r,o,a,i){r(),n.load_individual_image(e,1,o,a,i)},e.prototype.cancel_thumb=function(e){},e})();t.Http2ThumbLoader=r})),define("modules/clean/photos/thumb_loading/utils",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.load_individual_image=function(e,t,n,r,o){var a=new Image;a.onload=function(){return n(e)},a.onerror=function(){t>0&&o()?(t-=1,a.src=e):r()},a.src=e}})),define("modules/clean/react/file_uploader/file_uploader",["require","exports","tslib","react","modules/core/exception"],(function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r);var a=null,i=(function(t){function i(e){var n=t.call(this,e)||this;return n.handleAllFileUploadsComplete=function(e){e.find((function(e){return!!n.state.uploadErrorTypes&&e.errorType===n.state.uploadErrorTypes.OVER_QUOTA_ERROR}))&&!n.isPaidTeamViewer()&&i.showModal("out-of-quota"),n.props.onAllFileUploadsComplete&&n.props.onAllFileUploadsComplete(e)},n.path=n.props.initialPath?n.props.initialPath:"/",n.hasPermissionToUploadToFolder=!!n.props.initialPermission,n.state={fileUploader:void 0,uploaderStore:void 0,uploaderActions:void 0,oqModalTypes:void 0,viewer:void 0,uploadErrorTypes:void 0},n.props.loadOnRender&&i.requireFileUploader({}),a?o.reportStack("Only one FileUploader component may be rendered to the page at any time.You have tried to instantiate multiple uploaders.",{severity:o.SEVERITY.CRITICAL}):a=n,e.shouldInitialize&&i.initialized(),n}return n.__extends(i,t),i.showModal=function(e){a&&(a.refs.fileUploader?e&&"regular"!==e?"out-of-quota"===e&&a.state.oqModalTypes?a.refs.fileUploader.showOQModal({context:a.state.oqModalTypes.WENT_OQ_DURING_UPLOAD}):"team-onboarding"===e&&a.refs.fileUploader.showModalWithTeamOnboarding():a.refs.fileUploader.showModal():(e=e||"regular",i.requireFileUploader({modalType:e})))},i.requireFileUploader=function(t){var r=t.modalType,o=t.handleUploadButtonClick,s=t.folderUpload,l=function(e){var t=e[0].FileUploader,n=e[1].uploaderStore,l=e[2].UploaderActions,c=e[3].UploaderOverQuotaModalContexts,d=e[4].Viewer,u=e[5].UploadErrorType;a&&(a.setAsyncRequiredUploaderModules(t,l,n,c,d,u),i.onInitialized.then((function(){r&&i.showModal(r),o&&i.handleUploadButtonClick(!!s)})))};l.perfName="file_uploader",Promise.all([new Promise((function(t,n){e(["modules/clean/react/file_uploader/uploader_new"],t,n)})).then(n.__importStar),new Promise((function(t,n){e(["modules/clean/react/file_uploader/store"],t,n)})).then(n.__importStar),new Promise((function(t,n){e(["modules/clean/react/file_uploader/actions"],t,n)})).then(n.__importStar),new Promise((function(t,n){e(["modules/clean/react/file_uploader/oq_drag_drop_modal_types"],t,n)})).then(n.__importStar),new Promise((function(t,n){e(["modules/clean/viewer"],t,n)})).then(n.__importStar),new Promise((function(t,n){e(["modules/clean/react/file_uploader/constants"],t,n)})).then(n.__importStar)]).then(l)},i.prototype.componentDidUpdate=function(e){!e.shouldInitialize&&this.props.shouldInitialize&&i.initialized()},i.prototype.componentWillUnmount=function(){a=null},i.loadCoreComponent=function(){a&&a.state.fileUploader||i.requireFileUploader({})},i.isCoreComponentDefined=function(){return!!a&&!!a.state.fileUploader},i.setPathAndPermissions=function(e){a&&a.state.uploaderActions&&a.state.uploaderActions.setPath(e)},i.setPath=function(e){a&&(a.state.uploaderActions?a.state.uploaderActions.setPath({path:e}):(e||(e="/"),a.path=e))},i.setUser=function(e){a&&(a.state.uploaderActions?a.state.uploaderActions.setUser({user:e}):a.user=e||void 0)},i.prototype.setAsyncRequiredUploaderModules=function(e,t,n,r,o,a){this.setState({fileUploader:e,uploaderStore:n,uploaderActions:t,oqModalTypes:r,viewer:o,uploadErrorTypes:a}),this.props.needToSetStoreValues&&(void 0!==this.user&&t.setUser({user:this.user}),t.setPath({path:this.path,hasPermissionToUploadToFolder:this.hasPermissionToUploadToFolder}))},i.handleUploadButtonClick=function(e,t){a&&(a.refs.fileUploader?a.refs.fileUploader.handleUploadButtonClick(e,t):i.requireFileUploader({handleUploadButtonClick:!0,folderUpload:e}))},i.isDraggingFilesHelper=function(e){if(!a)return!1;if(!a.state.uploaderStore)return!1;var t=a.state.uploaderStore;return!!t.numDraggingFiles()&&(e?t.isInternalTransfer():!t.isInternalTransfer())},i.isDraggingInternalFiles=function(){return i.isDraggingFilesHelper(!0)},i.isDraggingExternalFiles=function(){return i.isDraggingFilesHelper(!1)},i.isUploadModalOpen=function(){return!!a&&(!!a.state.uploaderStore&&a.state.uploaderStore.isUploadModalOpen())},i.prototype.isPaidTeamViewer=function(){return!(!this.user||!this.state.viewer||!this.user.is_team||this.state.viewer.get_viewer().team_is_limited)},i.prototype.render=function(){var e=this.props,t=e.autoTeamGroupId,n=e.browseViewType,o=e.isContentManager,a=e.getBrowseContext,i=e.ajaxInterceptor,s=e.onFileUploadComplete,l=e.onModalDismissed,c=e.dragAndDropEnabled,d=e.shouldShowDestinationLink,u=e.uploaderExperiments,p=e.uploaderPostTTIExperiments,m=e.chooseDestination,f=e.rootNSIDForCM,h=e.handleClickNewFolder,b=e.uploadConsumerInterface,_=e.useUploadKit,g=e.parallelFileUploads,v=e.shouldInitialize;if(!this.state.fileUploader||!v)return r.default.createElement("div",null);var y=this.state.fileUploader;return r.default.createElement(y,{ref:"fileUploader",key:1,autoTeamGroupId:t,browseViewType:n,isContentManager:o,getBrowseContext:a,ajaxInterceptor:i,onFileUploadComplete:s,onAllFileUploadsComplete:this.handleAllFileUploadsComplete,onModalDismissed:l,dragAndDropEnabled:c,shouldShowDestinationLink:d,uploaderExperiments:u,uploaderPostTTIExperiments:p,chooseDestination:m,rootNSIDForCM:f,handleClickNewFolder:h,uploadConsumerInterface:b,useUploadKit:_,parallelFileUploads:g})},i.onInitialized=new Promise((function(e){i.initialized=function(){e()}})),i.defaultProps={shouldInitialize:!0},i})(r.default.Component);t.FileUploaderController=i})),define("modules/clean/react/file_uploader/upload_button",["require","exports","tslib","spectrum/button","spectrum/tertiary_link","react"],(function(e,t,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.renderPrimaryButton=function(){return a.default.createElement(r.Button,{className:this.props.className,disabled:this.props.disabled,onClick:this.props.handleClick,variant:"primary",tagName:this.props.tagName},this.props.children)},t.prototype.renderTertiaryLink=function(){return a.default.createElement(o.TertiaryLink,{icon:this.props.iconName,onClick:this.props.handleClick,disabled:this.props.disabled,className:this.props.className},this.props.children)},t.prototype.renderCMButton=function(){return a.default.createElement("button",{className:this.props.className,disabled:this.props.disabled,onClick:this.props.handleClick},this.props.children)},t.prototype.render=function(){return"primary"===this.props.variant?this.renderPrimaryButton():"CM"===this.props.variant?this.renderCMButton():this.renderTertiaryLink()},t})((a=n.__importDefault(a)).default.PureComponent);t.UploadButton=i})),define("modules/clean/react/maestro/layout/search",["require","exports","tslib","classnames","react","spectrum/media_table_skeleton","modules/clean/react/async/loadable","modules/clean/react/growth/onboarding_sidebar/util","modules/clean/react/maestro/layout/chrome","modules/clean/search/single_page/constants","modules/core/i18n"],(function(e,t,n,r,o,a,i,s,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),o=n.__importDefault(o),t.AsyncMaestroSearchSidebar=i.Loadable({loader:function(){return n.__awaiter(void 0,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return[4,Promise.all([new Promise((function(t,n){e(["modules/clean/search/single_page/sidebar"],t,n)})).then(n.__importStar),new Promise((function(e){return setTimeout(e,c.SEARCH_INPUT_ANIMATION_MS)}))])];case 1:return[2,t.sent()[0].SearchSidebar]}}))}))}}),t.AsyncMaestroSearchView=i.Loadable({loader:function(){return n.__awaiter(void 0,void 0,void 0,(function(){return n.__generator(this,(function(t){switch(t.label){case 0:return[4,Promise.all([new Promise((function(t,n){e(["modules/clean/search/single_page/view"],t,n)})).then(n.__importStar),new Promise((function(e){return setTimeout(e,c.SEARCH_INPUT_ANIMATION_MS)}))])];case 1:return[2,t.sent()[0].SearchView]}}))}))},loading:function(e){var t=e.inputBox;return t.current&&t.current.value?o.default.createElement(a.MediaTableSkeleton,{numRows:15}):null},loadError:function(){return o.default.createElement("div",null,d.intl.formatMessage({id:"eU2b7o",defaultMessage:"Something went wrong. Please reload the page."}))}});var u=(function(e){function a(n){var r=e.call(this,n)||this;return r.handleSearchExit=function(){r.setState({isSearching:!1})},r.handleSearchEnter=function(){r.setState({isSearching:!0})},r.renderSearchSidebar=function(e,n){return o.default.createElement(t.AsyncMaestroSearchSidebar,{key:"search",user:r.props.user,responsive:e,scrollableSidebarRef:n})},r.renderEmbeddedApp=function(e){return[r.inSearchMode?o.default.createElement(t.AsyncMaestroSearchView,{key:"search",user:r.props.user,responsive:e,inputBox:r.state.inputBox}):null,o.default.createElement("div",{style:{display:r.inSearchMode?"none":void 0},key:"app"},"function"==typeof r.props.embeddedAppRegion?r.props.embeddedAppRegion(e):r.props.embeddedAppRegion)]},r.state={isSearching:n.searchBarProps&&n.searchBarProps.isSearching||!1,inputBox:o.default.createRef()},r}return n.__extends(a,e),a.prototype.componentDidMount=function(){this.state.isSearching&&s.hideOnboardingSidebar()},a.prototype.componentDidUpdate=function(e,t){t.isSearching!==this.state.isSearching&&(this.state.isSearching?s.hideOnboardingSidebar():s.showOnboardingSidebar())},Object.defineProperty(a.prototype,"inSearchMode",{get:function(){return this.props.searchBarProps&&"full-page"===this.props.searchBarProps.searchVariant&&this.props.user&&this.state.isSearching},enumerable:!0,configurable:!0}),a.prototype.render=function(){var e=r.default({"maestro-chrome--search":!0,"maestro-chrome--search-active":this.inSearchMode,"exp-details-pane-variants":this.inSearchMode&&this.props.wideSecondarySidebar},this.props.chromeClass);return o.default.createElement(l.MaestroChrome,n.__assign({},this.props,{actionSidebarRegion:this.inSearchMode?this.renderSearchSidebar:this.props.actionSidebarRegion,searchBarProps:n.__assign(n.__assign({},this.props.searchBarProps||{}),{isSearching:this.state.isSearching,onSearchExit:this.handleSearchExit,onSearchEnter:this.handleSearchEnter,inputBoxRef:this.state.inputBox}),embeddedAppRegion:this.renderEmbeddedApp,titleClass:"page-header__title--search",chromeClass:e,scrollableSidebarRegion:this.inSearchMode?this.renderSearchSidebar:this.props.scrollableSidebarRegion,useScrollableSidebar:!0}))},a})(o.default.PureComponent);t.SearchChrome=u}));var __importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};define("modules/clean/sharing/wizard/async_wizard_modals",["require","exports"],(function(e,t){"use strict";function n(t){new Promise((function(t,n){e(["modules/clean/sharing/wizard/wizard_modals"],t,n)})).then(__importStar).then(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.asyncShareExistingFolder=function(e,t,r,o){n((function(n){n.shareExistingFolder(e,t,r,o)}))},t.asyncShowShareAFolderWizardModal=function(e,t){n((function(n){var r=n.showShareAFolderWizardModal(e);t&&t(r)}))}})),define("modules/clean/react/app_actions_view",["require","exports","tslib","classnames","react","spectrum/button","spectrum/icon_action","spectrum/overflow_button","spectrum/popover","spectrum/tertiary_link","modules/clean/react/badge","modules/clean/react/css","modules/clean/react/file_uploader/upload_button","modules/clean/react/portal_popover","modules/clean/user_education/react/user_education_effect","modules/clean/user_education/user_education_client","modules/core/exception"],(function(e,t,n,r,o,a,i,s,l,c,d,u,p,m,f,h,b){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),o=n.__importDefault(o);var _=function(e){e.handleClick&&e.handleClick()},g=function(e,t){return function(){return o.default.createElement(f.UserEducationEffect,{containerName:"AppActionsPopover",name:"OverflowButton",useSpan:!0},o.default.createElement(s.OverflowButton,{tagName:"span","aria-label":t||"",onClick:e,tabIndex:0,className:"app-action-overflow__trigger"}))}},v=function(e){return function(){return e.map((function(e){return e=e,o.default.createElement(l.PopoverContentItem,{key:e.key,value:e,className:e.className,disabled:e.disabled},e.iconName&&o.default.createElement(i.IconAction,{name:e.iconName,className:"popover-item-icon"}),e.displayName)}))}};t.AppActionsPopover=function(e){var t=e.primaryMenuItems,n=e.secondaryMenuItems,r=e.popoverTriggerLabel,a=e.shouldUsePortalPopover,c=[];if(t)for(var d=0,u=t;d<u.length;d++){var p=u[d];N(p)&&(c=p.subItems?c.concat(p.subItems):c.concat([p]))}return n&&(c=c.concat.apply(c,n.filter((function(e){return!("function"==typeof e)})))),c.length&&r?a?o.default.createElement(m.PortalPopover,{popoverTriggerSelector:".app-action-overflow__trigger",renderPopoverTrigger:g(void 0,r),renderPopoverItems:v(c),onSelection:_}):o.default.createElement(l.Popover,{onSelection:_},o.default.createElement(l.PopoverTrigger,null,o.default.createElement(f.UserEducationEffect,{containerName:"AppActionsPopover",name:"OverflowButton",useSpan:!0},o.default.createElement(s.OverflowButton,{tagName:"span","aria-label":r}))),o.default.createElement(l.PopoverContent,{attachment:"right"},c.map((function(e){return e=e,o.default.createElement(l.PopoverContentItem,{key:e.key,value:e,className:e.className,disabled:e.disabled},e.iconName&&o.default.createElement(i.IconAction,{name:e.iconName,className:"popover-item-icon"}),e.displayName)})))):o.default.createElement("noscript",null)};var y=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.scrollableSidebarRef,r=e.secondaryMenuItems,a=e.shouldUsePortalPopover,c=e.popoverTriggerLabel,d=e.onContextMenuClick,u=r?n.__spreadArrays(r.filter((function(e){return!("function"==typeof e)}))):[];return u.length?a?o.default.createElement(m.PortalPopover,{popoverTriggerSelector:".app-action-overflow__trigger",renderPopoverTrigger:g(d,c),renderPopoverItems:v(u),scrollableContainer:t,onSelection:_}):o.default.createElement(l.Popover,{onSelection:_},o.default.createElement(l.PopoverTrigger,null,o.default.createElement(f.UserEducationEffect,{containerName:"AppActionsPopover",name:"OverflowButton",useSpan:!0},o.default.createElement(s.OverflowButton,{tagName:"span","aria-label":c||"",onClick:d}))),o.default.createElement(l.PopoverContent,{attachment:"right"},u.map((function(e){return e=e,o.default.createElement(l.PopoverContentItem,{key:e.key,value:e,className:e.className,disabled:e.disabled},e.iconName&&o.default.createElement(i.IconAction,{name:e.iconName,className:"popover-item-icon"}),e.displayName)})))):null},t})(o.default.Component),S=function(e,t,n){h.UEClient.sendEvent(e,t),n&&n()},E=function(e){var t,n=e.primaryMenuItem,s=e.buttonVariant;if(N(n)){if(Object.keys(n).length>0){var c=r.default("primary-action-menu__button",n.className),d=c.indexOf("action-upload")>=0,u=!!n.subItems,m=o.default.createElement(f.UserEducationEffect,{containerName:"AppActionsView",name:"PrimaryButtonText",useSpan:!0},n.displayName),h=d?o.default.createElement(p.UploadButton,{className:c,disabled:n.disabled,handleClick:function(){S("AppActionsView","PrimaryButtonTextClicked",n.handleClick)},variant:s,tagName:u?"span":void 0},m):o.default.createElement(a.Button,{className:c,disabled:n.disabled,onClick:n.handleClick,variant:s,tagName:u?"span":void 0},m);t=u?o.default.createElement(l.Popover,{onSelection:_},o.default.createElement(l.PopoverTrigger,{disabled:n.disabled},h),o.default.createElement(l.PopoverContent,{className:"primary-action-menu__popover-menu"},n.subItems.map((function(e){return o.default.createElement(l.PopoverContentItem,{key:e.key,value:e,className:e.className,disabled:e.disabled},e.iconName&&o.default.createElement(i.IconAction,{name:e.iconName,className:"popover-item-icon"}),e.popoverMenuName)})))):h}}else t=n();return o.default.createElement("div",{className:"primary-action-menu__button-wrapper"},t)},C=function(e){var t=e.primaryMenuItems,n=e.secondaryMenuItemsOverflow,r=e.popoverTriggerLabel,a=e.headerText,i=e.hideHeaderText,s=e.onContextMenuClick,l=e.hideCreateButton,c=e.scrollableSidebarRef,d=e.shouldUsePortalPopover,u=i?null:o.default.createElement("span",{className:"primary-action-menu__header-text"},a);return t&&t.length>0?o.default.createElement("div",{className:"primary-action-menu"},u,o.default.createElement("div",{className:"primary-action-menu__buttons"},t.map((function(e,t){var n;return n=l?"secondary":0===t?"primary":"secondary",o.default.createElement(E,{primaryMenuItem:e,buttonVariant:n,key:t})})),n.length>0&&o.default.createElement(y,{secondaryMenuItems:n,popoverTriggerLabel:r,onContextMenuClick:s,scrollableSidebarRef:c,shouldUsePortalPopover:d}))):o.default.createElement("noscript",null)},w=function(e){var t=e.menuItem,a=t.disabled,i=t.displayName,s=t.handleClick,l=t.iconName,u=t.badge,m=t.ariaLabel,h=t.ariaPressed,b=r.default("secondary-action-menu__button",e.menuItem.className),_=b.indexOf("action-upload")>=0,g=o.default.createElement(f.UserEducationEffect,{containerName:"AppActionsView",name:"SecondaryActionMenu-text-"+l},i,u&&o.default.createElement(d.Badge,n.__assign({},u)));return _?o.default.createElement(p.UploadButton,{key:e.key,iconName:l,handleClick:function(){S("AppActionsView","SecondaryActionMenu-text-"+l+"-Clicked",s)},disabled:a,className:b,variant:"secondary"},g):o.default.createElement(c.TertiaryLink,{key:e.key,icon:l,onClick:function(){S("AppActionsView","SecondaryActionMenu-text-"+l+"-Clicked",s)},disabled:a,className:b,"aria-label":m,"aria-pressed":h},g)},P=function(e){var t=e.secondaryMenuItems,n=e.user;return t&&0!==t.length?o.default.createElement(c.TertiaryList,{className:"secondary-action-menu"},t.map((function(e){return"function"==typeof e?e():o.default.createElement(w,{user:n,key:e.key||e.displayName,menuItem:e})}))):null};function N(e){return!("function"==typeof e)}var A=(function(e){function a(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(a,e),a.prototype.componentDidMount=function(){this.props.handleComponentTTI("AppActionsView")},a.prototype.render=function(){var e=this.props,a=e.shouldCollapseActions,i=e.responsive,s=e.primaryMenuItems,l=e.primarySubnode,c=e.secondaryMenuItems,d=e.headerText,u=e.hideHeaderText,p=e.popoverTriggerLabel,m=e.user,f=e.onContextMenuClick,h=e.isPrimaryActionSapphire,_=e.scrollableSidebarRef,g=e.shouldUsePortalPopover,v=!(!i||!i.isResponsive||i.isMatchedLarge);s&&s.forEach((function(e){N(e)&&e.subItems&&b.assert(e.subItems.length>0,"Primary menu item cannot have empty list of subItems")}));var y=[],S=[];return void 0!==c&&(a?y=n.__spreadArrays(c):S=n.__spreadArrays(c)),o.default.createElement("div",{className:r.default("appactions-menu",{"sapphire-button":h})},v&&o.default.createElement("div",{className:"appactions-menu--popover"},s&&p&&o.default.createElement(t.AppActionsPopover,{primaryMenuItems:s,secondaryMenuItems:c,popoverTriggerLabel:p,shouldUsePortalPopover:g})),!v&&o.default.createElement("div",{className:"appactions-menu--buttons"},o.default.createElement("div",{className:"appactions-menu--top-row"},s&&o.default.createElement(C,{primaryMenuItems:s,secondaryMenuItemsOverflow:y,popoverTriggerLabel:p,headerText:d,hideHeaderText:u,onContextMenuClick:f,scrollableSidebarRef:_,shouldUsePortalPopover:g})),l,!this.props.hideSidebarCtas&&o.default.createElement(P,{user:m,secondaryMenuItems:S})))},a.defaultProps={headerText:"",secondaryMenuItems:[],handleComponentTTI:function(){}},a})(o.default.PureComponent),O=u.requireCssWithComponent(A,["/static/css/spectrum/index.web-vfl6Z83yw.css","/static/css/dropbox/app_actions-vflcoADwh.css"]);t.AppActionsView=O})),define("modules/clean/react/actions_menu/view",["require","exports","tslib","classnames","react","dig-components/badges","dig-components/buttons","dig-components/icons","dig-components/icons/src","dig-components/menu","modules/clean/react/badge","modules/clean/react/css","modules/clean/user_education/react/user_education_effect","modules/clean/user_education/user_education_client","modules/core/browser_detection"],(function(e,t,n,r,o,a,i,s,l,c,d,u,p,m,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),o=n.__importStar(o),l=n.__importStar(l);var h=function(e,t,n){return function(){m.UEClient.sendEvent(e,t),n&&n()}},b={"upload-file":l.UploadFileLine,upload:l.UploadFileLine,"upload-folder":l.UploadFolderLine,"new-folder":l.FolderLine,"new-shared-folder":l.AddFolderLine,"new-team-folder":l.TeamLine,"view-folder-history":l.FolderHistoryLine,"manage-as-admin":l.SettingsLine,"revert-folder":l.RewindLine,"new-file-request":l.FileRequestLine,hide:l.HideLine,"show-deleted-files":l.ShowLine,link:l.LinkLine,"open-in-app":f.mac?l.FinderLine:l.FileExplorerLine,download:l.DownloadLine,"add-comment":l.CommentLine,star:l.StarLine,unstar:l.StarFill,permissions:l.LockLine,"file-unlock":l.LockOpenLine,"view-version-history":l.ClockLine,rename:l.CursorLine,delete:l.DeleteLine,move:l.MoveLine,copy:l.CopyLine,events:l.ActivityLine,"settings-gear":l.SettingsLine,pin:l.PinLine},_=function(e){var t=e.iconName;return o.default.createElement(s.UIIcon,{src:b[t||""]||l.WarningLine})},g=function(e){var t,s;return o.default.createElement("nav",{className:"actions_menu"},e.primaryMenuItems&&e.primaryMenuItems.length?o.default.createElement("div",{className:"actions_menu__primary"},null===(t=e.primaryMenuItems)||void 0===t?void 0:t.map((function(e){return"function"==typeof e?e():o.default.createElement(i.Button,{key:e.key||e.displayName,variant:e.buttonVariant&&"secondary"===e.buttonVariant?"opacity":"primary",disabled:e.disabled,onClick:h("AppActionsView","PrimaryButtonTextClicked",e.handleClick),className:e.className},o.default.createElement(p.UserEducationEffect,{containerName:"AppActionsView",name:"PrimaryButtonText",useSpan:!0},e.displayName))})),e.shouldCollapseActions&&o.default.createElement(E,n.__assign({},e,{primaryMenuItems:void 0,className:"actions_menu__overflow"}))):null,e.primarySubnode,!e.shouldCollapseActions&&!e.hideSidebarCtas&&o.default.createElement("ul",null,null===(s=e.secondaryMenuItems)||void 0===s?void 0:s.map((function(e){return"function"==typeof e?e():o.default.createElement("li",{key:e.key||e.displayName},o.default.createElement(i.Button,{variant:"transparent",disabled:e.disabled,hasNoUnderline:!0,"aria-label":e.ariaLabel,className:r.default("actions_menu__button",e.className),withIconLeft:o.default.createElement(_,{iconName:e.iconName}),onClick:h("AppActionsView","SecondaryActionMenu-text-"+e.iconName+"-Clicked",e.handleClick)},o.default.createElement(p.UserEducationEffect,{containerName:"AppActionsView",name:"SecondaryActionMenu-text-"+e.iconName,useSpan:!0},e.displayName,e.badge&&o.default.createElement(a.AccessoryBadge,{className:"actions_menu__badge"},d.badgeVariantToText[e.badge.variant]))))}))))},v=function(e){return o.default.createElement(c.Menu.ActionItem,{disabled:e.disabled,value:e,"aria-label":e.ariaLabel,"aria-pressed":e.ariaPressed,className:e.className,withLeftAccessory:o.default.createElement(_,{iconName:e.iconName}),withRightAccessory:"badge"in e&&e.badge&&o.default.createElement(a.AccessoryBadge,null,d.badgeVariantToText[e.badge.variant])},o.default.createElement(p.UserEducationEffect,{containerName:"AppActionsView",name:"SecondaryActionMenu-text-"+e.iconName,useSpan:!0},e.displayName))},y=function(e){h("AppActionsView","SecondaryActionMenu-text-"+e.iconName+"-Clicked",e.handleClick)()},S=function(e){var t=e.item;return"function"==typeof t?null:o.default.createElement(v,n.__assign({},t))},E=function(e){return o.default.createElement(c.Menu.Wrapper,{onSelection:y,className:e.className},(function(t){var r,a,d=t.getContentProps,u=t.getTriggerProps;return o.default.createElement(o.default.Fragment,null,o.default.createElement(p.UserEducationEffect,{containerName:"AppActionsPopover",name:"OverflowButton",useSpan:!0},o.default.createElement(i.IconButton,n.__assign({variant:"transparent"},u({onClick:e.onContextMenuClick}),{"aria-label":e.popoverTriggerLabel}),o.default.createElement(s.UIIcon,{src:l.MoreHorizontalLine}))),o.default.createElement(c.Menu.Content,n.__assign({},d()),o.default.createElement(c.Menu.Segment,null,null===(r=e.primaryMenuItems)||void 0===r?void 0:r.map((function(e,t){return o.default.createElement(S,{item:e,key:t})})),null===(a=e.secondaryMenuItems)||void 0===a?void 0:a.map((function(e,t){return o.default.createElement(S,{item:e,key:t})})))))}))};t.ActionsMenu=u.requireCssWithComponent((function(e){var t=e.handleComponentTTI;return o.useEffect((function(){t&&t("AppActionsView")}),[t]),e.responsive&&e.responsive.isResponsive&&!e.responsive.isMatchedLarge?o.default.createElement(E,n.__assign({},e)):o.default.createElement(g,n.__assign({},e))}),["/static/css/dig-components/index.web-vfliFNMrU.css","/static/css/react/actions_menu-vflTfR4W6.css"])})),define("modules/clean/react/browse/components/consolidated_upload_button",["require","exports","tslib","react","spectrum/popover","spectrum/button","spectrum/icon_action","modules/clean/react/css","modules/core/i18n","modules/clean/web_user_action_logger","modules/clean/web_user_action_events"],(function(e,t,n,r,o,a,i,s,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r);t.ConsolidatedUploadButton=s.requireCssWithComponent((function(e){var t=function(e){e.handleClick&&e.handleClick()},n=function(){c.WebUserActionLog.log(e.userId,d.WebUserActionLogEvent.CONSOLIDATED_UPLOAD_CLICK,{})};if(1===e.uploadActions.length){var s=e.uploadActions[0];return r.default.createElement("div",{className:"consolidated-upload-container "+e.className},r.default.createElement(a.Button,{tagName:"span",variant:"secondary",className:s.className+" consolidated-upload-button",onClick:function(){n(),t(s)},disabled:s.disabled},s.displayName))}var u=e.uploadActions.every((function(e){return e.disabled}));return r.default.createElement(o.Popover,{className:"consolidated-upload-container "+e.className,onSelection:t},r.default.createElement(o.PopoverTrigger,{disabled:u},r.default.createElement(a.Button,{tagName:"span",variant:"secondary",className:"consolidated-upload-button",onClick:n,disabled:u},l.intl.formatMessage({id:"i98Ff5",defaultMessage:"Upload"})+" â–¾")),r.default.createElement(o.PopoverContent,{attachment:e.attachment},r.default.createElement("div",null,e.uploadActions.map((function(e,t){return r.default.createElement(o.PopoverContentItem,{key:e.key||t,value:e,className:e.className,disabled:e.disabled},e.iconName&&r.default.createElement(i.IconAction,{name:e.iconName,className:"popover-item-icon"}),e.displayName)})))))}),["/static/css/spectrum/index.web-vfl6Z83yw.css","/static/css/browse/consolidated_upload_button-vflto6g_z.css"])})),define("modules/clean/react/portal_popover",["require","exports","tslib","classnames","react","react-aria-menubutton","react-dom","spectrum/popover","modules/clean/raf_throttle"],(function(e,t,n,r,o,a,i,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),o=n.__importDefault(o),i=n.__importDefault(i);t.calculateRenderPosition=function(e,t,n,r,o){void 0===o&&(o="right");var a={top:0,left:0,height:"auto",overflowY:"initial"};if(a.left="left"===o?e.left-4:e.left-t.width+e.width+4,e.bottom+n>r&&e.top-n>0)a.top=e.top-n+8;else{a.top=e.top+e.height+8;var i=r-(e.bottom+n);i<0&&(a.height=n+i-40+"px",a.overflowY="auto")}return a};var c=(function(e){function c(t){var n=e.call(this,t)||this;return n.wrapperRef=o.default.createRef(),n.popoverRef=o.default.createRef(),n.portalContentRef=o.default.createRef(),n.fullContentHeight=0,n.onMenuToggle=function(e){n.setState({isOpen:e.isOpen}),n.props.onMenuToggle&&n.props.onMenuToggle(e)},n.state={isOpen:!1},n.resizeThrottle=new l.RafThrottle((function(){n.state.isOpen&&n.resolvePortalPosition()})),n.scrollThrottle=new l.RafThrottle((function(){n.state.isOpen&&n.resolvePortalPosition()})),n.windowScrollThrottle=new l.RafThrottle((function(){n.state.isOpen&&n.resolvePortalPosition()})),n}return n.__extends(c,e),c.prototype.componentDidUpdate=function(e,t){this.state.isOpen&&!t.isOpen?(this.mountListeners(),this.resolvePortalPosition()):!this.state.isOpen&&t.isOpen&&this.unmountListeners()},c.prototype.componentWillUnmount=function(){this.state.isOpen&&this.unmountListeners()},c.prototype.mountListeners=function(){this.props.scrollableContainer&&(this.props.scrollableContainer instanceof HTMLElement?this.props.scrollableContainer.addEventListener("scroll",this.scrollThrottle.request):this.props.scrollableContainer.current&&this.props.scrollableContainer.current.addEventListener("scroll",this.scrollThrottle.request)),window.addEventListener("resize",this.resizeThrottle.request),window.addEventListener("scroll",this.windowScrollThrottle.request)},c.prototype.unmountListeners=function(){this.props.scrollableContainer&&(this.props.scrollableContainer instanceof HTMLElement?this.props.scrollableContainer.removeEventListener("scroll",this.scrollThrottle.request):this.props.scrollableContainer.current&&this.props.scrollableContainer.current.removeEventListener("scroll",this.scrollThrottle.request)),window.removeEventListener("resize",this.resizeThrottle.request),window.removeEventListener("scroll",this.windowScrollThrottle.request)},c.prototype.resolvePortalPosition=function(){var e=this.portalContentRef.current,n=this.wrapperRef.current;if(e&&n){var r=n.querySelector(this.props.popoverTriggerSelector);if(r){var o=e.querySelector(".mc-popover-content-menu"),a=e.querySelector(".mc-popover-content-background");if(!o||!a)return;var i=r.getBoundingClientRect(),s=o.getBoundingClientRect(),l=0===this.fullContentHeight?s.height:this.fullContentHeight;0===this.fullContentHeight&&(this.fullContentHeight=s.height);var c=t.calculateRenderPosition(i,s,l,window.innerHeight,this.props.attachment);e.style.top=c.top+"px",e.style.left=c.left+"px",a.style.height=c.height,a.style.overflowY=c.overflowY}}},c.prototype.close=function(){this.popoverRef.current&&this.popoverRef.current.close()},c.prototype.render=function(){var e=r.default("mc-positioned-portal-content",this.props.portalClassName);return o.default.createElement("div",{ref:this.wrapperRef},o.default.createElement(s.Popover,{onClick:this.props.onClick,onDoubleClick:this.props.onDoubleClick,onSelection:this.props.onSelection,onMenuToggle:this.onMenuToggle,className:this.props.className,closeOnSelection:this.props.closeOnSelection,ref:this.popoverRef},o.default.createElement(s.PopoverTrigger,{tabIndex:this.props.triggerTabIndex},this.props.renderPopoverTrigger()),i.default.createPortal(o.default.createElement("div",{className:e,ref:this.portalContentRef},o.default.createElement("div",{className:r.default("mc-popover-content",this.props.contentClassName)},o.default.createElement(a.Menu,{className:"mc-popover-content-menu"},o.default.createElement("div",{className:"mc-popover-content-scroller"},o.default.createElement("div",{className:"mc-popover-content-background"},this.props.renderPopoverItems()))))),document.body)))},c})(o.default.Component);t.PortalPopover=c})),define("modules/clean/react/growth/onboarding_sidebar/data/actions",["require","exports","modules/clean/react/growth/onboarding_sidebar/data/types"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openOnboardingSidebar=function(){return{type:n.Actions.OpenOnboardingSidebar}},t.closeOnboardingSidebar=function(){return{type:n.Actions.CloseOnboardingSidebar}},t.showOnboardingSidebar=function(){return{type:n.Actions.ShowOnboardingSidebar}},t.hideOnboardingSidebar=function(){return{type:n.Actions.HideOnboardingSidebar}}})),define("modules/clean/react/growth/onboarding_sidebar/data/reducer",["require","exports","tslib","modules/clean/react/growth/onboarding_sidebar/data/types"],(function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={isOnboardingSidebarOpen:!1,isOnboardingSidebarHidden:!1};t.onboardingSidebarReducer=function(e,t){switch(void 0===e&&(e=o),t.type){case r.Actions.OpenOnboardingSidebar:return n.__assign(n.__assign({},e),{isOnboardingSidebarOpen:!0});case r.Actions.CloseOnboardingSidebar:return n.__assign(n.__assign({},e),{isOnboardingSidebarOpen:!1});case r.Actions.ShowOnboardingSidebar:return n.__assign(n.__assign({},e),{isOnboardingSidebarHidden:!1});case r.Actions.HideOnboardingSidebar:return n.__assign(n.__assign({},e),{isOnboardingSidebarHidden:!0});default:return e}}})),define("modules/clean/react/growth/onboarding_sidebar/data/store",["require","exports","tslib","modules/clean/redux/store","modules/clean/redux/namespaces","modules/clean/react/growth/onboarding_sidebar/data/reducer","external/lodash"],(function(e,t,n,r,o,a,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i=n.__importStar(i),t.getStoreForOnboardingSidebar=i.once((function(){var e;return r.getStoreAndRegisterReducers(((e={})[o.ONBOARDING_SIDEBAR_NAMESPACE_KEY]=a.onboardingSidebarReducer,e))}))})),define("modules/clean/react/growth/onboarding_sidebar/data/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.OpenOnboardingSidebar="OnboardingSidebar/OpenOnboardingSidebar",e.CloseOnboardingSidebar="OnboardingSidebar/CloseOnboardingSidebar",e.ShowOnboardingSidebar="OnboardingSidebar/ShowOnboardingSidebar",e.HideOnboardingSidebar="OnboardingSidebar/=HideOnboardingSidebar"})(t.Actions||(t.Actions={}))})),define("modules/clean/react/growth/onboarding_sidebar/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(function(e){e.NCCT_PLUS_TRIALS="ncct_plus_trials",e.WEB_PLUS_TRIALS="web_plus_trials",e.WEB_PLUS_DIRECT="web_plus_direct",e.POT_OF_GOLD="pot_of_gold",e.APP_RECOMMENDATIONS="app_recommendations",e.WEB_FAMILY_DIRECT="web_family_direct"})(t.OnboardingSidebarType||(t.OnboardingSidebarType={})),t.ONBOARDING_SIDEBAR_SLIDE_DURATION=300,t.ONBOARDING_SIDEBAR_EXCLOG_TAG="onboarding_sidebar"})),define("modules/clean/react/growth/onboarding_sidebar/util",["require","exports","tslib","modules/clean/react/growth/onboarding_sidebar/data/store","modules/clean/react/growth/onboarding_sidebar/data/actions","modules/core/exception","modules/clean/react/growth/onboarding_sidebar/types"],(function(e,t,n,r,o,a,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportOnboardingSidebarException=function(e,t,r){a.reportException(n.__assign({err:new Error(e),severity:t,tags:[i.ONBOARDING_SIDEBAR_EXCLOG_TAG]},{exc_extra:{onboardingSidebarType:r}}))},t.openOnboardingSidebar=function(){r.getStoreForOnboardingSidebar().dispatch(o.openOnboardingSidebar())},t.closeOnboardingSidebar=function(){r.getStoreForOnboardingSidebar().dispatch(o.closeOnboardingSidebar())},t.showOnboardingSidebar=function(){r.getStoreForOnboardingSidebar().dispatch(o.showOnboardingSidebar())},t.hideOnboardingSidebar=function(){r.getStoreForOnboardingSidebar().dispatch(o.hideOnboardingSidebar())},t.convertObjectPropertiesToCamelCase=function(e){return Object.keys(e).reduce((function(t,r){var o;if(".tag"===r)return t;var a=r.replace(/(\_\w)/g,(function(e){return e[1].toUpperCase()}));return n.__assign(((o={})[a]=e[r],o),t)}),{})}}));
//# sourceMappingURL=pkg-browse-core.min.js-vflmKC1Jf.map