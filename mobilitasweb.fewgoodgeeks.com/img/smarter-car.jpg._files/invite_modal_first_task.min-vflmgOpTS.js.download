define(["require","exports","tslib","react","react-intl","spectrum/modal","modules/core/browser_detection","modules/core/i18n","modules/clean/ux_analytics_modal_tracking","modules/constants/page_load","modules/clean/react/css","modules/clean/react/growth/first_task/first_task","modules/clean/react/admin/teams/onboarding/web/constants","modules/clean/growth/smb_funnel/smb_funnel_logger","modules/clean/teams/admin/widgets/invite_modal/invite_modal_first_task/invite_modal_invite_content","modules/clean/teams/admin/widgets/invite_modal/invite_modal_first_task/invite_modal_member_list","modules/clean/teams/admin/widgets/invite_modal/invite_modal_first_task/invite_modal_sidebar","modules/clean/teams/admin/widgets/member_send_invite/member_invite_disclosure","modules/clean/viewer"],(function(e,t,i,a,n,s,l,o,r,m,d,c,u,_,f,v,b,g,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a=i.__importDefault(a),l=i.__importStar(l);var h=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.focusRef=a.default.createRef(),t}return i.__extends(t,e),t.prototype.componentDidMount=function(){var e={platform:this.props.loggingExtras.is_client?_.Platform.DESKTOP_SSCV:l.is_supported_mobile_browser()?_.Platform.MOBILE_WEB:_.Platform.WEB};_.SMBFunnelLogger.setCommonTags(e),_.SMBFunnelLogger.log(u.AMPMetrics.ACTIVATION_IMM_VIEW)},t.prototype.render=function(){var e=this.props,t=e.open,i=e.tieredAdmin,l=e.memberList,d=e.memberActionsData,u=e.showSidebar,_=e.emails,h=e.sentEmails,I=e.handleOnClose,w=e.onCSVImport,M=e.handleOnSubmit,C=e.handleCSVImport,E=e.renderInputForm,S=e.renderSubmitBtn,k=e.loggingExtras,A=e.showImportCSV,y=e.isInviteLinkEnabled,L=e.growthActSmbMWInvitesActive,T=e.showMemberInviteDisclaimer,O=e.role,W=L?"invite-modal-first-task-mobile":"invite-modal-first-task",V=p.Viewer.get_viewer(),x=V.work_user,B=V.team_id,N=V.team_name;if(!x||!B||!N)return null;var D=x.id,F=1===l.length||L?o.intl.formatMessage({id:"5dI3gl",defaultMessage:"Invite team members"}):o.intl.formatMessage({id:"WzCl9b",defaultMessage:"Manage team members"});return window.requestAnimationFrame((function(){if(T){var e=document.querySelector("."+W+"__content"),t=document.querySelector("."+W+"__member-invite-disclaimer"),i=t.offsetWidth-parseFloat(getComputedStyle(t,null).width.replace("px",""));t.style.width=e.offsetWidth-i+"px"}})),a.default.createElement(n.IntlProvider,{defaultLocale:"en-US",locale:o.localeToBcp47LangTag(m.USER_LOCALE)},a.default.createElement(s.Modal,{className:L?"mw-invites-modal-sheet":"",open:t,ariaLabel:o.intl.formatMessage({id:"Ntdwnu",defaultMessage:"Invite Members"}),displayCloseButton:!0,onRequestClose:function(){h.length&&c.showClinkTooltip(c.TooltipType.Members),I()},overlayClickClose:!0,width:u?960:699,overflowY:!0,focusedElementOnOpen:this.focusRef,appElement:document.body,bodyClassName:"invite-modal "+W+" "+(u?W+"--sidebar-visible":"")},a.default.createElement(r.UXAnalyticsModalTracking,{id:"invite-modal"}),a.default.createElement("div",{className:W+"__container"},a.default.createElement("div",{className:W+"__content"},a.default.createElement("div",{className:W+"__title"},F),a.default.createElement(f.InviteModalInviteContent,{baseClass:W,focusRef:this.focusRef,currentUser:x,handleOnSubmit:M,onCSVImport:w,handleCSVImport:C,renderInputForm:E,renderSubmitBtn:S,showImportCSV:A,isInviteLinkEnabled:y,growthActSmbMWInvitesActive:L}),a.default.createElement(v.InviteModalMemberList,{baseClass:W,currentUserId:D,teamId:B,teamName:N,tieredAdmin:i,memberList:l,memberActionsData:d,handleOnClose:I,loggingExtras:k,growthActSmbMWInvitesActive:L,showMemberInviteDisclaimer:T}),T&&a.default.createElement("div",{className:W+"__member-invite-disclaimer"},a.default.createElement(g.MemberInviteDisclosure,{role:O}))),u&&a.default.createElement(b.InviteModalSidebar,{baseClass:W,memberList:l,emails:_,sentEmails:h}))))},t})(a.default.Component);t.FirstTaskInviteModalWithoutCss=h,t.FirstTaskInviteModal=d.requireCssWithComponent(h,["/static/css/dig-components/index.web-vfliFNMrU.css","/static/css/teams/admin/widgets/invite_modal/invite_modal_first_task-vflEeirPB.css"])}));
//# sourceMappingURL=invite_modal_first_task.min.js-vflk3m2bU.map